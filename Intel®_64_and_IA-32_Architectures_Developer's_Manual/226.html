<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p226" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_226{left:69px;bottom:68px;letter-spacing:0.11px;}
#t2_226{left:103px;bottom:68px;letter-spacing:0.09px;}
#t3_226{left:69px;bottom:1141px;letter-spacing:-0.15px;word-spacing:0.01px;}
#t4_226{left:69px;bottom:1088px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t5_226{left:672px;bottom:1088px;letter-spacing:-0.14px;word-spacing:-0.44px;}
#t6_226{left:69px;bottom:1071px;}
#t7_226{left:75px;bottom:1071px;letter-spacing:-0.15px;}
#t8_226{left:99px;bottom:1071px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t9_226{left:266px;bottom:1071px;}
#ta_226{left:275px;bottom:1071px;letter-spacing:-0.11px;word-spacing:-0.41px;}
#tb_226{left:306px;bottom:1071px;}
#tc_226{left:310px;bottom:1071px;}
#td_226{left:317px;bottom:1071px;}
#te_226{left:325px;bottom:1071px;letter-spacing:-0.13px;word-spacing:-0.51px;}
#tf_226{left:365px;bottom:1071px;}
#tg_226{left:373px;bottom:1071px;}
#th_226{left:379px;bottom:1071px;}
#ti_226{left:387px;bottom:1071px;letter-spacing:-0.14px;word-spacing:-0.5px;}
#tj_226{left:69px;bottom:1054px;letter-spacing:-0.17px;word-spacing:-0.44px;}
#tk_226{left:69px;bottom:960px;letter-spacing:-0.16px;}
#tl_226{left:115px;bottom:960px;}
#tm_226{left:128px;bottom:960px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#tn_226{left:69px;bottom:883px;letter-spacing:0.08px;word-spacing:-1.11px;}
#to_226{left:69px;bottom:866px;letter-spacing:-0.13px;word-spacing:-0.51px;}
#tp_226{left:69px;bottom:849px;letter-spacing:-0.14px;word-spacing:-1.22px;}
#tq_226{left:69px;bottom:832px;letter-spacing:-0.13px;}
#tr_226{left:69px;bottom:808px;letter-spacing:-0.18px;word-spacing:-0.45px;}
#ts_226{left:69px;bottom:791px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tt_226{left:69px;bottom:774px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#tu_226{left:69px;bottom:757px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tv_226{left:291px;bottom:757px;}
#tw_226{left:302px;bottom:757px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#tx_226{left:69px;bottom:741px;letter-spacing:-0.17px;word-spacing:-0.47px;}
#ty_226{left:424px;bottom:741px;}
#tz_226{left:436px;bottom:741px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t10_226{left:69px;bottom:724px;letter-spacing:-0.11px;}
#t11_226{left:69px;bottom:699px;letter-spacing:-0.16px;word-spacing:-0.58px;}
#t12_226{left:69px;bottom:683px;letter-spacing:-0.13px;word-spacing:-0.5px;}
#t13_226{left:69px;bottom:666px;letter-spacing:-0.14px;word-spacing:-0.52px;}
#t14_226{left:69px;bottom:641px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t15_226{left:69px;bottom:624px;letter-spacing:-0.14px;word-spacing:-0.99px;}
#t16_226{left:772px;bottom:624px;}
#t17_226{left:783px;bottom:624px;letter-spacing:-0.11px;word-spacing:-0.98px;}
#t18_226{left:69px;bottom:608px;letter-spacing:-0.14px;word-spacing:-0.5px;}
#t19_226{left:279px;bottom:608px;}
#t1a_226{left:287px;bottom:608px;letter-spacing:-0.18px;word-spacing:-0.44px;}
#t1b_226{left:69px;bottom:583px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1c_226{left:69px;bottom:566px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t1d_226{left:69px;bottom:550px;letter-spacing:-0.14px;word-spacing:-0.82px;}
#t1e_226{left:69px;bottom:533px;letter-spacing:-0.16px;word-spacing:-0.44px;}
#t1f_226{left:69px;bottom:516px;letter-spacing:-0.14px;word-spacing:-0.65px;}
#t1g_226{left:69px;bottom:499px;letter-spacing:-0.17px;word-spacing:-0.44px;}
#t1h_226{left:69px;bottom:473px;}
#t1i_226{left:95px;bottom:476px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t1j_226{left:268px;bottom:476px;}
#t1k_226{left:280px;bottom:476px;letter-spacing:-0.13px;word-spacing:-0.43px;}
#t1l_226{left:69px;bottom:450px;}
#t1m_226{left:95px;bottom:453px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t1n_226{left:203px;bottom:453px;}
#t1o_226{left:210px;bottom:453px;letter-spacing:-0.1px;word-spacing:-0.52px;}
#t1p_226{left:252px;bottom:453px;}
#t1q_226{left:260px;bottom:453px;letter-spacing:-0.16px;word-spacing:-0.4px;}
#t1r_226{left:69px;bottom:427px;}
#t1s_226{left:95px;bottom:430px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t1t_226{left:268px;bottom:430px;}
#t1u_226{left:276px;bottom:430px;letter-spacing:-0.17px;word-spacing:-0.46px;}
#t1v_226{left:69px;bottom:406px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t1w_226{left:69px;bottom:389px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1x_226{left:206px;bottom:389px;}
#t1y_226{left:218px;bottom:389px;letter-spacing:-0.16px;word-spacing:-0.44px;}
#t1z_226{left:69px;bottom:365px;letter-spacing:-0.14px;word-spacing:-0.49px;}
#t20_226{left:69px;bottom:348px;letter-spacing:-0.18px;word-spacing:-0.42px;}
#t21_226{left:69px;bottom:331px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t22_226{left:69px;bottom:314px;letter-spacing:-0.15px;word-spacing:-0.51px;}
#t23_226{left:121px;bottom:314px;}
#t24_226{left:129px;bottom:314px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#t25_226{left:386px;bottom:314px;}
#t26_226{left:394px;bottom:314px;letter-spacing:-0.18px;word-spacing:-0.44px;}
#t27_226{left:69px;bottom:290px;letter-spacing:-0.16px;word-spacing:-0.5px;}
#t28_226{left:69px;bottom:273px;letter-spacing:-0.13px;word-spacing:-1.06px;}
#t29_226{left:674px;bottom:273px;}
#t2a_226{left:682px;bottom:273px;letter-spacing:-0.13px;word-spacing:-1.11px;}
#t2b_226{left:69px;bottom:256px;letter-spacing:-0.35px;word-spacing:-0.25px;}
#t2c_226{left:135px;bottom:256px;}
#t2d_226{left:142px;bottom:256px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t2e_226{left:69px;bottom:239px;letter-spacing:-0.14px;word-spacing:-0.44px;}
#t2f_226{left:69px;bottom:215px;letter-spacing:-0.14px;word-spacing:-0.63px;}
#t2g_226{left:69px;bottom:198px;letter-spacing:-0.12px;word-spacing:-0.53px;}
#t2h_226{left:118px;bottom:198px;}
#t2i_226{left:126px;bottom:198px;letter-spacing:-0.18px;word-spacing:-0.45px;}
#t2j_226{left:358px;bottom:198px;}
#t2k_226{left:366px;bottom:198px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#t2l_226{left:69px;bottom:181px;letter-spacing:-0.14px;word-spacing:-1.12px;}
#t2m_226{left:69px;bottom:165px;letter-spacing:-0.13px;word-spacing:-0.52px;}
#t2n_226{left:69px;bottom:140px;letter-spacing:-0.19px;word-spacing:-0.41px;}
#t2o_226{left:76px;bottom:1018px;letter-spacing:1.02px;}
#t2p_226{left:141px;bottom:1024px;letter-spacing:7.27px;}
#t2q_226{left:146px;bottom:1024px;letter-spacing:9.19px;}
#t2r_226{left:181px;bottom:1024px;letter-spacing:7.28px;}
#t2s_226{left:191px;bottom:1024px;letter-spacing:9.09px;}
#t2t_226{left:169px;bottom:1024px;}
#t2u_226{left:156px;bottom:998px;}
#t2v_226{left:165px;bottom:1009px;}
#t2w_226{left:182px;bottom:1009px;letter-spacing:0.14px;}
#t2x_226{left:173px;bottom:1009px;}
#t2y_226{left:141px;bottom:1016px;letter-spacing:-2.48px;}
#t2z_226{left:119px;bottom:1018px;}
#t30_226{left:70px;bottom:921px;}
#t31_226{left:94px;bottom:921px;}
#t32_226{left:110px;bottom:931px;}
#t33_226{left:102px;bottom:931px;}
#t34_226{left:118px;bottom:921px;letter-spacing:7.17px;}
#t35_226{left:123px;bottom:921px;letter-spacing:9.92px;}
#t36_226{left:159px;bottom:921px;letter-spacing:0.17px;}
#t37_226{left:147px;bottom:921px;}
#t38_226{left:82px;bottom:921px;}

.s1_226{font-size:12px;font-family:NeoSansIntel_6wv3;color:#000;}
.s2_226{font-size:14px;font-family:NeoSansIntel_6wv3;color:#0860A8;}
.s3_226{font-size:14px;font-family:Verdana_b5t;color:#000;}
.s4_226{font-size:14px;font-family:Verdana-Bold_b5u;color:#000;}
.s5_226{font-size:14px;font-family:Verdana-Italic_b5x;color:#000;}
.s6_226{font-size:14px;font-family:Symbol_b5z;color:#000;}
.s7_226{font-size:21px;font-family:TimesNewRoman_b5y;color:#000;}
.s8_226{font-size:15px;font-family:TimesNewRoman-Italic_ib;color:#000;}
.s9_226{font-size:15px;font-family:Symbol_b5z;color:#000;}
.sa_226{font-size:15px;font-family:TimesNewRoman_b5y;color:#000;}
.sb_226{font-size:12px;font-family:TimesNewRoman-Italic_ib;color:#000;}
.sc_226{font-size:12px;font-family:TimesNewRoman_b5y;color:#000;}
.sd_226{font-size:14px;font-family:TimesNewRoman_b5y;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts226" type="text/css" >

@font-face {
	font-family: NeoSansIntel_6wv3;
	src: url("fonts/NeoSansIntel_6wv3.woff") format("woff");
}

@font-face {
	font-family: Symbol_b5z;
	src: url("fonts/Symbol_b5z.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Italic_ib;
	src: url("fonts/TimesNewRoman-Italic_ib.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_b5y;
	src: url("fonts/TimesNewRoman_b5y.woff") format("woff");
}

@font-face {
	font-family: Verdana-Bold_b5u;
	src: url("fonts/Verdana-Bold_b5u.woff") format("woff");
}

@font-face {
	font-family: Verdana-Italic_b5x;
	src: url("fonts/Verdana-Italic_b5x.woff") format("woff");
}

@font-face {
	font-family: Verdana_b5t;
	src: url("fonts/Verdana_b5t.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg226Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg226" style="-webkit-user-select: none;"><object width="935" height="1210" data="226/226.svg" type="image/svg+xml" id="pdf226" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_226" class="t s1_226">8-22 </span><span id="t2_226" class="t s1_226">Vol. 1 </span>
<span id="t3_226" class="t s2_226">PROGRAMMING WITH THE X87 FPU </span>
<span id="t4_226" class="t s3_226">and x87 math coprocessors. The accuracy of these instructions is measured in terms of </span><span id="t5_226" class="t s4_226">units in the last place </span>
<span id="t6_226" class="t s3_226">(</span><span id="t7_226" class="t s4_226">ulp</span><span id="t8_226" class="t s3_226">). For a given argument </span><span id="t9_226" class="t s5_226">x</span><span id="ta_226" class="t s3_226">, let </span><span id="tb_226" class="t s5_226">f</span><span id="tc_226" class="t s3_226">(</span><span id="td_226" class="t s5_226">x</span><span id="te_226" class="t s3_226">) and </span><span id="tf_226" class="t s5_226">F</span><span id="tg_226" class="t s3_226">(</span><span id="th_226" class="t s5_226">x</span><span id="ti_226" class="t s3_226">) be the correct and computed (approximate) function values, </span>
<span id="tj_226" class="t s3_226">respectively. The error in ulps is defined to be: </span>
<span id="tk_226" class="t s3_226">where </span><span id="tl_226" class="t s5_226">k </span><span id="tm_226" class="t s3_226">is an integer such that: </span>
<span id="tn_226" class="t s3_226">With the Pentium processor and later IA-32 processors, the worst case error on transcendental functions is less </span>
<span id="to_226" class="t s3_226">than 1 ulp when rounding to the nearest (even) and less than 1.5 ulps when rounding in other modes. The func- </span>
<span id="tp_226" class="t s3_226">tions are guaranteed to be monotonic, with respect to the input operands, throughout the domain supported by the </span>
<span id="tq_226" class="t s3_226">instruction. </span>
<span id="tr_226" class="t s3_226">However, for FSIN, FCOS, FSINCOS, and FPTAN which approximate periodic trigonometric functions, the previous </span>
<span id="ts_226" class="t s3_226">statement about maximum ulp errors is true only when these instructions are applied to reduced argument (see </span>
<span id="tt_226" class="t s3_226">Section 8.3.8, “Approximation of Pi”). This is due to the fact that only 66 significant bits are retained in the finite </span>
<span id="tu_226" class="t s3_226">approximation Pi of the number </span><span id="tv_226" class="t s6_226">π </span><span id="tw_226" class="t s3_226">(3.1415926…), used internally for calculating the reduced argument in FSIN, </span>
<span id="tx_226" class="t s3_226">FCOS, FSINCOS, and FPTAN. This approximation of </span><span id="ty_226" class="t s6_226">π </span><span id="tz_226" class="t s3_226">is not always sufficiently accurate for good argument reduc- </span>
<span id="t10_226" class="t s3_226">tion. </span>
<span id="t11_226" class="t s3_226">For single precision, the argument of FSIN, FCOS, FSINCOS, and FPTAN must exceed 200,000 radians in order for </span>
<span id="t12_226" class="t s3_226">the error of the result to exceed 1 ulp when rounding to the nearest (even), or 1.5 ulps when rounding in other </span>
<span id="t13_226" class="t s3_226">(directed) rounding modes. </span>
<span id="t14_226" class="t s3_226">For double and double-extended precision, the ulp errors will grow above these thresholds for arguments much </span>
<span id="t15_226" class="t s3_226">smaller in magnitude. The ulp errors increase significantly when the argument approaches the value of </span><span id="t16_226" class="t s6_226">π </span><span id="t17_226" class="t s3_226">(or Pi) for </span>
<span id="t18_226" class="t s3_226">FSIN, and when it approaches </span><span id="t19_226" class="t s6_226">π</span><span id="t1a_226" class="t s3_226">/2(or Pi/2) for FCOS, FSINCOS, and FPTAN. </span>
<span id="t1b_226" class="t s3_226">For all three IEEE precisions supported (32-bit single precision, 64-bit double precision, and 80-bit double- </span>
<span id="t1c_226" class="t s3_226">extended precision), applying FSIN, FCOS, FSINCOS, or FPTAN to arguments larger than a certain value can lead </span>
<span id="t1d_226" class="t s3_226">to reduced arguments (calculated internally) that are inaccurate or even very inaccurate in some cases. This leads </span>
<span id="t1e_226" class="t s3_226">to equally inaccurate approximations of the corresponding mathematical functions. In particular, arguments that </span>
<span id="t1f_226" class="t s3_226">are close to certain values will lose significance when reduced, leading to increased relative (and ulp) errors in the </span>
<span id="t1g_226" class="t s3_226">results of FSIN, FCOS, FSINCOS, and FPTAN. These values are: </span>
<span id="t1h_226" class="t s7_226">• </span><span id="t1i_226" class="t s3_226">Any non-zero multiple of </span><span id="t1j_226" class="t s6_226">π </span><span id="t1k_226" class="t s3_226">for FSIN. </span>
<span id="t1l_226" class="t s7_226">• </span><span id="t1m_226" class="t s3_226">Any multiple of </span><span id="t1n_226" class="t s6_226">π</span><span id="t1o_226" class="t s3_226">, plus </span><span id="t1p_226" class="t s6_226">π</span><span id="t1q_226" class="t s3_226">/2 for FCOS. </span>
<span id="t1r_226" class="t s7_226">• </span><span id="t1s_226" class="t s3_226">Any non-zero multiple of </span><span id="t1t_226" class="t s6_226">π</span><span id="t1u_226" class="t s3_226">/2 for FSINCOS and FPTAN. </span>
<span id="t1v_226" class="t s3_226">If the arguments passed to FSIN, FCOS, FSINCOS, and FPTAN are not close to these values then even the finite </span>
<span id="t1w_226" class="t s3_226">approximation Pi of </span><span id="t1x_226" class="t s6_226">π </span><span id="t1y_226" class="t s3_226">used internally for argument reduction will allow for results that have good accuracy. </span>
<span id="t1z_226" class="t s3_226">Therefore, in order to avoid such errors it is recommended to perform accurate argument reduction in software, </span>
<span id="t20_226" class="t s3_226">and to apply FSIN, FCOS, FSINCOS, and FPTAN to reduced arguments only. Regardless of the target precision </span>
<span id="t21_226" class="t s3_226">(single, double, or double-extended), it is safe to reduce the argument to a value smaller in absolute value than </span>
<span id="t22_226" class="t s3_226">about 3</span><span id="t23_226" class="t s6_226">π</span><span id="t24_226" class="t s3_226">/4 for FSIN, and smaller than about 3</span><span id="t25_226" class="t s6_226">π</span><span id="t26_226" class="t s3_226">/8 for FCOS, FSINCOS, and FPTAN. </span>
<span id="t27_226" class="t s3_226">The thresholds shown above are not exact. For example, accuracy measurements show that the double-extended </span>
<span id="t28_226" class="t s3_226">precision result of FSIN will not have errors larger than 0.72 ulp for |x| &lt; 2.82 (so |x| &lt; 3</span><span id="t29_226" class="t s6_226">π</span><span id="t2a_226" class="t s3_226">/4 will ensure good accu- </span>
<span id="t2b_226" class="t s3_226">racy, as 3</span><span id="t2c_226" class="t s6_226">π</span><span id="t2d_226" class="t s3_226">/4 &lt; 2.82). On the same interval, double precision results from FSIN will have errors at most slightly </span>
<span id="t2e_226" class="t s3_226">larger than 0.5 ulp, and single precision results will be correctly rounded in the vast majority of cases. </span>
<span id="t2f_226" class="t s3_226">Likewise, the double-extended precision result of FCOS will not have errors larger than 0.82 ulp for |x| &lt; 1.31 (so </span>
<span id="t2g_226" class="t s3_226">|x| &lt; 3</span><span id="t2h_226" class="t s6_226">π</span><span id="t2i_226" class="t s3_226">/8 will ensure good accuracy, as 3</span><span id="t2j_226" class="t s6_226">π</span><span id="t2k_226" class="t s3_226">/8 &lt; 1.31). On the same interval, double precision results from FCOS </span>
<span id="t2l_226" class="t s3_226">will have errors at most slightly larger than 0.5 ulp, and single precision results will be correctly rounded in the vast </span>
<span id="t2m_226" class="t s3_226">majority of cases. </span>
<span id="t2n_226" class="t s3_226">FSINCOS behaves similarly to FSIN and FCOS, combined as a pair. </span>
<span id="t2o_226" class="t s8_226">error </span>
<span id="t2p_226" class="t s8_226">fx </span><span id="t2q_226" class="t s9_226">() </span><span id="t2r_226" class="t s8_226">Fx </span><span id="t2s_226" class="t s9_226">() </span><span id="t2t_226" class="t sa_226">– </span>
<span id="t2u_226" class="t s8_226">2 </span>
<span id="t2v_226" class="t sb_226">k </span><span id="t2w_226" class="t sb_226">63 </span><span id="t2x_226" class="t sc_226">– </span>
<span id="t2y_226" class="t s8_226">-------------------------- </span>
<span id="t2z_226" class="t s8_226">= </span>
<span id="t30_226" class="t sa_226">1 </span><span id="t31_226" class="t sa_226">2 </span>
<span id="t32_226" class="t sd_226">k </span><span id="t33_226" class="t sd_226">– </span>
<span id="t34_226" class="t sa_226">fx </span><span id="t35_226" class="t s9_226">() </span><span id="t36_226" class="t sa_226">2. </span><span id="t37_226" class="t s9_226">&lt; </span><span id="t38_226" class="t s9_226">≤ </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
