<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p3636" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_3636{left:69px;bottom:68px;letter-spacing:0.11px;}
#t2_3636{left:103px;bottom:68px;letter-spacing:0.09px;}
#t3_3636{left:69px;bottom:1141px;letter-spacing:-0.13px;}
#t4_3636{left:69px;bottom:1083px;letter-spacing:0.15px;}
#t5_3636{left:151px;bottom:1083px;letter-spacing:0.15px;word-spacing:0.01px;}
#t6_3636{left:69px;bottom:1059px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t7_3636{left:69px;bottom:1042px;letter-spacing:-0.15px;}
#t8_3636{left:117px;bottom:1042px;letter-spacing:-0.14px;word-spacing:-0.93px;}
#t9_3636{left:69px;bottom:1025px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#ta_3636{left:69px;bottom:966px;letter-spacing:0.14px;}
#tb_3636{left:151px;bottom:966px;letter-spacing:0.16px;}
#tc_3636{left:69px;bottom:943px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#td_3636{left:69px;bottom:926px;letter-spacing:-0.15px;word-spacing:-0.64px;}
#te_3636{left:69px;bottom:909px;letter-spacing:-0.13px;word-spacing:-0.69px;}
#tf_3636{left:69px;bottom:892px;letter-spacing:-0.16px;word-spacing:-0.47px;}
#tg_3636{left:69px;bottom:834px;letter-spacing:0.13px;}
#th_3636{left:151px;bottom:834px;letter-spacing:0.15px;word-spacing:0.01px;}
#ti_3636{left:69px;bottom:810px;letter-spacing:-0.14px;word-spacing:-0.59px;}
#tj_3636{left:69px;bottom:793px;letter-spacing:-0.14px;word-spacing:-0.57px;}
#tk_3636{left:69px;bottom:776px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#tl_3636{left:69px;bottom:750px;}
#tm_3636{left:95px;bottom:753px;letter-spacing:-0.14px;word-spacing:-0.92px;}
#tn_3636{left:656px;bottom:753px;letter-spacing:-0.13px;word-spacing:-0.91px;}
#to_3636{left:95px;bottom:736px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tp_3636{left:95px;bottom:719px;letter-spacing:-0.14px;word-spacing:-1.33px;}
#tq_3636{left:439px;bottom:719px;}
#tr_3636{left:447px;bottom:719px;letter-spacing:-0.12px;word-spacing:-1.36px;}
#ts_3636{left:514px;bottom:719px;}
#tt_3636{left:526px;bottom:719px;letter-spacing:-0.14px;word-spacing:-1.28px;}
#tu_3636{left:95px;bottom:703px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#tv_3636{left:95px;bottom:686px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tw_3636{left:69px;bottom:660px;}
#tx_3636{left:95px;bottom:663px;letter-spacing:-0.14px;word-spacing:-0.87px;}
#ty_3636{left:398px;bottom:663px;letter-spacing:-0.13px;word-spacing:-0.88px;}
#tz_3636{left:512px;bottom:663px;letter-spacing:-0.15px;}
#t10_3636{left:550px;bottom:663px;letter-spacing:-0.14px;word-spacing:-0.87px;}
#t11_3636{left:95px;bottom:646px;letter-spacing:-0.14px;word-spacing:-0.85px;}
#t12_3636{left:95px;bottom:629px;letter-spacing:-0.17px;word-spacing:-0.43px;}
#t13_3636{left:95px;bottom:613px;letter-spacing:-0.14px;word-spacing:-0.89px;}
#t14_3636{left:95px;bottom:596px;letter-spacing:-0.14px;word-spacing:-0.7px;}
#t15_3636{left:95px;bottom:579px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t16_3636{left:69px;bottom:553px;}
#t17_3636{left:95px;bottom:556px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#t18_3636{left:494px;bottom:556px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t19_3636{left:95px;bottom:539px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1a_3636{left:95px;bottom:522px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1b_3636{left:95px;bottom:506px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t1c_3636{left:69px;bottom:479px;}
#t1d_3636{left:95px;bottom:483px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#t1e_3636{left:337px;bottom:483px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1f_3636{left:95px;bottom:466px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t1g_3636{left:95px;bottom:449px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t1h_3636{left:69px;bottom:423px;}
#t1i_3636{left:95px;bottom:426px;letter-spacing:-0.15px;word-spacing:-0.48px;}
#t1j_3636{left:340px;bottom:426px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t1k_3636{left:95px;bottom:409px;letter-spacing:-0.17px;word-spacing:-0.42px;}
#t1l_3636{left:95px;bottom:393px;letter-spacing:-0.14px;word-spacing:-1.17px;}
#t1m_3636{left:95px;bottom:376px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#t1n_3636{left:69px;bottom:349px;}
#t1o_3636{left:95px;bottom:353px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t1p_3636{left:497px;bottom:353px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1q_3636{left:629px;bottom:353px;letter-spacing:-0.15px;}
#t1r_3636{left:667px;bottom:353px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t1s_3636{left:95px;bottom:336px;letter-spacing:-0.16px;word-spacing:-0.44px;}
#t1t_3636{left:95px;bottom:319px;letter-spacing:-0.14px;word-spacing:-0.49px;}
#t1u_3636{left:95px;bottom:302px;letter-spacing:-0.15px;word-spacing:-0.62px;}
#t1v_3636{left:95px;bottom:286px;letter-spacing:-0.16px;word-spacing:-0.42px;}
#t1w_3636{left:69px;bottom:261px;letter-spacing:-0.14px;word-spacing:-0.58px;}
#t1x_3636{left:69px;bottom:244px;letter-spacing:-0.18px;word-spacing:-0.42px;}
#t1y_3636{left:69px;bottom:228px;letter-spacing:-0.14px;word-spacing:-0.41px;}
#t1z_3636{left:69px;bottom:169px;letter-spacing:0.14px;}
#t20_3636{left:151px;bottom:169px;letter-spacing:0.15px;}
#t21_3636{left:69px;bottom:145px;letter-spacing:-0.14px;word-spacing:-1.34px;}
#t22_3636{left:805px;bottom:145px;letter-spacing:-0.12px;}
#t23_3636{left:69px;bottom:128px;letter-spacing:-0.13px;word-spacing:-0.46px;}

.s1_3636{font-size:12px;font-family:NeoSansIntel_6wv3;color:#000;}
.s2_3636{font-size:14px;font-family:NeoSansIntel_6wv3;color:#0860A8;}
.s3_3636{font-size:18px;font-family:NeoSansIntelMedium_6wv2;color:#0860A8;}
.s4_3636{font-size:14px;font-family:Verdana_b5t;color:#000;}
.s5_3636{font-size:21px;font-family:TimesNewRoman_b5y;color:#000;}
.s6_3636{font-size:14px;font-family:Verdana-Bold_b5u;color:#000;}
.s7_3636{font-size:14px;font-family:Verdana-Italic_b5x;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts3636" type="text/css" >

@font-face {
	font-family: NeoSansIntelMedium_6wv2;
	src: url("fonts/NeoSansIntelMedium_6wv2.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_6wv3;
	src: url("fonts/NeoSansIntel_6wv3.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_b5y;
	src: url("fonts/TimesNewRoman_b5y.woff") format("woff");
}

@font-face {
	font-family: Verdana-Bold_b5u;
	src: url("fonts/Verdana-Bold_b5u.woff") format("woff");
}

@font-face {
	font-family: Verdana-Italic_b5x;
	src: url("fonts/Verdana-Italic_b5x.woff") format("woff");
}

@font-face {
	font-family: Verdana_b5t;
	src: url("fonts/Verdana_b5t.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg3636Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg3636" style="-webkit-user-select: none;"><object width="935" height="1210" data="3636/3636.svg" type="image/svg+xml" id="pdf3636" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_3636" class="t s1_3636">18-4 </span><span id="t2_3636" class="t s1_3636">Vol. 3B </span>
<span id="t3_3636" class="t s2_3636">DEBUG, BRANCH PROFILE, TSC, AND INTEL® RESOURCE DIRECTOR TECHNOLOGY (INTEL® RDT) FEATURES </span>
<span id="t4_3636" class="t s3_3636">18.2.1 </span><span id="t5_3636" class="t s3_3636">Debug Address Registers (DR0-DR3) </span>
<span id="t6_3636" class="t s4_3636">Each of the debug-address registers (DR0 through DR3) holds the 32-bit linear address of a breakpoint (see </span>
<span id="t7_3636" class="t s4_3636">Figure </span><span id="t8_3636" class="t s4_3636">18-1). Breakpoint comparisons are made before physical address translation occurs. The contents of debug </span>
<span id="t9_3636" class="t s4_3636">register DR7 further specifies breakpoint conditions. </span>
<span id="ta_3636" class="t s3_3636">18.2.2 </span><span id="tb_3636" class="t s3_3636">Debug Registers DR4 and DR5 </span>
<span id="tc_3636" class="t s4_3636">Debug registers DR4 and DR5 are reserved when debug extensions are enabled (when the DE flag in control </span>
<span id="td_3636" class="t s4_3636">register CR4 is set) and attempts to reference the DR4 and DR5 registers cause invalid-opcode exceptions (#UD). </span>
<span id="te_3636" class="t s4_3636">When debug extensions are not enabled (when the DE flag is clear), these registers are aliased to debug registers </span>
<span id="tf_3636" class="t s4_3636">DR6 and DR7. </span>
<span id="tg_3636" class="t s3_3636">18.2.3 </span><span id="th_3636" class="t s3_3636">Debug Status Register (DR6) </span>
<span id="ti_3636" class="t s4_3636">The debug status register (DR6) reports debug conditions that were sampled at the time the last debug exception </span>
<span id="tj_3636" class="t s4_3636">was generated (see Figure 18-1). Updates to this register only occur when an exception is generated. The flags in </span>
<span id="tk_3636" class="t s4_3636">this register show the following information: </span>
<span id="tl_3636" class="t s5_3636">• </span><span id="tm_3636" class="t s6_3636">B0 through B3 (breakpoint condition detected) flags (bits 0 through 3) — </span><span id="tn_3636" class="t s4_3636">Indicates (when set) that its </span>
<span id="to_3636" class="t s4_3636">associated breakpoint condition was met when a debug exception was generated. These flags are set if the </span>
<span id="tp_3636" class="t s4_3636">condition described for each breakpoint by the LEN</span><span id="tq_3636" class="t s7_3636">n</span><span id="tr_3636" class="t s4_3636">, and R/W</span><span id="ts_3636" class="t s7_3636">n </span><span id="tt_3636" class="t s4_3636">flags in debug control register DR7 is true. They </span>
<span id="tu_3636" class="t s4_3636">may or may not be set if the breakpoint is not enabled by the Ln or the Gn flags in register DR7. Therefore on </span>
<span id="tv_3636" class="t s4_3636">a #DB, a debug handler should check only those B0-B3 bits which correspond to an enabled breakpoint. </span>
<span id="tw_3636" class="t s5_3636">• </span><span id="tx_3636" class="t s6_3636">BLD (bus-lock detected) flag (bit 11) — </span><span id="ty_3636" class="t s4_3636">Indicates (when </span><span id="tz_3636" class="t s6_3636">clear</span><span id="t10_3636" class="t s4_3636">) that the debug exception was triggered by </span>
<span id="t11_3636" class="t s4_3636">the assertion of a bus lock when CPL &gt; 0 and OS bus-lock detection was enabled (see Section 18.3.1.6). Other </span>
<span id="t12_3636" class="t s4_3636">debug exceptions do not modify this bit. To avoid confusion in identifying debug exceptions, software debug- </span>
<span id="t13_3636" class="t s4_3636">exception handlers should set bit 11 to 1 before returning. (Software that never enables OS bus-lock detection </span>
<span id="t14_3636" class="t s4_3636">need not do this as DR6[11] = 1 following reset.) This bit is always 1 if the processor does not support OS bus- </span>
<span id="t15_3636" class="t s4_3636">lock detection. </span>
<span id="t16_3636" class="t s5_3636">• </span><span id="t17_3636" class="t s6_3636">BD (debug register access detected) flag (bit 13) — </span><span id="t18_3636" class="t s4_3636">Indicates that the next instruction in the instruction </span>
<span id="t19_3636" class="t s4_3636">stream accesses one of the debug registers (DR0 through DR7). This flag is enabled when the GD (general </span>
<span id="t1a_3636" class="t s4_3636">detect) flag in debug control register DR7 is set. See Section 18.2.4, “Debug Control Register (DR7),” for </span>
<span id="t1b_3636" class="t s4_3636">further explanation of the purpose of this flag. </span>
<span id="t1c_3636" class="t s5_3636">• </span><span id="t1d_3636" class="t s6_3636">BS (single step) flag (bit 14) — </span><span id="t1e_3636" class="t s4_3636">Indicates (when set) that the debug exception was triggered by the single- </span>
<span id="t1f_3636" class="t s4_3636">step execution mode (enabled with the TF flag in the EFLAGS register). The single-step mode is the highest- </span>
<span id="t1g_3636" class="t s4_3636">priority debug exception. When the BS flag is set, any of the other debug status bits also may be set. </span>
<span id="t1h_3636" class="t s5_3636">• </span><span id="t1i_3636" class="t s6_3636">BT (task switch) flag (bit 15) — </span><span id="t1j_3636" class="t s4_3636">Indicates (when set) that the debug exception resulted from a task switch </span>
<span id="t1k_3636" class="t s4_3636">where the T flag (debug trap flag) in the TSS of the target task was set. See Section 8.2.1, “Task-State </span>
<span id="t1l_3636" class="t s4_3636">Segment (TSS),” for the format of a TSS. There is no flag in debug control register DR7 to enable or disable this </span>
<span id="t1m_3636" class="t s4_3636">exception; the T flag of the TSS is the only enabling flag. </span>
<span id="t1n_3636" class="t s5_3636">• </span><span id="t1o_3636" class="t s6_3636">RTM (restricted transactional memory) flag (bit 16) </span><span id="t1p_3636" class="t s4_3636">— Indicates (when </span><span id="t1q_3636" class="t s6_3636">clear</span><span id="t1r_3636" class="t s4_3636">) that a debug exception </span>
<span id="t1s_3636" class="t s4_3636">(#DB) or breakpoint exception (#BP) occurred inside an RTM region while advanced debugging of RTM trans- </span>
<span id="t1t_3636" class="t s4_3636">actional regions was enabled (see Section 18.3.3). This bit is set for any other debug exception (including all </span>
<span id="t1u_3636" class="t s4_3636">those that occur when advanced debugging of RTM transactional regions is not enabled). This bit is always 1 if </span>
<span id="t1v_3636" class="t s4_3636">the processor does not support RTM. </span>
<span id="t1w_3636" class="t s4_3636">Certain debug exceptions may clear bits 0-3. The remaining contents of the DR6 register are never cleared by the </span>
<span id="t1x_3636" class="t s4_3636">processor. To avoid confusion in identifying debug exceptions, debug handlers should clear the register (except </span>
<span id="t1y_3636" class="t s4_3636">bit 16, which they should set) before returning to the interrupted task. </span>
<span id="t1z_3636" class="t s3_3636">18.2.4 </span><span id="t20_3636" class="t s3_3636">Debug Control Register (DR7) </span>
<span id="t21_3636" class="t s4_3636">The debug control register (DR7) enables or disables breakpoints and sets breakpoint conditions (see Figure </span><span id="t22_3636" class="t s4_3636">18-1). </span>
<span id="t23_3636" class="t s4_3636">The flags and fields in this register control the following things: </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
