<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p3581" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_3581{left:775px;bottom:68px;letter-spacing:0.1px;}
#t2_3581{left:820px;bottom:68px;letter-spacing:0.12px;}
#t3_3581{left:662px;bottom:1141px;letter-spacing:-0.14px;word-spacing:-0.17px;}
#t4_3581{left:186px;bottom:1089px;letter-spacing:0.11px;}
#t5_3581{left:167px;bottom:1074px;letter-spacing:0.1px;}
#t6_3581{left:198px;bottom:1074px;letter-spacing:0.09px;}
#t7_3581{left:186px;bottom:1059px;letter-spacing:0.11px;}
#t8_3581{left:147px;bottom:1044px;letter-spacing:0.11px;word-spacing:-0.12px;}
#t9_3581{left:109px;bottom:1028px;letter-spacing:0.1px;word-spacing:-0.11px;}
#ta_3581{left:70px;bottom:1013px;letter-spacing:0.1px;}
#tb_3581{left:109px;bottom:998px;letter-spacing:0.11px;}
#tc_3581{left:109px;bottom:982px;letter-spacing:0.1px;}
#td_3581{left:128px;bottom:967px;letter-spacing:0.12px;}
#te_3581{left:147px;bottom:952px;letter-spacing:0.11px;}
#tf_3581{left:109px;bottom:937px;letter-spacing:0.07px;}
#tg_3581{left:109px;bottom:921px;letter-spacing:0.1px;}
#th_3581{left:128px;bottom:906px;letter-spacing:0.12px;}
#ti_3581{left:147px;bottom:891px;letter-spacing:0.11px;}
#tj_3581{left:109px;bottom:876px;letter-spacing:0.07px;}
#tk_3581{left:109px;bottom:860px;letter-spacing:0.11px;}
#tl_3581{left:128px;bottom:845px;letter-spacing:0.12px;}
#tm_3581{left:147px;bottom:830px;letter-spacing:0.1px;}
#tn_3581{left:147px;bottom:814px;letter-spacing:0.1px;word-spacing:-0.03px;}
#to_3581{left:167px;bottom:799px;letter-spacing:0.12px;}
#tp_3581{left:186px;bottom:784px;letter-spacing:0.1px;word-spacing:-0.03px;}
#tq_3581{left:147px;bottom:769px;letter-spacing:0.07px;}
#tr_3581{left:147px;bottom:753px;letter-spacing:0.11px;}
#ts_3581{left:167px;bottom:738px;letter-spacing:0.12px;}
#tt_3581{left:186px;bottom:723px;letter-spacing:0.1px;word-spacing:-0.03px;}
#tu_3581{left:147px;bottom:708px;letter-spacing:0.07px;}
#tv_3581{left:109px;bottom:692px;letter-spacing:0.07px;}
#tw_3581{left:109px;bottom:677px;letter-spacing:0.11px;}
#tx_3581{left:90px;bottom:662px;letter-spacing:0.11px;}
#ty_3581{left:70px;bottom:646px;letter-spacing:0.1px;}
#tz_3581{left:70px;bottom:631px;letter-spacing:0.11px;}
#t10_3581{left:70px;bottom:616px;letter-spacing:0.1px;}
#t11_3581{left:70px;bottom:566px;letter-spacing:-0.1px;}
#t12_3581{left:156px;bottom:566px;letter-spacing:-0.11px;word-spacing:0.02px;}
#t13_3581{left:70px;bottom:543px;letter-spacing:-0.17px;word-spacing:-0.46px;}
#t14_3581{left:70px;bottom:526px;letter-spacing:-0.19px;word-spacing:-0.4px;}
#t15_3581{left:70px;bottom:500px;}
#t16_3581{left:96px;bottom:503px;letter-spacing:-0.16px;word-spacing:-0.55px;}
#t17_3581{left:96px;bottom:487px;letter-spacing:-0.16px;word-spacing:-1.17px;}
#t18_3581{left:96px;bottom:470px;letter-spacing:-0.15px;word-spacing:-0.41px;}
#t19_3581{left:70px;bottom:443px;}
#t1a_3581{left:96px;bottom:447px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#t1b_3581{left:96px;bottom:430px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t1c_3581{left:70px;bottom:404px;}
#t1d_3581{left:96px;bottom:407px;letter-spacing:-0.14px;word-spacing:-1px;}
#t1e_3581{left:96px;bottom:390px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1f_3581{left:96px;bottom:373px;letter-spacing:-0.19px;word-spacing:-0.98px;}
#t1g_3581{left:96px;bottom:357px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t1h_3581{left:96px;bottom:340px;letter-spacing:-0.22px;word-spacing:-0.13px;}
#t1i_3581{left:70px;bottom:314px;}
#t1j_3581{left:96px;bottom:317px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1k_3581{left:96px;bottom:300px;letter-spacing:-0.15px;word-spacing:-0.88px;}
#t1l_3581{left:96px;bottom:283px;letter-spacing:-0.14px;word-spacing:-0.66px;}
#t1m_3581{left:96px;bottom:267px;letter-spacing:-0.16px;word-spacing:-0.46px;}
#t1n_3581{left:70px;bottom:244px;letter-spacing:-0.15px;word-spacing:-0.49px;}

.s1_3581{font-size:12px;font-family:NeoSansIntel_6wv3;color:#000;}
.s2_3581{font-size:14px;font-family:NeoSansIntel_6wv3;color:#0860A8;}
.s3_3581{font-size:17px;font-family:NeoSansIntelMedium_6wv2;color:#0860A8;}
.s4_3581{font-size:14px;font-family:Verdana_b5t;color:#000;}
.s5_3581{font-size:21px;font-family:TimesNewRoman_b5y;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts3581" type="text/css" >

@font-face {
	font-family: NeoSansIntelMedium_6wv2;
	src: url("fonts/NeoSansIntelMedium_6wv2.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_6wv3;
	src: url("fonts/NeoSansIntel_6wv3.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_b5y;
	src: url("fonts/TimesNewRoman_b5y.woff") format("woff");
}

@font-face {
	font-family: Verdana_b5t;
	src: url("fonts/Verdana_b5t.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg3581Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg3581" style="-webkit-user-select: none;"><object width="935" height="1210" data="3581/3581.svg" type="image/svg+xml" id="pdf3581" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_3581" class="t s1_3581">Vol. 3B </span><span id="t2_3581" class="t s1_3581">16-35 </span>
<span id="t3_3581" class="t s2_3581">MACHINE-CHECK ARCHITECTURE </span>
<span id="t4_3581" class="t s1_3581">GOTO LOG MCA REGISTER; </span>
<span id="t5_3581" class="t s1_3581">ELSE </span><span id="t6_3581" class="t s1_3581">(* It is a corrected error; continue to the next IA32_MCi_STATUS *) </span>
<span id="t7_3581" class="t s1_3581">GOTO CONTINUE; </span>
<span id="t8_3581" class="t s1_3581">FI; UC </span>
<span id="t9_3581" class="t s1_3581">FI; VAL </span>
<span id="ta_3581" class="t s1_3581">LOG MCA REGISTER: </span>
<span id="tb_3581" class="t s1_3581">SAVE IA32_MCi_STATUS; </span>
<span id="tc_3581" class="t s1_3581">If MISCV in IA32_MCi_STATUS </span>
<span id="td_3581" class="t s1_3581">THEN </span>
<span id="te_3581" class="t s1_3581">SAVE IA32_MCi_MISC; </span>
<span id="tf_3581" class="t s1_3581">FI; </span>
<span id="tg_3581" class="t s1_3581">IF ADDRV in IA32_MCi_STATUS </span>
<span id="th_3581" class="t s1_3581">THEN </span>
<span id="ti_3581" class="t s1_3581">SAVE IA32_MCi_ADDR; </span>
<span id="tj_3581" class="t s1_3581">FI; </span>
<span id="tk_3581" class="t s1_3581">IF CLEAR_MC_BANK = TRUE </span>
<span id="tl_3581" class="t s1_3581">THEN </span>
<span id="tm_3581" class="t s1_3581">SET all 0 to IA32_MCi_STATUS; </span>
<span id="tn_3581" class="t s1_3581">If MISCV in IA32_MCi_STATUS </span>
<span id="to_3581" class="t s1_3581">THEN </span>
<span id="tp_3581" class="t s1_3581">SET all 0 to IA32_MCi_MISC; </span>
<span id="tq_3581" class="t s1_3581">FI; </span>
<span id="tr_3581" class="t s1_3581">IF ADDRV in IA32_MCi_STATUS </span>
<span id="ts_3581" class="t s1_3581">THEN </span>
<span id="tt_3581" class="t s1_3581">SET all 0 to IA32_MCi_ADDR; </span>
<span id="tu_3581" class="t s1_3581">FI; </span>
<span id="tv_3581" class="t s1_3581">FI; </span>
<span id="tw_3581" class="t s1_3581">CONTINUE: </span>
<span id="tx_3581" class="t s1_3581">OD; </span>
<span id="ty_3581" class="t s1_3581">( *END FOR *) </span>
<span id="tz_3581" class="t s1_3581">RETURN; </span>
<span id="t10_3581" class="t s1_3581">(* End of MCA ERROR PROCESSING*) </span>
<span id="t11_3581" class="t s3_3581">16.10.4.2 </span><span id="t12_3581" class="t s3_3581">Corrected Machine-Check Handler for Error Recovery </span>
<span id="t13_3581" class="t s4_3581">When writing a corrected machine check handler, which is invoked as a result of CMCI or called from an OS CMC </span>
<span id="t14_3581" class="t s4_3581">Polling dispatcher, consider the following: </span>
<span id="t15_3581" class="t s5_3581">• </span><span id="t16_3581" class="t s4_3581">The VAL (valid) flag in each IA32_MCi_STATUS register indicates whether the error information in the register </span>
<span id="t17_3581" class="t s4_3581">is valid. If this flag is clear, the registers in that bank does not contain valid error information and does not need </span>
<span id="t18_3581" class="t s4_3581">to be checked. </span>
<span id="t19_3581" class="t s5_3581">• </span><span id="t1a_3581" class="t s4_3581">The CMCI or CMC polling handler is responsible for logging and clearing corrected errors. The UC flag in each </span>
<span id="t1b_3581" class="t s4_3581">IA32_MCi_Status register indicates whether the reported error was corrected (UC=0) or not (UC=1). </span>
<span id="t1c_3581" class="t s5_3581">• </span><span id="t1d_3581" class="t s4_3581">When IA32_MCG_CAP [24] is one, the CMC handler is also responsible for logging and clearing uncorrected no- </span>
<span id="t1e_3581" class="t s4_3581">action required (UCNA) errors. When the UC flag is one but the PCC, S, and AR flags are zero in the IA32_M- </span>
<span id="t1f_3581" class="t s4_3581">Ci_STATUS register, the reported error in this bank is an uncorrected no-action required (UCNA) error. In cases </span>
<span id="t1g_3581" class="t s4_3581">when SRAO error are signaled as UCNA error via CMCI, software can perform recovery for those errors </span>
<span id="t1h_3581" class="t s4_3581">identified in Table 16-16. </span>
<span id="t1i_3581" class="t s5_3581">• </span><span id="t1j_3581" class="t s4_3581">In addition to corrected errors and UCNA errors, the CMC handler optionally logs uncorrected (UC=1 and </span>
<span id="t1k_3581" class="t s4_3581">PCC=1), software recoverable machine check errors (UC=1, PCC=0 and S=1), but should avoid clearing those </span>
<span id="t1l_3581" class="t s4_3581">errors from the MC banks. Clearing these errors may result in accidentally removing these errors before these </span>
<span id="t1m_3581" class="t s4_3581">errors are actually handled and processed by the MCE handler for attempted software error recovery. </span>
<span id="t1n_3581" class="t s4_3581">Example 16-5 gives pseudocode for a CMCI handler with UCR support. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
