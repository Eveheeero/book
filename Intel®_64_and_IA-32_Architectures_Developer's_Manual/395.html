<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p395" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_395{left:782px;bottom:68px;letter-spacing:0.09px;word-spacing:-0.09px;}
#t2_395{left:820px;bottom:68px;letter-spacing:0.12px;}
#t3_395{left:628px;bottom:1141px;letter-spacing:-0.14px;}
#t4_395{left:70px;bottom:1088px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t5_395{left:70px;bottom:1071px;letter-spacing:-0.16px;word-spacing:-0.48px;}
#t6_395{left:70px;bottom:1048px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#t7_395{left:70px;bottom:1002px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#t8_395{left:70px;bottom:979px;letter-spacing:-0.16px;word-spacing:-0.83px;}
#t9_395{left:70px;bottom:956px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#ta_395{left:70px;bottom:910px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#tb_395{left:70px;bottom:888px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#tc_395{left:70px;bottom:842px;letter-spacing:-0.16px;word-spacing:-0.82px;}
#td_395{left:70px;bottom:819px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#te_395{left:70px;bottom:760px;letter-spacing:0.13px;}
#tf_395{left:152px;bottom:760px;letter-spacing:0.16px;word-spacing:0.01px;}
#tg_395{left:70px;bottom:738px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#th_395{left:70px;bottom:721px;letter-spacing:-0.14px;word-spacing:-0.5px;}
#ti_395{left:70px;bottom:704px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tj_395{left:70px;bottom:687px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tk_395{left:70px;bottom:664px;letter-spacing:-0.15px;word-spacing:-0.48px;}
#tl_395{left:70px;bottom:648px;letter-spacing:-0.14px;word-spacing:-0.66px;}
#tm_395{left:70px;bottom:631px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#tn_395{left:70px;bottom:614px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#to_395{left:70px;bottom:591px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#tp_395{left:70px;bottom:565px;}
#tq_395{left:96px;bottom:568px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#tr_395{left:70px;bottom:542px;}
#ts_395{left:96px;bottom:545px;letter-spacing:-0.15px;word-spacing:-0.48px;}
#tt_395{left:96px;bottom:529px;letter-spacing:-0.17px;word-spacing:-0.44px;}
#tu_395{left:70px;bottom:506px;letter-spacing:-0.19px;word-spacing:-0.39px;}
#tv_395{left:70px;bottom:483px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#tw_395{left:70px;bottom:460px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#tx_395{left:70px;bottom:443px;letter-spacing:-0.14px;word-spacing:-0.67px;}
#ty_395{left:70px;bottom:426px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#tz_395{left:70px;bottom:409px;letter-spacing:-0.13px;word-spacing:-0.51px;}
#t10_395{left:70px;bottom:386px;letter-spacing:-0.16px;word-spacing:-0.84px;}
#t11_395{left:70px;bottom:364px;letter-spacing:-0.14px;word-spacing:-0.79px;}
#t12_395{left:70px;bottom:347px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#t13_395{left:70px;bottom:330px;letter-spacing:-0.17px;}
#t14_395{left:70px;bottom:307px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t15_395{left:70px;bottom:290px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t16_395{left:70px;bottom:273px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t17_395{left:70px;bottom:205px;letter-spacing:0.17px;}
#t18_395{left:151px;bottom:205px;letter-spacing:0.21px;word-spacing:0.06px;}
#t19_395{left:70px;bottom:182px;letter-spacing:-0.16px;word-spacing:-0.48px;}
#t1a_395{left:70px;bottom:165px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#t1b_395{left:70px;bottom:139px;}
#t1c_395{left:96px;bottom:142px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#t1d_395{left:96px;bottom:125px;letter-spacing:-0.17px;word-spacing:-0.43px;}
#t1e_395{left:96px;bottom:108px;letter-spacing:-0.18px;word-spacing:-0.42px;}

.s1_395{font-size:12px;font-family:NeoSansIntel_6wv3;color:#000;}
.s2_395{font-size:14px;font-family:NeoSansIntel_6wv3;color:#0860A8;}
.s3_395{font-size:14px;font-family:Verdana_b5t;color:#000;}
.s4_395{font-size:14px;font-family:CourierNew_b62;color:#000;}
.s5_395{font-size:18px;font-family:NeoSansIntelMedium_6wv2;color:#0860A8;}
.s6_395{font-size:21px;font-family:TimesNewRoman_b5y;color:#000;}
.s7_395{font-size:21px;font-family:NeoSansIntelMedium_6wv2;color:#0860A8;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts395" type="text/css" >

@font-face {
	font-family: CourierNew_b62;
	src: url("fonts/CourierNew_b62.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntelMedium_6wv2;
	src: url("fonts/NeoSansIntelMedium_6wv2.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_6wv3;
	src: url("fonts/NeoSansIntel_6wv3.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_b5y;
	src: url("fonts/TimesNewRoman_b5y.woff") format("woff");
}

@font-face {
	font-family: Verdana_b5t;
	src: url("fonts/Verdana_b5t.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg395Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg395" style="-webkit-user-select: none;"><object width="935" height="1210" data="395/395.svg" type="image/svg+xml" id="pdf395" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_395" class="t s1_395">Vol. 1 </span><span id="t2_395" class="t s1_395">15-13 </span>
<span id="t3_395" class="t s2_395">PROGRAMMING WITH INTEL® AVX-512 </span>
<span id="t4_395" class="t s3_395">This would perform the single precision floating-point addition of vectors zmm2 and zmm4 with round-towards- </span>
<span id="t5_395" class="t s3_395">minus-infinity, leaving the result in vector zmm7 using k6 as conditional writemask. </span>
<span id="t6_395" class="t s3_395">Note that MXCSR.RM bits are ignored and unaffected by the outcome of this instruction. </span>
<span id="t7_395" class="t s3_395">Examples of instruction instances where the static rounding-mode is not allowed are shown below: </span>
<span id="t8_395" class="t s4_395">; rounding-mode already specified in the instruction immediate </span>
<span id="t9_395" class="t s4_395">vrndscaleps zmm7 {k6}, zmm2, 0x00 </span>
<span id="ta_395" class="t s4_395">; instructions with memory operands </span>
<span id="tb_395" class="t s4_395">vmulps zmm7 {k6}, zmm2,[rax], {rd-sae} </span>
<span id="tc_395" class="t s4_395">; instructions with vector length different than MAXVL (512-bit) </span>
<span id="td_395" class="t s4_395">vaddps ymm7 {k6}, ymm2, ymm4,{rd-sae} </span>
<span id="te_395" class="t s5_395">15.6.5 </span><span id="tf_395" class="t s5_395">Compressed Disp8*N Encoding </span>
<span id="tg_395" class="t s3_395">EVEX encoding supports a new displacement representation that allows for a more compact encoding of memory </span>
<span id="th_395" class="t s3_395">addressing commonly used in unrolled code, where an 8-bit displacement can address a range exceeding the </span>
<span id="ti_395" class="t s3_395">dynamic range of an 8-bit value. This compressed displacement encoding is referred to as disp8*N, where N is a </span>
<span id="tj_395" class="t s3_395">constant implied by the memory operation characteristic of each instruction. </span>
<span id="tk_395" class="t s3_395">The compressed displacement is based on the assumption that the effective displacement (of a memory operand </span>
<span id="tl_395" class="t s3_395">occurring in a loop) is a multiple of the granularity of the memory access of each iteration. Since the base register </span>
<span id="tm_395" class="t s3_395">in memory addressing already provides byte-granular resolution, the lower bits of the traditional disp8 operand </span>
<span id="tn_395" class="t s3_395">become redundant, and can be implied from the memory operation characteristic. </span>
<span id="to_395" class="t s3_395">The memory operation characteristics depend on the following: </span>
<span id="tp_395" class="t s6_395">• </span><span id="tq_395" class="t s3_395">The destination operand is updated as a full vector, a single element, or multi-element tuples. </span>
<span id="tr_395" class="t s6_395">• </span><span id="ts_395" class="t s3_395">The memory source operand (or vector source operand if the destination operand is memory) is fetched (or </span>
<span id="tt_395" class="t s3_395">treated) as a full vector, a single element, or multi-element tuples. </span>
<span id="tu_395" class="t s3_395">For example: </span>
<span id="tv_395" class="t s4_395">vaddps zmm7, zmm2, disp8[membase + index*8] </span>
<span id="tw_395" class="t s3_395">The destination zmm7 is updated as a full 512-bit vector, and 64-bytes of data are fetched from memory as a full </span>
<span id="tx_395" class="t s3_395">vector; the next unrolled iteration may fetch from memory in 64-byte granularity per iteration. There are 6 bits of </span>
<span id="ty_395" class="t s3_395">lowest address that can be compressed, hence N = 2^6 = 64. The contribution of “disp8” to effective address </span>
<span id="tz_395" class="t s3_395">calculation is 64*disp8. </span>
<span id="t10_395" class="t s4_395">vbroadcastf32x4 zmm7, disp8[membase + index*8] </span>
<span id="t11_395" class="t s3_395">In VBROADCASTF32x4, memory is fetched as a 4tuple of 4 32-bit entities. Hence the common lowest address bits </span>
<span id="t12_395" class="t s3_395">that can be compressed are 4, corresponding to the 4tuple width of 2^4 = 16 bytes (4x32 bits). Therefore, N = </span>
<span id="t13_395" class="t s3_395">2^4. </span>
<span id="t14_395" class="t s3_395">For EVEX encoded instructions that update only one element in the destination, or the source element is fetched </span>
<span id="t15_395" class="t s3_395">individually, the number of lowest address bits that can be compressed is generally the width in bytes of the data </span>
<span id="t16_395" class="t s3_395">element, hence N = 2^(width). </span>
<span id="t17_395" class="t s7_395">15.7 </span><span id="t18_395" class="t s7_395">MEMORY ALIGNMENT </span>
<span id="t19_395" class="t s3_395">Memory alignment requirements on EVEX-encoded SIMD instructions are similar to VEX-encoded SIMD instruc- </span>
<span id="t1a_395" class="t s3_395">tions. Memory alignment applies to EVEX-encoded SIMD instructions in three categories: </span>
<span id="t1b_395" class="t s6_395">• </span><span id="t1c_395" class="t s3_395">Explicitly-aligned SIMD load and store instructions accessing 64 bytes of memory with EVEX prefix encoded </span>
<span id="t1d_395" class="t s3_395">vector length of 512 bits (e.g., VMOVAPD, VMOVAPS, VMOVDQA, etc.). These instructions always require the </span>
<span id="t1e_395" class="t s3_395">memory address to be aligned on a 64-byte boundary. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
