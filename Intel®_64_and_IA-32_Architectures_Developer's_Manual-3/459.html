<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p459" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_459{left:774px;bottom:68px;letter-spacing:0.09px;}
#t2_459{left:820px;bottom:68px;letter-spacing:0.11px;}
#t3_459{left:698px;bottom:1141px;letter-spacing:-0.15px;word-spacing:0.01px;}
#t4_459{left:124px;bottom:1088px;letter-spacing:-0.16px;word-spacing:-0.69px;}
#t5_459{left:124px;bottom:1071px;letter-spacing:-0.15px;word-spacing:-0.51px;}
#t6_459{left:124px;bottom:1050px;letter-spacing:-0.15px;word-spacing:-0.74px;}
#t7_459{left:124px;bottom:1033px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t8_459{left:124px;bottom:1016px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#t9_459{left:70px;bottom:957px;letter-spacing:0.13px;}
#ta_459{left:152px;bottom:957px;letter-spacing:0.15px;word-spacing:0.01px;}
#tb_459{left:70px;bottom:933px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tc_459{left:70px;bottom:917px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#td_459{left:70px;bottom:900px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#te_459{left:70px;bottom:883px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#tf_459{left:70px;bottom:866px;letter-spacing:-0.14px;word-spacing:-0.84px;}
#tg_459{left:70px;bottom:849px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#th_459{left:70px;bottom:825px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#ti_459{left:70px;bottom:808px;letter-spacing:-0.17px;word-spacing:-0.44px;}
#tj_459{left:70px;bottom:749px;letter-spacing:0.13px;}
#tk_459{left:152px;bottom:749px;letter-spacing:0.16px;word-spacing:0.01px;}
#tl_459{left:70px;bottom:726px;letter-spacing:-0.14px;word-spacing:-1.33px;}
#tm_459{left:70px;bottom:709px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tn_459{left:70px;bottom:692px;letter-spacing:-0.16px;word-spacing:-1.34px;}
#to_459{left:70px;bottom:675px;letter-spacing:-0.16px;word-spacing:-0.69px;}
#tp_459{left:70px;bottom:658px;letter-spacing:-0.16px;}
#tq_459{left:70px;bottom:634px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#tr_459{left:70px;bottom:617px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#ts_459{left:70px;bottom:600px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tt_459{left:70px;bottom:584px;letter-spacing:-0.13px;word-spacing:-0.5px;}
#tu_459{left:70px;bottom:567px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#tv_459{left:70px;bottom:550px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#tw_459{left:70px;bottom:533px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#tx_459{left:70px;bottom:509px;letter-spacing:-0.14px;word-spacing:-1.02px;}
#ty_459{left:70px;bottom:492px;letter-spacing:-0.14px;word-spacing:-0.61px;}
#tz_459{left:70px;bottom:475px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t10_459{left:70px;bottom:458px;letter-spacing:-0.15px;word-spacing:-0.84px;}
#t11_459{left:70px;bottom:441px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t12_459{left:70px;bottom:425px;letter-spacing:-0.16px;word-spacing:-0.97px;}
#t13_459{left:70px;bottom:408px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t14_459{left:70px;bottom:391px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t15_459{left:70px;bottom:367px;letter-spacing:-0.2px;word-spacing:-1.02px;}
#t16_459{left:171px;bottom:367px;}
#t17_459{left:183px;bottom:367px;letter-spacing:-0.14px;word-spacing:-1.1px;}
#t18_459{left:70px;bottom:350px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t19_459{left:70px;bottom:325px;letter-spacing:-0.16px;word-spacing:-0.46px;}
#t1a_459{left:70px;bottom:309px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1b_459{left:70px;bottom:292px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#t1c_459{left:70px;bottom:267px;letter-spacing:-0.17px;word-spacing:-0.45px;}
#t1d_459{left:70px;bottom:250px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1e_459{left:70px;bottom:234px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1f_459{left:70px;bottom:217px;letter-spacing:-0.16px;word-spacing:-0.49px;}
#t1g_459{left:70px;bottom:200px;letter-spacing:-0.15px;word-spacing:-0.48px;}

.s1_459{font-size:12px;font-family:NeoSansIntel_1uk1;color:#000;}
.s2_459{font-size:14px;font-family:NeoSansIntel_1uk1;color:#0860A8;}
.s3_459{font-size:14px;font-family:Verdana_3e8;color:#000;}
.s4_459{font-size:18px;font-family:NeoSansIntelMedium_1uk0;color:#0860A8;}
.s5_459{font-size:14px;font-family:Verdana-Italic_3eb;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts459" type="text/css" >

@font-face {
	font-family: NeoSansIntelMedium_1uk0;
	src: url("fonts/NeoSansIntelMedium_1uk0.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_1uk1;
	src: url("fonts/NeoSansIntel_1uk1.woff") format("woff");
}

@font-face {
	font-family: Verdana-Italic_3eb;
	src: url("fonts/Verdana-Italic_3eb.woff") format("woff");
}

@font-face {
	font-family: Verdana_3e8;
	src: url("fonts/Verdana_3e8.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg459Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg459" style="-webkit-user-select: none;"><object width="935" height="1210" data="459/459.svg" type="image/svg+xml" id="pdf459" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_459" class="t s1_459">Vol. 3A </span><span id="t2_459" class="t s1_459">12-17 </span>
<span id="t3_459" class="t s2_459">MEMORY CACHE CONTROL </span>
<span id="t4_459" class="t s3_459">remove code from the cache completely, a second WBINVD instruction must be executed after the </span>
<span id="t5_459" class="t s3_459">MTRRs have been disabled. </span>
<span id="t6_459" class="t s3_459">For Intel Atom processors, setting the CD flag forces all physical memory to observe UC semantics </span>
<span id="t7_459" class="t s3_459">(without requiring memory type of physical memory to be set explicitly). Consequently, software </span>
<span id="t8_459" class="t s3_459">does not need to issue a second WBINVD as some other processor generations might require. </span>
<span id="t9_459" class="t s4_459">12.5.4 </span><span id="ta_459" class="t s4_459">Disabling and Enabling the L3 Cache </span>
<span id="tb_459" class="t s3_459">On processors based on Intel NetBurst microarchitecture, the third-level cache can be disabled by bit 6 of the </span>
<span id="tc_459" class="t s3_459">IA32_MISC_ENABLE MSR. The third-level cache disable flag (bit 6 of the IA32_MISC_ENABLE MSR) allows the L3 </span>
<span id="td_459" class="t s3_459">cache to be disabled and enabled, independently of the L1 and L2 caches. Prior to using this control to disable or </span>
<span id="te_459" class="t s3_459">enable the L3 cache, software should disable and flush all the processor caches, as described earlier in Section </span>
<span id="tf_459" class="t s3_459">12.5.3, “Preventing Caching,” to prevent of loss of information stored in the L3 cache. After the L3 cache has been </span>
<span id="tg_459" class="t s3_459">disabled or enabled, caching for the whole processor can be restored. </span>
<span id="th_459" class="t s3_459">Newer Intel 64 processor with L3 do not support IA32_MISC_ENABLE[bit 6], the procedure described in Section </span>
<span id="ti_459" class="t s3_459">12.5.3, “Preventing Caching,” apply to the entire cache hierarchy. </span>
<span id="tj_459" class="t s4_459">12.5.5 </span><span id="tk_459" class="t s4_459">Cache Management Instructions </span>
<span id="tl_459" class="t s3_459">The Intel 64 and IA-32 architectures provide several instructions for managing the L1, L2, and L3 caches. The INVD </span>
<span id="tm_459" class="t s3_459">and WBINVD instructions are privileged instructions and operate on the L1, L2, and L3 caches as a whole. The </span>
<span id="tn_459" class="t s3_459">PREFETCHh, CLFLUSH, and CLFLUSHOPT instructions and the non-temporal move instructions (MOVNTI, MOVNTQ, </span>
<span id="to_459" class="t s3_459">MOVNTDQ, MOVNTPS, and MOVNTPD) offer more granular control over caching, and are available to all privileged </span>
<span id="tp_459" class="t s3_459">levels. </span>
<span id="tq_459" class="t s3_459">The INVD and WBINVD instructions are used to invalidate the contents of the L1, L2, and L3 caches. The INVD </span>
<span id="tr_459" class="t s3_459">instruction invalidates all internal cache entries, then generates a special-function bus cycle that indicates that </span>
<span id="ts_459" class="t s3_459">external caches also should be invalidated. The INVD instruction should be used with care. It does not force a </span>
<span id="tt_459" class="t s3_459">write-back of modified cache lines; therefore, data stored in the caches and not written back to system memory </span>
<span id="tu_459" class="t s3_459">will be lost. Unless there is a specific requirement or benefit to invalidating the caches without writing back the </span>
<span id="tv_459" class="t s3_459">modified lines (such as, during testing or fault recovery where cache coherency with main memory is not a </span>
<span id="tw_459" class="t s3_459">concern), software should use the WBINVD instruction. </span>
<span id="tx_459" class="t s3_459">The WBINVD instruction first writes back any modified lines in all the internal caches, then invalidates the contents </span>
<span id="ty_459" class="t s3_459">of both the L1, L2, and L3 caches. It ensures that cache coherency with main memory is maintained regardless of </span>
<span id="tz_459" class="t s3_459">the write policy in effect (that is, write-through or write-back). Following this operation, the WBINVD instruction </span>
<span id="t10_459" class="t s3_459">generates one (P6 family processors) or two (Pentium and Intel486 processors) special-function bus cycles to indi- </span>
<span id="t11_459" class="t s3_459">cate to external cache controllers that write-back of modified data followed by invalidation of external caches </span>
<span id="t12_459" class="t s3_459">should occur. The amount of time or cycles for WBINVD to complete will vary due to the size of different cache hier- </span>
<span id="t13_459" class="t s3_459">archies and other factors. As a consequence, the use of the WBINVD instruction can have an impact on inter- </span>
<span id="t14_459" class="t s3_459">rupt/event response time. </span>
<span id="t15_459" class="t s3_459">The PREFETCH</span><span id="t16_459" class="t s5_459">h </span><span id="t17_459" class="t s3_459">instructions allow a program to suggest to the processor that a cache line from a specified location </span>
<span id="t18_459" class="t s3_459">in system memory be prefetched into the cache hierarchy (see Section 12.8, “Explicit Caching”). </span>
<span id="t19_459" class="t s3_459">The CLFLUSH and CLFLUSHOPT instructions allow selected cache lines to be flushed from memory. These instruc- </span>
<span id="t1a_459" class="t s3_459">tions give a program the ability to explicitly free up cache space, when it is known that cached section of system </span>
<span id="t1b_459" class="t s3_459">memory will not be accessed in the near future. </span>
<span id="t1c_459" class="t s3_459">The non-temporal move instructions (MOVNTI, MOVNTQ, MOVNTDQ, MOVNTPS, and MOVNTPD) allow data to be </span>
<span id="t1d_459" class="t s3_459">moved from the processor’s registers directly into system memory without being also written into the L1, L2, </span>
<span id="t1e_459" class="t s3_459">and/or L3 caches. These instructions can be used to prevent cache pollution when operating on data that is going </span>
<span id="t1f_459" class="t s3_459">to be modified only once before being stored back into system memory. These instructions operate on data in the </span>
<span id="t1g_459" class="t s3_459">general-purpose, MMX, and XMM registers. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
