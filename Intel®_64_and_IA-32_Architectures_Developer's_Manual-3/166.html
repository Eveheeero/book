<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p166" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_166{left:69px;bottom:68px;letter-spacing:0.1px;}
#t2_166{left:96px;bottom:68px;letter-spacing:0.1px;}
#t3_166{left:69px;bottom:1141px;letter-spacing:-0.15px;}
#t4_166{left:69px;bottom:1084px;}
#t5_166{left:95px;bottom:1088px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t6_166{left:95px;bottom:1071px;letter-spacing:-0.15px;word-spacing:-1.3px;}
#t7_166{left:95px;bottom:1054px;letter-spacing:-0.15px;word-spacing:-0.2px;}
#t8_166{left:95px;bottom:1030px;}
#t9_166{left:121px;bottom:1030px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#ta_166{left:121px;bottom:1013px;letter-spacing:-0.14px;word-spacing:-0.52px;}
#tb_166{left:121px;bottom:996px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#tc_166{left:95px;bottom:972px;}
#td_166{left:121px;bottom:972px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#te_166{left:121px;bottom:955px;letter-spacing:-0.15px;word-spacing:-0.53px;}
#tf_166{left:121px;bottom:938px;letter-spacing:-0.14px;word-spacing:-0.53px;}
#tg_166{left:121px;bottom:921px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#th_166{left:69px;bottom:895px;}
#ti_166{left:95px;bottom:898px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#tj_166{left:69px;bottom:481px;letter-spacing:0.15px;}
#tk_166{left:150px;bottom:481px;letter-spacing:0.2px;word-spacing:-0.04px;}
#tl_166{left:69px;bottom:456px;letter-spacing:-0.14px;word-spacing:-1.21px;}
#tm_166{left:69px;bottom:439px;letter-spacing:-0.14px;word-spacing:-1.15px;}
#tn_166{left:788px;bottom:439px;letter-spacing:-0.16px;word-spacing:-1.21px;}
#to_166{left:69px;bottom:422px;letter-spacing:-0.13px;word-spacing:-0.46px;}
#tp_166{left:69px;bottom:406px;letter-spacing:-0.13px;word-spacing:-0.45px;}
#tq_166{left:69px;bottom:389px;letter-spacing:-0.16px;word-spacing:-0.41px;}
#tr_166{left:69px;bottom:364px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#ts_166{left:69px;bottom:348px;letter-spacing:-0.16px;word-spacing:-0.44px;}
#tt_166{left:69px;bottom:331px;letter-spacing:-0.13px;word-spacing:-0.86px;}
#tu_166{left:491px;bottom:338px;letter-spacing:0.07px;}
#tv_166{left:510px;bottom:331px;letter-spacing:-0.14px;word-spacing:-0.82px;}
#tw_166{left:69px;bottom:314px;letter-spacing:-0.14px;word-spacing:-0.57px;}
#tx_166{left:69px;bottom:297px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#ty_166{left:69px;bottom:280px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#tz_166{left:69px;bottom:256px;letter-spacing:-0.14px;word-spacing:-0.89px;}
#t10_166{left:69px;bottom:239px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t11_166{left:69px;bottom:222px;letter-spacing:-0.17px;word-spacing:-0.45px;}
#t12_166{left:69px;bottom:205px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t13_166{left:69px;bottom:179px;}
#t14_166{left:95px;bottom:182px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t15_166{left:69px;bottom:156px;}
#t16_166{left:95px;bottom:160px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t17_166{left:69px;bottom:133px;}
#t18_166{left:95px;bottom:137px;letter-spacing:-0.13px;word-spacing:-0.47px;}
#t19_166{left:69px;bottom:110px;}
#t1a_166{left:95px;bottom:114px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1b_166{left:252px;bottom:549px;letter-spacing:0.13px;word-spacing:-0.09px;}
#t1c_166{left:334px;bottom:549px;letter-spacing:0.12px;}
#t1d_166{left:245px;bottom:819px;letter-spacing:0.04px;}
#t1e_166{left:337px;bottom:819px;letter-spacing:0.08px;word-spacing:-0.12px;}
#t1f_166{left:439px;bottom:819px;letter-spacing:0.03px;word-spacing:0.36px;}
#t1g_166{left:478px;bottom:819px;letter-spacing:0.13px;}
#t1h_166{left:465px;bottom:819px;letter-spacing:0.04px;}
#t1i_166{left:491px;bottom:819px;letter-spacing:-0.29px;word-spacing:2.28px;}
#t1j_166{left:546px;bottom:819px;}
#t1k_166{left:560px;bottom:819px;}
#t1l_166{left:651px;bottom:819px;}
#t1m_166{left:454px;bottom:788px;}
#t1n_166{left:351px;bottom:789px;}
#t1o_166{left:473px;bottom:797px;}
#t1p_166{left:473px;bottom:788px;}
#t1q_166{left:473px;bottom:777px;}
#t1r_166{left:517px;bottom:795px;letter-spacing:-0.36px;}
#t1s_166{left:493px;bottom:776px;}
#t1t_166{left:377px;bottom:788px;}
#t1u_166{left:662px;bottom:786px;}
#t1v_166{left:651px;bottom:752px;}
#t1w_166{left:662px;bottom:718px;}
#t1x_166{left:389px;bottom:797px;}
#t1y_166{left:389px;bottom:788px;}
#t1z_166{left:390px;bottom:777px;}
#t20_166{left:364px;bottom:789px;}
#t21_166{left:544px;bottom:776px;}
#t22_166{left:530px;bottom:776px;}
#t23_166{left:518px;bottom:776px;}
#t24_166{left:506px;bottom:776px;}
#t25_166{left:376px;bottom:842px;letter-spacing:0.11px;word-spacing:-0.04px;}
#t26_166{left:243px;bottom:751px;letter-spacing:0.13px;}
#t27_166{left:275px;bottom:668px;}
#t28_166{left:274px;bottom:638px;}
#t29_166{left:274px;bottom:624px;}
#t2a_166{left:274px;bottom:610px;letter-spacing:0.14px;}
#t2b_166{left:308px;bottom:668px;letter-spacing:0.11px;}
#t2c_166{left:307px;bottom:638px;letter-spacing:0.11px;}
#t2d_166{left:307px;bottom:624px;letter-spacing:0.09px;}
#t2e_166{left:307px;bottom:610px;letter-spacing:0.09px;}
#t2f_166{left:493px;bottom:654px;}
#t2g_166{left:493px;bottom:639px;}
#t2h_166{left:532px;bottom:654px;letter-spacing:0.09px;}
#t2i_166{left:532px;bottom:639px;letter-spacing:0.11px;}
#t2j_166{left:274px;bottom:653px;letter-spacing:-0.32px;}
#t2k_166{left:307px;bottom:653px;letter-spacing:0.09px;}
#t2l_166{left:274px;bottom:596px;}
#t2m_166{left:308px;bottom:596px;letter-spacing:0.09px;}
#t2n_166{left:493px;bottom:626px;}
#t2o_166{left:532px;bottom:626px;letter-spacing:0.1px;}

.s1_166{font-size:12px;font-family:NeoSansIntel_1uk1;color:#000;}
.s2_166{font-size:14px;font-family:NeoSansIntel_1uk1;color:#0860A8;}
.s3_166{font-size:21px;font-family:TimesNewRoman_3ec;color:#000;}
.s4_166{font-size:14px;font-family:Verdana_3e8;color:#000;}
.s5_166{font-size:21px;font-family:NeoSansIntelMedium_1uk0;color:#0860A8;}
.s6_166{font-size:12px;font-family:Verdana_3e8;color:#000;}
.s7_166{font-size:15px;font-family:NeoSansIntelMedium_1uk0;color:#0860A8;}
.s8_166{font-size:9px;font-family:Arial_3ed;color:#000;}
.s9_166{font-size:11px;font-family:Arial_3ed;color:#000;}
.sa_166{font-size:12px;font-family:Arial_3ed;color:#000;}
.sb_166{font-size:12px;font-family:Arial-Bold_3ea;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts166" type="text/css" >

@font-face {
	font-family: Arial-Bold_3ea;
	src: url("fonts/Arial-Bold_3ea.woff") format("woff");
}

@font-face {
	font-family: Arial_3ed;
	src: url("fonts/Arial_3ed.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntelMedium_1uk0;
	src: url("fonts/NeoSansIntelMedium_1uk0.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_1uk1;
	src: url("fonts/NeoSansIntel_1uk1.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_3ec;
	src: url("fonts/TimesNewRoman_3ec.woff") format("woff");
}

@font-face {
	font-family: Verdana_3e8;
	src: url("fonts/Verdana_3e8.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg166Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg166" style="-webkit-user-select: none;"><object width="935" height="1210" data="166/166.svg" type="image/svg+xml" id="pdf166" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_166" class="t s1_166">5-4 </span><span id="t2_166" class="t s1_166">Vol. 3A </span>
<span id="t3_166" class="t s2_166">PROTECTION </span>
<span id="t4_166" class="t s3_166">• </span><span id="t5_166" class="t s4_166">IA-32e mode uses a previously unused bit in the CS descriptor. Bit 53 is defined as the 64-bit (L) flag and is </span>
<span id="t6_166" class="t s4_166">used to select between 64-bit mode and compatibility mode when IA-32e mode is active (IA32_EFER.LMA = 1). </span>
<span id="t7_166" class="t s4_166">See Figure 5-2. </span>
<span id="t8_166" class="t s4_166">— </span><span id="t9_166" class="t s4_166">If CS.L = 0 and IA-32e mode is active, the processor is running in compatibility mode. In this case, CS.D </span>
<span id="ta_166" class="t s4_166">selects the default size for data and addresses. If CS.D = 0, the default data and address size is 16 bits. If </span>
<span id="tb_166" class="t s4_166">CS.D = 1, the default data and address size is 32 bits. </span>
<span id="tc_166" class="t s4_166">— </span><span id="td_166" class="t s4_166">If CS.L = 1 and IA-32e mode is active, the only valid setting is CS.D = 0. This setting indicates a default </span>
<span id="te_166" class="t s4_166">operand size of 32 bits and a default address size of 64 bits. The CS.L = 1 and CS.D = 1 bit combination is </span>
<span id="tf_166" class="t s4_166">reserved for future use and a #GP fault will be generated on an attempt to use a code segment with these </span>
<span id="tg_166" class="t s4_166">bits set in IA-32e mode. </span>
<span id="th_166" class="t s3_166">• </span><span id="ti_166" class="t s4_166">In IA-32e mode, the CS descriptor’s DPL is used for execution privilege checks (as in legacy 32-bit mode). </span>
<span id="tj_166" class="t s5_166">5.3 </span><span id="tk_166" class="t s5_166">LIMIT CHECKING </span>
<span id="tl_166" class="t s4_166">The limit field of a segment descriptor prevents programs or procedures from addressing memory locations outside </span>
<span id="tm_166" class="t s4_166">the segment. The effective value of the limit depends on the setting of the G (granularity) flag (see Figure </span><span id="tn_166" class="t s4_166">5-1). For </span>
<span id="to_166" class="t s4_166">data segments, the limit also depends on the E (expansion direction) flag and the B (default stack pointer size </span>
<span id="tp_166" class="t s4_166">and/or upper bound) flag. The E flag is one of the bits in the type field when the segment descriptor is for a data- </span>
<span id="tq_166" class="t s4_166">segment type. </span>
<span id="tr_166" class="t s4_166">When the G flag is clear (byte granularity), the effective limit is the value of the 20-bit limit field in the segment </span>
<span id="ts_166" class="t s4_166">descriptor. Here, the limit ranges from 0 to FFFFFH (1 MByte). When the G flag is set (4-KByte page granularity), </span>
<span id="tt_166" class="t s4_166">the processor scales the value in the limit field by a factor of 2 </span>
<span id="tu_166" class="t s6_166">12 </span>
<span id="tv_166" class="t s4_166">(4 KBytes). In this case, the effective limit ranges </span>
<span id="tw_166" class="t s4_166">from FFFH (4 KBytes) to FFFFFFFFH (4 GBytes). Note that when scaling is used (G flag is set), the lower 12 bits of </span>
<span id="tx_166" class="t s4_166">a segment offset (address) are not checked against the limit; for example, note that if the segment limit is 0, </span>
<span id="ty_166" class="t s4_166">offsets 0 through FFFH are still valid. </span>
<span id="tz_166" class="t s4_166">For all types of segments except expand-down data segments, the effective limit is the last address that is allowed </span>
<span id="t10_166" class="t s4_166">to be accessed in the segment, which is one less than the size, in bytes, of the segment. The processor causes a </span>
<span id="t11_166" class="t s4_166">general-protection exception (or, if the segment is SS, a stack-fault exception) any time an attempt is made to </span>
<span id="t12_166" class="t s4_166">access the following addresses in a segment: </span>
<span id="t13_166" class="t s3_166">• </span><span id="t14_166" class="t s4_166">A byte at an offset greater than the effective limit </span>
<span id="t15_166" class="t s3_166">• </span><span id="t16_166" class="t s4_166">A word at an offset greater than the (effective-limit – 1) </span>
<span id="t17_166" class="t s3_166">• </span><span id="t18_166" class="t s4_166">A doubleword at an offset greater than the (effective-limit – 3) </span>
<span id="t19_166" class="t s3_166">• </span><span id="t1a_166" class="t s4_166">A quadword at an offset greater than the (effective-limit – 7) </span>
<span id="t1b_166" class="t s7_166">Figure 5-2. </span><span id="t1c_166" class="t s7_166">Descriptor Fields with Flags used in IA-32e Mode </span>
<span id="t1d_166" class="t s8_166">31 </span><span id="t1e_166" class="t s8_166">24 23 22 21 20 19 </span><span id="t1f_166" class="t s8_166">16 15 </span><span id="t1g_166" class="t s8_166">13 </span><span id="t1h_166" class="t s8_166">14 </span><span id="t1i_166" class="t s8_166">12 11 </span><span id="t1j_166" class="t s8_166">8 </span><span id="t1k_166" class="t s8_166">7 </span><span id="t1l_166" class="t s8_166">0 </span>
<span id="t1m_166" class="t s8_166">P </span><span id="t1n_166" class="t s8_166">G </span>
<span id="t1o_166" class="t s8_166">D </span>
<span id="t1p_166" class="t s8_166">P </span>
<span id="t1q_166" class="t s8_166">L </span>
<span id="t1r_166" class="t s9_166">Type </span>
<span id="t1s_166" class="t s8_166">1 </span>
<span id="t1t_166" class="t s8_166">L </span><span id="t1u_166" class="t sa_166">4 </span>
<span id="t1v_166" class="t s8_166">0 </span>
<span id="t1w_166" class="t sa_166">0 </span>
<span id="t1x_166" class="t s8_166">A </span>
<span id="t1y_166" class="t s8_166">V </span>
<span id="t1z_166" class="t s8_166">L </span>
<span id="t20_166" class="t s8_166">D </span>
<span id="t21_166" class="t s8_166">A </span><span id="t22_166" class="t s8_166">R </span><span id="t23_166" class="t s8_166">C </span><span id="t24_166" class="t s8_166">1 </span>
<span id="t25_166" class="t sb_166">Code-Segment Descriptor </span>
<span id="t26_166" class="t s8_166">31 </span>
<span id="t27_166" class="t sa_166">A </span>
<span id="t28_166" class="t sa_166">C </span>
<span id="t29_166" class="t sa_166">D </span>
<span id="t2a_166" class="t sa_166">DPL </span>
<span id="t2b_166" class="t sa_166">Accessed </span>
<span id="t2c_166" class="t sa_166">Conforming </span>
<span id="t2d_166" class="t sa_166">Default </span>
<span id="t2e_166" class="t sa_166">Descriptor Privilege Level </span>
<span id="t2f_166" class="t sa_166">G </span>
<span id="t2g_166" class="t sa_166">R </span>
<span id="t2h_166" class="t sa_166">Granularity </span>
<span id="t2i_166" class="t sa_166">Readable </span>
<span id="t2j_166" class="t sa_166">AVL </span><span id="t2k_166" class="t sa_166">Available to Sys. Programmer’s </span>
<span id="t2l_166" class="t sa_166">L </span><span id="t2m_166" class="t sa_166">64-Bit Flag </span>
<span id="t2n_166" class="t sa_166">P </span><span id="t2o_166" class="t sa_166">Present </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
