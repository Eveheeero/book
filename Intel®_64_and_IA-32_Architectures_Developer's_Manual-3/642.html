<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p642" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_642{left:69px;bottom:68px;letter-spacing:0.11px;}
#t2_642{left:103px;bottom:68px;letter-spacing:0.09px;}
#t3_642{left:69px;bottom:1141px;letter-spacing:-0.13px;}
#t4_642{left:69px;bottom:1083px;letter-spacing:0.15px;}
#t5_642{left:151px;bottom:1083px;letter-spacing:0.15px;word-spacing:0.01px;}
#t6_642{left:69px;bottom:1059px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t7_642{left:69px;bottom:1042px;letter-spacing:-0.15px;}
#t8_642{left:117px;bottom:1042px;letter-spacing:-0.14px;word-spacing:-0.93px;}
#t9_642{left:69px;bottom:1025px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#ta_642{left:69px;bottom:966px;letter-spacing:0.14px;}
#tb_642{left:151px;bottom:966px;letter-spacing:0.16px;}
#tc_642{left:69px;bottom:943px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#td_642{left:69px;bottom:926px;letter-spacing:-0.15px;word-spacing:-0.64px;}
#te_642{left:69px;bottom:909px;letter-spacing:-0.13px;word-spacing:-0.69px;}
#tf_642{left:69px;bottom:892px;letter-spacing:-0.16px;word-spacing:-0.47px;}
#tg_642{left:69px;bottom:834px;letter-spacing:0.13px;}
#th_642{left:151px;bottom:834px;letter-spacing:0.15px;word-spacing:0.01px;}
#ti_642{left:69px;bottom:810px;letter-spacing:-0.14px;word-spacing:-0.59px;}
#tj_642{left:69px;bottom:793px;letter-spacing:-0.14px;word-spacing:-0.57px;}
#tk_642{left:69px;bottom:776px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#tl_642{left:69px;bottom:750px;}
#tm_642{left:95px;bottom:753px;letter-spacing:-0.14px;word-spacing:-0.92px;}
#tn_642{left:656px;bottom:753px;letter-spacing:-0.13px;word-spacing:-0.91px;}
#to_642{left:95px;bottom:736px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tp_642{left:95px;bottom:719px;letter-spacing:-0.14px;word-spacing:-1.33px;}
#tq_642{left:439px;bottom:719px;}
#tr_642{left:447px;bottom:719px;letter-spacing:-0.12px;word-spacing:-1.36px;}
#ts_642{left:514px;bottom:719px;}
#tt_642{left:526px;bottom:719px;letter-spacing:-0.14px;word-spacing:-1.28px;}
#tu_642{left:95px;bottom:703px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#tv_642{left:95px;bottom:686px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tw_642{left:69px;bottom:660px;}
#tx_642{left:95px;bottom:663px;letter-spacing:-0.14px;word-spacing:-0.87px;}
#ty_642{left:398px;bottom:663px;letter-spacing:-0.13px;word-spacing:-0.88px;}
#tz_642{left:512px;bottom:663px;letter-spacing:-0.15px;}
#t10_642{left:550px;bottom:663px;letter-spacing:-0.14px;word-spacing:-0.87px;}
#t11_642{left:95px;bottom:646px;letter-spacing:-0.14px;word-spacing:-0.85px;}
#t12_642{left:95px;bottom:629px;letter-spacing:-0.17px;word-spacing:-0.43px;}
#t13_642{left:95px;bottom:613px;letter-spacing:-0.14px;word-spacing:-0.89px;}
#t14_642{left:95px;bottom:596px;letter-spacing:-0.14px;word-spacing:-0.7px;}
#t15_642{left:95px;bottom:579px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t16_642{left:69px;bottom:553px;}
#t17_642{left:95px;bottom:556px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#t18_642{left:494px;bottom:556px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t19_642{left:95px;bottom:539px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1a_642{left:95px;bottom:522px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1b_642{left:95px;bottom:506px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t1c_642{left:69px;bottom:479px;}
#t1d_642{left:95px;bottom:483px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#t1e_642{left:337px;bottom:483px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1f_642{left:95px;bottom:466px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t1g_642{left:95px;bottom:449px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t1h_642{left:69px;bottom:423px;}
#t1i_642{left:95px;bottom:426px;letter-spacing:-0.15px;word-spacing:-0.48px;}
#t1j_642{left:340px;bottom:426px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t1k_642{left:95px;bottom:409px;letter-spacing:-0.17px;word-spacing:-0.42px;}
#t1l_642{left:95px;bottom:393px;letter-spacing:-0.14px;word-spacing:-1.17px;}
#t1m_642{left:95px;bottom:376px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#t1n_642{left:69px;bottom:349px;}
#t1o_642{left:95px;bottom:353px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t1p_642{left:497px;bottom:353px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1q_642{left:629px;bottom:353px;letter-spacing:-0.15px;}
#t1r_642{left:667px;bottom:353px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t1s_642{left:95px;bottom:336px;letter-spacing:-0.16px;word-spacing:-0.44px;}
#t1t_642{left:95px;bottom:319px;letter-spacing:-0.14px;word-spacing:-0.49px;}
#t1u_642{left:95px;bottom:302px;letter-spacing:-0.15px;word-spacing:-0.62px;}
#t1v_642{left:95px;bottom:286px;letter-spacing:-0.16px;word-spacing:-0.42px;}
#t1w_642{left:69px;bottom:261px;letter-spacing:-0.14px;word-spacing:-0.58px;}
#t1x_642{left:69px;bottom:244px;letter-spacing:-0.18px;word-spacing:-0.42px;}
#t1y_642{left:69px;bottom:228px;letter-spacing:-0.14px;word-spacing:-0.41px;}
#t1z_642{left:69px;bottom:169px;letter-spacing:0.14px;}
#t20_642{left:151px;bottom:169px;letter-spacing:0.15px;}
#t21_642{left:69px;bottom:145px;letter-spacing:-0.14px;word-spacing:-1.34px;}
#t22_642{left:805px;bottom:145px;letter-spacing:-0.12px;}
#t23_642{left:69px;bottom:128px;letter-spacing:-0.13px;word-spacing:-0.46px;}

.s1_642{font-size:12px;font-family:NeoSansIntel_1uk1;color:#000;}
.s2_642{font-size:14px;font-family:NeoSansIntel_1uk1;color:#0860A8;}
.s3_642{font-size:18px;font-family:NeoSansIntelMedium_1uk0;color:#0860A8;}
.s4_642{font-size:14px;font-family:Verdana_3e8;color:#000;}
.s5_642{font-size:21px;font-family:TimesNewRoman_3ec;color:#000;}
.s6_642{font-size:14px;font-family:Verdana-Bold_3e7;color:#000;}
.s7_642{font-size:14px;font-family:Verdana-Italic_3eb;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts642" type="text/css" >

@font-face {
	font-family: NeoSansIntelMedium_1uk0;
	src: url("fonts/NeoSansIntelMedium_1uk0.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_1uk1;
	src: url("fonts/NeoSansIntel_1uk1.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_3ec;
	src: url("fonts/TimesNewRoman_3ec.woff") format("woff");
}

@font-face {
	font-family: Verdana-Bold_3e7;
	src: url("fonts/Verdana-Bold_3e7.woff") format("woff");
}

@font-face {
	font-family: Verdana-Italic_3eb;
	src: url("fonts/Verdana-Italic_3eb.woff") format("woff");
}

@font-face {
	font-family: Verdana_3e8;
	src: url("fonts/Verdana_3e8.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg642Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg642" style="-webkit-user-select: none;"><object width="935" height="1210" data="642/642.svg" type="image/svg+xml" id="pdf642" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_642" class="t s1_642">18-4 </span><span id="t2_642" class="t s1_642">Vol. 3B </span>
<span id="t3_642" class="t s2_642">DEBUG, BRANCH PROFILE, TSC, AND INTEL® RESOURCE DIRECTOR TECHNOLOGY (INTEL® RDT) FEATURES </span>
<span id="t4_642" class="t s3_642">18.2.1 </span><span id="t5_642" class="t s3_642">Debug Address Registers (DR0-DR3) </span>
<span id="t6_642" class="t s4_642">Each of the debug-address registers (DR0 through DR3) holds the 32-bit linear address of a breakpoint (see </span>
<span id="t7_642" class="t s4_642">Figure </span><span id="t8_642" class="t s4_642">18-1). Breakpoint comparisons are made before physical address translation occurs. The contents of debug </span>
<span id="t9_642" class="t s4_642">register DR7 further specifies breakpoint conditions. </span>
<span id="ta_642" class="t s3_642">18.2.2 </span><span id="tb_642" class="t s3_642">Debug Registers DR4 and DR5 </span>
<span id="tc_642" class="t s4_642">Debug registers DR4 and DR5 are reserved when debug extensions are enabled (when the DE flag in control </span>
<span id="td_642" class="t s4_642">register CR4 is set) and attempts to reference the DR4 and DR5 registers cause invalid-opcode exceptions (#UD). </span>
<span id="te_642" class="t s4_642">When debug extensions are not enabled (when the DE flag is clear), these registers are aliased to debug registers </span>
<span id="tf_642" class="t s4_642">DR6 and DR7. </span>
<span id="tg_642" class="t s3_642">18.2.3 </span><span id="th_642" class="t s3_642">Debug Status Register (DR6) </span>
<span id="ti_642" class="t s4_642">The debug status register (DR6) reports debug conditions that were sampled at the time the last debug exception </span>
<span id="tj_642" class="t s4_642">was generated (see Figure 18-1). Updates to this register only occur when an exception is generated. The flags in </span>
<span id="tk_642" class="t s4_642">this register show the following information: </span>
<span id="tl_642" class="t s5_642">• </span><span id="tm_642" class="t s6_642">B0 through B3 (breakpoint condition detected) flags (bits 0 through 3) — </span><span id="tn_642" class="t s4_642">Indicates (when set) that its </span>
<span id="to_642" class="t s4_642">associated breakpoint condition was met when a debug exception was generated. These flags are set if the </span>
<span id="tp_642" class="t s4_642">condition described for each breakpoint by the LEN</span><span id="tq_642" class="t s7_642">n</span><span id="tr_642" class="t s4_642">, and R/W</span><span id="ts_642" class="t s7_642">n </span><span id="tt_642" class="t s4_642">flags in debug control register DR7 is true. They </span>
<span id="tu_642" class="t s4_642">may or may not be set if the breakpoint is not enabled by the Ln or the Gn flags in register DR7. Therefore on </span>
<span id="tv_642" class="t s4_642">a #DB, a debug handler should check only those B0-B3 bits which correspond to an enabled breakpoint. </span>
<span id="tw_642" class="t s5_642">• </span><span id="tx_642" class="t s6_642">BLD (bus-lock detected) flag (bit 11) — </span><span id="ty_642" class="t s4_642">Indicates (when </span><span id="tz_642" class="t s6_642">clear</span><span id="t10_642" class="t s4_642">) that the debug exception was triggered by </span>
<span id="t11_642" class="t s4_642">the assertion of a bus lock when CPL &gt; 0 and OS bus-lock detection was enabled (see Section 18.3.1.6). Other </span>
<span id="t12_642" class="t s4_642">debug exceptions do not modify this bit. To avoid confusion in identifying debug exceptions, software debug- </span>
<span id="t13_642" class="t s4_642">exception handlers should set bit 11 to 1 before returning. (Software that never enables OS bus-lock detection </span>
<span id="t14_642" class="t s4_642">need not do this as DR6[11] = 1 following reset.) This bit is always 1 if the processor does not support OS bus- </span>
<span id="t15_642" class="t s4_642">lock detection. </span>
<span id="t16_642" class="t s5_642">• </span><span id="t17_642" class="t s6_642">BD (debug register access detected) flag (bit 13) — </span><span id="t18_642" class="t s4_642">Indicates that the next instruction in the instruction </span>
<span id="t19_642" class="t s4_642">stream accesses one of the debug registers (DR0 through DR7). This flag is enabled when the GD (general </span>
<span id="t1a_642" class="t s4_642">detect) flag in debug control register DR7 is set. See Section 18.2.4, “Debug Control Register (DR7),” for </span>
<span id="t1b_642" class="t s4_642">further explanation of the purpose of this flag. </span>
<span id="t1c_642" class="t s5_642">• </span><span id="t1d_642" class="t s6_642">BS (single step) flag (bit 14) — </span><span id="t1e_642" class="t s4_642">Indicates (when set) that the debug exception was triggered by the single- </span>
<span id="t1f_642" class="t s4_642">step execution mode (enabled with the TF flag in the EFLAGS register). The single-step mode is the highest- </span>
<span id="t1g_642" class="t s4_642">priority debug exception. When the BS flag is set, any of the other debug status bits also may be set. </span>
<span id="t1h_642" class="t s5_642">• </span><span id="t1i_642" class="t s6_642">BT (task switch) flag (bit 15) — </span><span id="t1j_642" class="t s4_642">Indicates (when set) that the debug exception resulted from a task switch </span>
<span id="t1k_642" class="t s4_642">where the T flag (debug trap flag) in the TSS of the target task was set. See Section 8.2.1, “Task-State </span>
<span id="t1l_642" class="t s4_642">Segment (TSS),” for the format of a TSS. There is no flag in debug control register DR7 to enable or disable this </span>
<span id="t1m_642" class="t s4_642">exception; the T flag of the TSS is the only enabling flag. </span>
<span id="t1n_642" class="t s5_642">• </span><span id="t1o_642" class="t s6_642">RTM (restricted transactional memory) flag (bit 16) </span><span id="t1p_642" class="t s4_642">— Indicates (when </span><span id="t1q_642" class="t s6_642">clear</span><span id="t1r_642" class="t s4_642">) that a debug exception </span>
<span id="t1s_642" class="t s4_642">(#DB) or breakpoint exception (#BP) occurred inside an RTM region while advanced debugging of RTM trans- </span>
<span id="t1t_642" class="t s4_642">actional regions was enabled (see Section 18.3.3). This bit is set for any other debug exception (including all </span>
<span id="t1u_642" class="t s4_642">those that occur when advanced debugging of RTM transactional regions is not enabled). This bit is always 1 if </span>
<span id="t1v_642" class="t s4_642">the processor does not support RTM. </span>
<span id="t1w_642" class="t s4_642">Certain debug exceptions may clear bits 0-3. The remaining contents of the DR6 register are never cleared by the </span>
<span id="t1x_642" class="t s4_642">processor. To avoid confusion in identifying debug exceptions, debug handlers should clear the register (except </span>
<span id="t1y_642" class="t s4_642">bit 16, which they should set) before returning to the interrupted task. </span>
<span id="t1z_642" class="t s3_642">18.2.4 </span><span id="t20_642" class="t s3_642">Debug Control Register (DR7) </span>
<span id="t21_642" class="t s4_642">The debug control register (DR7) enables or disables breakpoints and sets breakpoint conditions (see Figure </span><span id="t22_642" class="t s4_642">18-1). </span>
<span id="t23_642" class="t s4_642">The flags and fields in this register control the following things: </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
