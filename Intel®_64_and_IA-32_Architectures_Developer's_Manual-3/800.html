<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p800" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_800{left:69px;bottom:68px;letter-spacing:0.12px;}
#t2_800{left:110px;bottom:68px;letter-spacing:0.1px;}
#t3_800{left:69px;bottom:1141px;letter-spacing:-0.15px;word-spacing:0.01px;}
#t4_800{left:69px;bottom:329px;letter-spacing:-0.09px;}
#t5_800{left:155px;bottom:329px;letter-spacing:-0.11px;word-spacing:0.02px;}
#t6_800{left:69px;bottom:305px;letter-spacing:-0.15px;word-spacing:-0.48px;}
#t7_800{left:69px;bottom:288px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t8_800{left:69px;bottom:271px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#t9_800{left:69px;bottom:247px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#ta_800{left:69px;bottom:230px;letter-spacing:-0.16px;word-spacing:-0.47px;}
#tb_800{left:69px;bottom:204px;letter-spacing:-0.09px;word-spacing:-0.37px;}
#tc_800{left:797px;bottom:205px;letter-spacing:-0.14px;}
#td_800{left:69px;bottom:189px;letter-spacing:-0.14px;word-spacing:-0.77px;}
#te_800{left:69px;bottom:172px;letter-spacing:-0.14px;word-spacing:-1.18px;}
#tf_800{left:69px;bottom:155px;letter-spacing:-0.14px;word-spacing:-0.8px;}
#tg_800{left:69px;bottom:138px;letter-spacing:-0.21px;word-spacing:-0.27px;}
#th_800{left:75px;bottom:1039px;letter-spacing:-0.12px;}
#ti_800{left:254px;bottom:1039px;}
#tj_800{left:270px;bottom:1039px;letter-spacing:-0.13px;}
#tk_800{left:270px;bottom:1024px;letter-spacing:-0.11px;}
#tl_800{left:254px;bottom:1008px;}
#tm_800{left:270px;bottom:1008px;letter-spacing:-0.13px;}
#tn_800{left:270px;bottom:993px;letter-spacing:-0.11px;}
#to_800{left:270px;bottom:978px;letter-spacing:-0.1px;}
#tp_800{left:473px;bottom:1039px;}
#tq_800{left:490px;bottom:1039px;letter-spacing:-0.13px;}
#tr_800{left:490px;bottom:1024px;letter-spacing:-0.12px;}
#ts_800{left:473px;bottom:1008px;}
#tt_800{left:490px;bottom:1008px;letter-spacing:-0.13px;word-spacing:0.01px;}
#tu_800{left:490px;bottom:993px;letter-spacing:-0.11px;}
#tv_800{left:695px;bottom:1039px;letter-spacing:-0.11px;}
#tw_800{left:695px;bottom:1017px;letter-spacing:-0.11px;}
#tx_800{left:695px;bottom:1001px;letter-spacing:-0.11px;}
#ty_800{left:695px;bottom:984px;letter-spacing:-0.11px;}
#tz_800{left:75px;bottom:953px;letter-spacing:-0.12px;word-spacing:0.01px;}
#t10_800{left:75px;bottom:936px;letter-spacing:-0.12px;word-spacing:0.01px;}
#t11_800{left:75px;bottom:920px;letter-spacing:-0.16px;}
#t12_800{left:254px;bottom:953px;}
#t13_800{left:270px;bottom:953px;letter-spacing:-0.11px;}
#t14_800{left:270px;bottom:938px;letter-spacing:-0.14px;}
#t15_800{left:254px;bottom:923px;}
#t16_800{left:270px;bottom:923px;letter-spacing:-0.11px;}
#t17_800{left:270px;bottom:907px;letter-spacing:-0.15px;}
#t18_800{left:270px;bottom:892px;letter-spacing:-0.14px;}
#t19_800{left:254px;bottom:877px;}
#t1a_800{left:270px;bottom:877px;letter-spacing:-0.1px;}
#t1b_800{left:270px;bottom:862px;letter-spacing:-0.15px;}
#t1c_800{left:270px;bottom:846px;letter-spacing:-0.11px;}
#t1d_800{left:473px;bottom:953px;}
#t1e_800{left:490px;bottom:953px;letter-spacing:-0.11px;}
#t1f_800{left:490px;bottom:938px;letter-spacing:-0.14px;}
#t1g_800{left:473px;bottom:923px;}
#t1h_800{left:490px;bottom:923px;letter-spacing:-0.11px;}
#t1i_800{left:490px;bottom:907px;letter-spacing:-0.15px;}
#t1j_800{left:695px;bottom:953px;letter-spacing:-0.11px;}
#t1k_800{left:75px;bottom:822px;letter-spacing:-0.15px;}
#t1l_800{left:75px;bottom:805px;letter-spacing:-0.1px;}
#t1m_800{left:75px;bottom:788px;letter-spacing:-0.12px;}
#t1n_800{left:75px;bottom:771px;letter-spacing:-0.13px;}
#t1o_800{left:254px;bottom:822px;}
#t1p_800{left:270px;bottom:822px;letter-spacing:-0.11px;}
#t1q_800{left:254px;bottom:807px;}
#t1r_800{left:270px;bottom:807px;letter-spacing:-0.12px;}
#t1s_800{left:254px;bottom:791px;}
#t1t_800{left:270px;bottom:791px;letter-spacing:-0.12px;}
#t1u_800{left:254px;bottom:776px;}
#t1v_800{left:270px;bottom:776px;letter-spacing:-0.13px;}
#t1w_800{left:473px;bottom:822px;}
#t1x_800{left:490px;bottom:822px;letter-spacing:-0.11px;}
#t1y_800{left:473px;bottom:807px;}
#t1z_800{left:490px;bottom:807px;letter-spacing:-0.12px;}
#t20_800{left:695px;bottom:822px;letter-spacing:-0.11px;}
#t21_800{left:75px;bottom:747px;letter-spacing:-0.11px;}
#t22_800{left:75px;bottom:730px;letter-spacing:-0.15px;}
#t23_800{left:75px;bottom:713px;}
#t24_800{left:254px;bottom:747px;}
#t25_800{left:270px;bottom:747px;letter-spacing:-0.11px;}
#t26_800{left:254px;bottom:732px;}
#t27_800{left:270px;bottom:732px;letter-spacing:-0.13px;}
#t28_800{left:473px;bottom:747px;letter-spacing:-0.19px;}
#t29_800{left:695px;bottom:747px;letter-spacing:-0.11px;}
#t2a_800{left:75px;bottom:689px;letter-spacing:-0.12px;}
#t2b_800{left:75px;bottom:672px;letter-spacing:-0.12px;}
#t2c_800{left:254px;bottom:689px;letter-spacing:-0.14px;}
#t2d_800{left:474px;bottom:689px;letter-spacing:-0.19px;}
#t2e_800{left:695px;bottom:689px;letter-spacing:-0.12px;word-spacing:0.01px;}
#t2f_800{left:75px;bottom:643px;letter-spacing:-0.12px;}
#t2g_800{left:75px;bottom:626px;letter-spacing:-0.12px;word-spacing:0.01px;}
#t2h_800{left:254px;bottom:643px;letter-spacing:-0.11px;}
#t2i_800{left:254px;bottom:626px;letter-spacing:-0.11px;}
#t2j_800{left:254px;bottom:609px;letter-spacing:-0.11px;}
#t2k_800{left:254px;bottom:593px;letter-spacing:-0.11px;word-spacing:0.02px;}
#t2l_800{left:375px;bottom:593px;}
#t2m_800{left:473px;bottom:643px;letter-spacing:-0.11px;}
#t2n_800{left:473px;bottom:626px;letter-spacing:-0.12px;}
#t2o_800{left:473px;bottom:609px;letter-spacing:-0.11px;}
#t2p_800{left:473px;bottom:593px;letter-spacing:-0.12px;word-spacing:0.05px;}
#t2q_800{left:549px;bottom:593px;}
#t2r_800{left:695px;bottom:643px;letter-spacing:-0.12px;}
#t2s_800{left:75px;bottom:568px;letter-spacing:-0.12px;}
#t2t_800{left:75px;bottom:551px;letter-spacing:-0.13px;}
#t2u_800{left:254px;bottom:568px;letter-spacing:-0.14px;}
#t2v_800{left:473px;bottom:568px;letter-spacing:-0.14px;}
#t2w_800{left:75px;bottom:527px;letter-spacing:-0.12px;}
#t2x_800{left:254px;bottom:527px;letter-spacing:-0.14px;word-spacing:0.01px;}
#t2y_800{left:473px;bottom:527px;letter-spacing:-0.14px;}
#t2z_800{left:75px;bottom:503px;letter-spacing:-0.12px;word-spacing:0.01px;}
#t30_800{left:254px;bottom:503px;letter-spacing:-0.11px;}
#t31_800{left:473px;bottom:503px;letter-spacing:-0.16px;}
#t32_800{left:75px;bottom:478px;letter-spacing:-0.12px;}
#t33_800{left:254px;bottom:478px;letter-spacing:-0.11px;word-spacing:-0.01px;}
#t34_800{left:254px;bottom:461px;letter-spacing:-0.11px;}
#t35_800{left:254px;bottom:444px;letter-spacing:-0.1px;}
#t36_800{left:473px;bottom:478px;letter-spacing:-0.12px;word-spacing:0.05px;}
#t37_800{left:75px;bottom:420px;letter-spacing:-0.13px;word-spacing:0.01px;}
#t38_800{left:254px;bottom:420px;letter-spacing:-0.14px;}
#t39_800{left:473px;bottom:420px;letter-spacing:-0.14px;}
#t3a_800{left:75px;bottom:396px;letter-spacing:-0.13px;word-spacing:0.01px;}
#t3b_800{left:254px;bottom:396px;letter-spacing:-0.12px;}
#t3c_800{left:254px;bottom:379px;letter-spacing:-0.11px;}
#t3d_800{left:473px;bottom:396px;letter-spacing:-0.12px;}
#t3e_800{left:473px;bottom:379px;letter-spacing:-0.1px;}
#t3f_800{left:695px;bottom:396px;letter-spacing:-0.12px;}
#t3g_800{left:695px;bottom:379px;letter-spacing:-0.09px;}
#t3h_800{left:136px;bottom:1086px;letter-spacing:0.11px;word-spacing:-0.06px;}
#t3i_800{left:231px;bottom:1086px;letter-spacing:0.14px;word-spacing:-0.06px;}
#t3j_800{left:75px;bottom:1063px;letter-spacing:-0.18px;}
#t3k_800{left:254px;bottom:1063px;letter-spacing:-0.12px;word-spacing:0.05px;}
#t3l_800{left:474px;bottom:1063px;letter-spacing:-0.12px;word-spacing:-0.13px;}
#t3m_800{left:695px;bottom:1063px;letter-spacing:-0.16px;}

.s1_800{font-size:12px;font-family:NeoSansIntel_1uk1;color:#000;}
.s2_800{font-size:14px;font-family:NeoSansIntel_1uk1;color:#0860A8;}
.s3_800{font-size:17px;font-family:NeoSansIntelMedium_1uk0;color:#0860A8;}
.s4_800{font-size:14px;font-family:Verdana_3e8;color:#000;}
.s5_800{font-size:17px;font-family:Calibri_3ek;color:#000;}
.s6_800{font-size:14px;font-family:NeoSansIntel_1uk1;color:#000;}
.s7_800{font-size:15px;font-family:NeoSansIntelMedium_1uk0;color:#0860A8;}
.s8_800{font-size:14px;font-family:NeoSansIntelMedium_1uk0;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts800" type="text/css" >

@font-face {
	font-family: Calibri_3ek;
	src: url("fonts/Calibri_3ek.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntelMedium_1uk0;
	src: url("fonts/NeoSansIntelMedium_1uk0.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_1uk1;
	src: url("fonts/NeoSansIntel_1uk1.woff") format("woff");
}

@font-face {
	font-family: Verdana_3e8;
	src: url("fonts/Verdana_3e8.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg800Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg800" style="-webkit-user-select: none;"><object width="935" height="1210" data="800/800.svg" type="image/svg+xml" id="pdf800" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_800" class="t s1_800">20-86 </span><span id="t2_800" class="t s1_800">Vol. 3B </span>
<span id="t3_800" class="t s2_800">PERFORMANCE MONITORING </span>
<span id="t4_800" class="t s3_800">20.5.3.1 </span><span id="t5_800" class="t s3_800">Processor Event Based Sampling (PEBS) </span>
<span id="t6_800" class="t s4_800">Processor event based sampling (PEBS) on the Goldmont microarchitecture is enhanced over prior generations </span>
<span id="t7_800" class="t s4_800">with respect to sampling support of precise events and non-precise events. In the Goldmont microarchitecture, </span>
<span id="t8_800" class="t s4_800">PEBS is supported using IA32_PMC0 for all events (see Section 18.4.9). </span>
<span id="t9_800" class="t s4_800">PEBS uses a debug store mechanism to store a set of architectural state information for the processor at the time </span>
<span id="ta_800" class="t s4_800">the sample was generated. </span>
<span id="tb_800" class="t s5_800">Precise events work the same way on Goldmont microarchitecture as on the Silvermont microarchitecture. </span><span id="tc_800" class="t s4_800">The </span>
<span id="td_800" class="t s4_800">record will be generated after an instruction that causes the event when the counter is already overflowed and will </span>
<span id="te_800" class="t s4_800">capture the architectural state at this point (see Section 20.6.2.4 and Section 18.4.9). The eventingIP in the record </span>
<span id="tf_800" class="t s4_800">will indicate the instruction that caused the event. The list of precise events supported in the Goldmont microarchi- </span>
<span id="tg_800" class="t s4_800">tecture is shown in Table 20-67. </span>
<span id="th_800" class="t s6_800">PMI Overhead Mitigation </span><span id="ti_800" class="t s6_800">• </span><span id="tj_800" class="t s6_800">Freeze_Perfmon_on_PMI with </span>
<span id="tk_800" class="t s6_800">streamlined semantics. </span>
<span id="tl_800" class="t s6_800">• </span><span id="tm_800" class="t s6_800">Freeze_LBR_on_PMI with </span>
<span id="tn_800" class="t s6_800">streamlined semantics for </span>
<span id="to_800" class="t s6_800">branch profiling. </span>
<span id="tp_800" class="t s6_800">• </span><span id="tq_800" class="t s6_800">Freeze_Perfmon_on_PMI with </span>
<span id="tr_800" class="t s6_800">legacy semantics. </span>
<span id="ts_800" class="t s6_800">• </span><span id="tt_800" class="t s6_800">Freeze_LBR_on_PMI with legacy </span>
<span id="tu_800" class="t s6_800">semantics for branch profiling. </span>
<span id="tv_800" class="t s6_800">See Section 18.4.7. </span>
<span id="tw_800" class="t s6_800">Legacy semantics not </span>
<span id="tx_800" class="t s6_800">supported with version 4 </span>
<span id="ty_800" class="t s6_800">or higher. </span>
<span id="tz_800" class="t s6_800">Counter and Buffer </span>
<span id="t10_800" class="t s6_800">Overflow Status </span>
<span id="t11_800" class="t s6_800">Management </span>
<span id="t12_800" class="t s6_800">• </span><span id="t13_800" class="t s6_800">Query via </span>
<span id="t14_800" class="t s6_800">IA32_PERF_GLOBAL_STATUS </span>
<span id="t15_800" class="t s6_800">• </span><span id="t16_800" class="t s6_800">Reset via </span>
<span id="t17_800" class="t s6_800">IA32_PERF_GLOBAL_STATUS_R </span>
<span id="t18_800" class="t s6_800">ESET </span>
<span id="t19_800" class="t s6_800">• </span><span id="t1a_800" class="t s6_800">Set via </span>
<span id="t1b_800" class="t s6_800">IA32_PERF_GLOBAL_STATUS_S </span>
<span id="t1c_800" class="t s6_800">ET </span>
<span id="t1d_800" class="t s6_800">• </span><span id="t1e_800" class="t s6_800">Query via </span>
<span id="t1f_800" class="t s6_800">IA32_PERF_GLOBAL_STATUS </span>
<span id="t1g_800" class="t s6_800">• </span><span id="t1h_800" class="t s6_800">Reset via </span>
<span id="t1i_800" class="t s6_800">IA32_PERF_GLOBAL_OVF_CTRL </span>
<span id="t1j_800" class="t s6_800">See Section 20.2.4. </span>
<span id="t1k_800" class="t s6_800">IA32_PERF_GLOBAL_STATU </span>
<span id="t1l_800" class="t s6_800">S Indicators of </span>
<span id="t1m_800" class="t s6_800">Overflow/Overhead/Interfer </span>
<span id="t1n_800" class="t s6_800">ence </span>
<span id="t1o_800" class="t s6_800">• </span><span id="t1p_800" class="t s6_800">Individual counter overflow </span>
<span id="t1q_800" class="t s6_800">• </span><span id="t1r_800" class="t s6_800">PEBS buffer overflow </span>
<span id="t1s_800" class="t s6_800">• </span><span id="t1t_800" class="t s6_800">ToPA buffer overflow </span>
<span id="t1u_800" class="t s6_800">• </span><span id="t1v_800" class="t s6_800">CTR_Frz, LBR_Frz </span>
<span id="t1w_800" class="t s6_800">• </span><span id="t1x_800" class="t s6_800">Individual counter overflow </span>
<span id="t1y_800" class="t s6_800">• </span><span id="t1z_800" class="t s6_800">PEBS buffer overflow </span>
<span id="t20_800" class="t s6_800">See Section 20.2.4. </span>
<span id="t21_800" class="t s6_800">Enable control in </span>
<span id="t22_800" class="t s6_800">IA32_PERF_GLOBAL_STATU </span>
<span id="t23_800" class="t s6_800">S </span>
<span id="t24_800" class="t s6_800">• </span><span id="t25_800" class="t s6_800">CTR_Frz, </span>
<span id="t26_800" class="t s6_800">• </span><span id="t27_800" class="t s6_800">LBR_Frz </span>
<span id="t28_800" class="t s6_800">No </span><span id="t29_800" class="t s6_800">See Section 20.2.4.1. </span>
<span id="t2a_800" class="t s6_800">Perfmon Counter In-Use </span>
<span id="t2b_800" class="t s6_800">Indicator </span>
<span id="t2c_800" class="t s6_800">Query IA32_PERF_GLOBAL_INUSE </span><span id="t2d_800" class="t s6_800">No </span><span id="t2e_800" class="t s6_800">See Section 20.2.4.3. </span>
<span id="t2f_800" class="t s6_800">Processor Event Based </span>
<span id="t2g_800" class="t s6_800">Sampling (PEBS) Events </span>
<span id="t2h_800" class="t s6_800">General-Purpose Counter 0 only. </span>
<span id="t2i_800" class="t s6_800">Supports all events (precise and </span>
<span id="t2j_800" class="t s6_800">non-precise). Precise events are </span>
<span id="t2k_800" class="t s6_800">listed in Table 20-67</span><span id="t2l_800" class="t s4_800">. </span>
<span id="t2m_800" class="t s6_800">See Section 20.5.2.1.1. General- </span>
<span id="t2n_800" class="t s6_800">Purpose Counter 0 only. Only </span>
<span id="t2o_800" class="t s6_800">supports precise events (see </span>
<span id="t2p_800" class="t s6_800">Table 20-60)</span><span id="t2q_800" class="t s4_800">. </span>
<span id="t2r_800" class="t s6_800">IA32_PMC0 only. </span>
<span id="t2s_800" class="t s6_800">PEBS record format </span>
<span id="t2t_800" class="t s6_800">encoding </span>
<span id="t2u_800" class="t s6_800">0011b </span><span id="t2v_800" class="t s6_800">0010b </span>
<span id="t2w_800" class="t s6_800">Reduce skid PEBS </span><span id="t2x_800" class="t s6_800">IA32_PMC0 only </span><span id="t2y_800" class="t s6_800">No </span>
<span id="t2z_800" class="t s6_800">Data Address Profiling </span><span id="t30_800" class="t s6_800">Yes </span><span id="t31_800" class="t s6_800">No </span>
<span id="t32_800" class="t s6_800">PEBS record layout </span><span id="t33_800" class="t s6_800">Table 20-68; enhanced fields at </span>
<span id="t34_800" class="t s6_800">offsets 90H- 98H; and TSC record </span>
<span id="t35_800" class="t s6_800">field at C0H. </span>
<span id="t36_800" class="t s6_800">Table 20-61. </span>
<span id="t37_800" class="t s6_800">PEBS EventingIP </span><span id="t38_800" class="t s6_800">Yes </span><span id="t39_800" class="t s6_800">Yes </span>
<span id="t3a_800" class="t s6_800">Off-core Response Event </span><span id="t3b_800" class="t s6_800">MSR 1A6H and 1A7H, each core </span>
<span id="t3c_800" class="t s6_800">has its own register. </span>
<span id="t3d_800" class="t s6_800">MSR 1A6H and 1A7H, shared by a </span>
<span id="t3e_800" class="t s6_800">pair of cores. </span>
<span id="t3f_800" class="t s6_800">Nehalem supports 1A6H </span>
<span id="t3g_800" class="t s6_800">only. </span>
<span id="t3h_800" class="t s7_800">Table 20-66. </span><span id="t3i_800" class="t s7_800">Core PMU Comparison Between the Goldmont and Silvermont Microarchitectures </span>
<span id="t3j_800" class="t s8_800">Box </span><span id="t3k_800" class="t s8_800">Goldmont Microarchitecture </span><span id="t3l_800" class="t s8_800">Silvermont Microarchitecture </span><span id="t3m_800" class="t s8_800">Comment </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
