<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p160" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_160{left:110px;bottom:1129px;letter-spacing:-0.17px;}
#t2_160{left:475px;bottom:1129px;letter-spacing:-0.21px;word-spacing:1.47px;}
#t3_160{left:110px;bottom:1082px;letter-spacing:0.16px;word-spacing:2.25px;}
#t4_160{left:110px;bottom:1036px;letter-spacing:-0.16px;word-spacing:3.74px;}
#t5_160{left:110px;bottom:1015px;letter-spacing:-0.16px;word-spacing:2.16px;}
#t6_160{left:110px;bottom:994px;letter-spacing:-0.19px;word-spacing:2.15px;}
#t7_160{left:110px;bottom:973px;letter-spacing:-0.14px;word-spacing:2.84px;}
#t8_160{left:110px;bottom:953px;letter-spacing:-0.14px;word-spacing:1.37px;}
#t9_160{left:110px;bottom:917px;letter-spacing:-0.34px;word-spacing:3.52px;}
#ta_160{left:243px;bottom:917px;letter-spacing:-0.37px;}
#tb_160{left:290px;bottom:917px;letter-spacing:-0.15px;word-spacing:3.18px;}
#tc_160{left:492px;bottom:917px;letter-spacing:-0.14px;}
#td_160{left:533px;bottom:917px;letter-spacing:-0.13px;word-spacing:3.14px;}
#te_160{left:110px;bottom:896px;letter-spacing:-0.16px;word-spacing:3.65px;}
#tf_160{left:110px;bottom:875px;letter-spacing:-0.16px;word-spacing:2.66px;}
#tg_160{left:548px;bottom:875px;letter-spacing:-0.16px;word-spacing:2.6px;}
#th_160{left:110px;bottom:855px;letter-spacing:-0.17px;word-spacing:3.6px;}
#ti_160{left:110px;bottom:834px;letter-spacing:-0.16px;word-spacing:1.39px;}
#tj_160{left:110px;bottom:813px;letter-spacing:-0.11px;word-spacing:3.25px;}
#tk_160{left:405px;bottom:813px;letter-spacing:-0.14px;word-spacing:3.34px;}
#tl_160{left:110px;bottom:793px;letter-spacing:-0.11px;word-spacing:2.61px;}
#tm_160{left:110px;bottom:772px;letter-spacing:-0.14px;word-spacing:1.39px;}
#tn_160{left:110px;bottom:736px;letter-spacing:-0.15px;word-spacing:2.62px;}
#to_160{left:110px;bottom:715px;letter-spacing:-0.17px;word-spacing:0.19px;}
#tp_160{left:795px;bottom:715px;letter-spacing:-0.15px;}
#tq_160{left:110px;bottom:695px;letter-spacing:-0.16px;word-spacing:1.43px;}
#tr_160{left:131px;bottom:659px;letter-spacing:-0.14px;}
#ts_160{left:312px;bottom:659px;letter-spacing:-0.17px;}
#tt_160{left:500px;bottom:659px;letter-spacing:-0.18px;word-spacing:1.45px;}
#tu_160{left:500px;bottom:638px;letter-spacing:-0.14px;}
#tv_160{left:562px;bottom:638px;letter-spacing:-0.14px;}
#tw_160{left:624px;bottom:638px;letter-spacing:-0.14px;}
#tx_160{left:727px;bottom:638px;letter-spacing:-0.14px;}
#ty_160{left:124px;bottom:613px;letter-spacing:-0.14px;}
#tz_160{left:185px;bottom:613px;letter-spacing:-0.16px;word-spacing:1.39px;}
#t10_160{left:534px;bottom:613px;}
#t11_160{left:124px;bottom:588px;letter-spacing:-0.14px;}
#t12_160{left:185px;bottom:588px;letter-spacing:-0.1px;word-spacing:1.27px;}
#t13_160{left:589px;bottom:588px;}
#t14_160{left:597px;bottom:596px;}
#t15_160{left:645px;bottom:588px;}
#t16_160{left:653px;bottom:596px;letter-spacing:0.09px;}
#t17_160{left:789px;bottom:588px;}
#t18_160{left:798px;bottom:596px;letter-spacing:0.09px;}
#t19_160{left:124px;bottom:567px;letter-spacing:-0.14px;}
#t1a_160{left:185px;bottom:567px;letter-spacing:-0.06px;word-spacing:1.21px;}
#t1b_160{left:588px;bottom:567px;letter-spacing:-0.17px;}
#t1c_160{left:645px;bottom:567px;}
#t1d_160{left:653px;bottom:575px;letter-spacing:0.09px;}
#t1e_160{left:789px;bottom:567px;}
#t1f_160{left:798px;bottom:575px;letter-spacing:0.09px;}
#t1g_160{left:124px;bottom:545px;letter-spacing:-0.14px;}
#t1h_160{left:185px;bottom:545px;letter-spacing:-0.15px;word-spacing:1.39px;}
#t1i_160{left:596px;bottom:545px;}
#t1j_160{left:645px;bottom:545px;}
#t1k_160{left:653px;bottom:553px;letter-spacing:0.09px;}
#t1l_160{left:789px;bottom:545px;}
#t1m_160{left:798px;bottom:553px;letter-spacing:0.09px;}
#t1n_160{left:124px;bottom:520px;letter-spacing:-0.14px;}
#t1o_160{left:185px;bottom:520px;letter-spacing:-0.09px;word-spacing:1.26px;}
#t1p_160{left:645px;bottom:520px;}
#t1q_160{left:653px;bottom:528px;letter-spacing:0.09px;}
#t1r_160{left:789px;bottom:520px;}
#t1s_160{left:798px;bottom:528px;letter-spacing:0.09px;}
#t1t_160{left:124px;bottom:499px;letter-spacing:-0.14px;}
#t1u_160{left:185px;bottom:499px;letter-spacing:-0.05px;word-spacing:1.18px;}
#t1v_160{left:650px;bottom:499px;letter-spacing:-0.17px;}
#t1w_160{left:789px;bottom:499px;}
#t1x_160{left:798px;bottom:507px;letter-spacing:0.09px;}
#t1y_160{left:124px;bottom:478px;letter-spacing:-0.14px;}
#t1z_160{left:185px;bottom:478px;letter-spacing:-0.15px;word-spacing:1.39px;}
#t20_160{left:658px;bottom:478px;}
#t21_160{left:789px;bottom:478px;}
#t22_160{left:798px;bottom:486px;letter-spacing:0.09px;}
#t23_160{left:124px;bottom:453px;letter-spacing:-0.14px;}
#t24_160{left:185px;bottom:453px;letter-spacing:-0.1px;word-spacing:1.28px;}
#t25_160{left:789px;bottom:453px;}
#t26_160{left:798px;bottom:461px;letter-spacing:0.09px;}
#t27_160{left:124px;bottom:432px;letter-spacing:-0.14px;}
#t28_160{left:185px;bottom:432px;letter-spacing:-0.09px;word-spacing:1.26px;}
#t29_160{left:796px;bottom:432px;}
#t2a_160{left:804px;bottom:440px;}
#t2b_160{left:124px;bottom:410px;letter-spacing:-0.14px;}
#t2c_160{left:185px;bottom:410px;letter-spacing:-0.05px;word-spacing:1.18px;}
#t2d_160{left:795px;bottom:410px;letter-spacing:-0.17px;}
#t2e_160{left:200px;bottom:357px;letter-spacing:-0.17px;word-spacing:1.66px;}
#t2f_160{left:110px;bottom:300px;letter-spacing:0.1px;word-spacing:2.36px;}
#t2g_160{left:110px;bottom:254px;letter-spacing:-0.34px;word-spacing:3.17px;}
#t2h_160{left:242px;bottom:254px;letter-spacing:-0.26px;word-spacing:3.33px;}
#t2i_160{left:391px;bottom:254px;letter-spacing:-0.12px;word-spacing:2.75px;}
#t2j_160{left:110px;bottom:233px;letter-spacing:-0.15px;word-spacing:3.68px;}
#t2k_160{left:802px;bottom:233px;letter-spacing:-1.63px;}
#t2l_160{left:110px;bottom:212px;letter-spacing:-0.16px;word-spacing:2.21px;}
#t2m_160{left:210px;bottom:212px;letter-spacing:-0.21px;word-spacing:2.66px;}
#t2n_160{left:363px;bottom:212px;letter-spacing:-0.13px;word-spacing:2.17px;}
#t2o_160{left:110px;bottom:192px;letter-spacing:-0.16px;word-spacing:2.84px;}
#t2p_160{left:110px;bottom:171px;letter-spacing:-0.16px;word-spacing:0.82px;}
#t2q_160{left:110px;bottom:150px;letter-spacing:-0.16px;word-spacing:1px;}
#t2r_160{left:110px;bottom:130px;letter-spacing:-0.17px;word-spacing:2.7px;}
#t2s_160{left:110px;bottom:109px;letter-spacing:-0.13px;word-spacing:1.35px;}

.s1_160{font-size:17px;font-family:CMR10_270;color:#000;}
.s2_160{font-size:17px;font-family:CMSL10_27d;color:#000;}
.s3_160{font-size:18px;font-family:CMBX12_26j;color:#000;}
.s4_160{font-size:17px;font-family:CMTI10_27t;color:#000;}
.s5_160{font-size:17px;font-family:CMR10_270;color:#000080;}
.s6_160{font-size:12px;font-family:CMR8_278;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts160" type="text/css" >

@font-face {
	font-family: CMBX12_26j;
	src: url("fonts/CMBX12_26j.woff") format("woff");
}

@font-face {
	font-family: CMR10_270;
	src: url("fonts/CMR10_270.woff") format("woff");
}

@font-face {
	font-family: CMR8_278;
	src: url("fonts/CMR8_278.woff") format("woff");
}

@font-face {
	font-family: CMSL10_27d;
	src: url("fonts/CMSL10_27d.woff") format("woff");
}

@font-face {
	font-family: CMTI10_27t;
	src: url("fonts/CMTI10_27t.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg160Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg160" style="-webkit-user-select: none;"><object width="935" height="1210" data="160/160.svg" type="image/svg+xml" id="pdf160" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_160" class="t s1_160">142 </span><span id="t2_160" class="t s2_160">Volume I: RISC-V Unprivileged ISA V20191213 </span>
<span id="t3_160" class="t s3_160" data-mappings='[[35,"fi"]]'>Instruction Encoding Spaces and Preﬁxes </span>
<span id="t4_160" class="t s1_160">An instruction encoding space is some number of instruction bits within which a base ISA or </span>
<span id="t5_160" class="t s1_160">ISA extension is encoded. RISC-V supports varying instruction lengths, but even within a single </span>
<span id="t6_160" class="t s1_160">instruction length, there are various sizes of encoding space available. For example, the base ISA </span>
<span id="t7_160" class="t s1_160" data-mappings='[[5,"fi"]]'>is deﬁned within a 30-bit encoding space (bits 31–2 of the 32-bit instruction), while the atomic </span>
<span id="t8_160" class="t s1_160" data-mappings='[[14,"fi"]]'>extension “A” ﬁts within a 25-bit encoding space (bits 31–7). </span>
<span id="t9_160" class="t s1_160">We use the term </span><span id="ta_160" class="t s4_160" data-mappings='[[3,"fi"]]'>preﬁx </span><span id="tb_160" class="t s1_160">to refer to the bits to the </span><span id="tc_160" class="t s4_160">right </span><span id="td_160" class="t s1_160">of an instruction encoding space (since </span>
<span id="te_160" class="t s1_160">instruction fetch in RISC-V is little-endian, the bits to the right are stored at earlier memory </span>
<span id="tf_160" class="t s1_160" data-mappings='[[27,"fi"]]'>addresses, hence form a preﬁx in instruction-fetch order). </span><span id="tg_160" class="t s1_160" data-mappings='[[7,"fi"]]'>The preﬁx for the standard base ISA </span>
<span id="th_160" class="t s1_160" data-mappings='[[29,"fi"],[84,"fi"]]'>encoding is the two-bit “11” ﬁeld held in bits 1–0 of the 32-bit word, while the preﬁx for the </span>
<span id="ti_160" class="t s1_160" data-mappings='[[57,"fi"]]'>standard atomic extension “A” is the seven-bit “0101111” ﬁeld held in bits 6–0 of the 32-bit word </span>
<span id="tj_160" class="t s1_160">representing the AMO major opcode. </span><span id="tk_160" class="t s1_160">A quirk of the encoding format is that the 3-bit funct3 </span>
<span id="tl_160" class="t s1_160" data-mappings='[[0,"fi"]]'>ﬁeld used to encode a minor opcode is not contiguous with the major opcode bits in the 32-bit </span>
<span id="tm_160" class="t s1_160" data-mappings='[[53,"fi"]]'>instruction format, but is considered part of the preﬁx for 22-bit instruction spaces. </span>
<span id="tn_160" class="t s1_160">Although an instruction encoding space could be of any size, adopting a smaller set of common </span>
<span id="to_160" class="t s1_160" data-mappings='[[12,"fi"]]'>sizes simpliﬁes packing independently developed extensions into a single global encoding. Table </span><span id="tp_160" class="t s5_160">26.1 </span>
<span id="tq_160" class="t s1_160">gives the suggested sizes for RISC-V. </span>
<span id="tr_160" class="t s1_160">Size </span><span id="ts_160" class="t s1_160">Usage </span><span id="tt_160" class="t s1_160"># Available in standard instruction length </span>
<span id="tu_160" class="t s1_160">16-bit </span><span id="tv_160" class="t s1_160">32-bit </span><span id="tw_160" class="t s1_160">48-bit </span><span id="tx_160" class="t s1_160">64-bit </span>
<span id="ty_160" class="t s1_160">14-bit </span><span id="tz_160" class="t s1_160">Quadrant of compressed 16-bit encoding </span><span id="t10_160" class="t s1_160">3 </span>
<span id="t11_160" class="t s1_160">22-bit </span><span id="t12_160" class="t s1_160">Minor opcode in base 32-bit encoding </span><span id="t13_160" class="t s1_160">2 </span>
<span id="t14_160" class="t s6_160">8 </span>
<span id="t15_160" class="t s1_160">2 </span>
<span id="t16_160" class="t s6_160">20 </span>
<span id="t17_160" class="t s1_160">2 </span>
<span id="t18_160" class="t s6_160">35 </span>
<span id="t19_160" class="t s1_160">25-bit </span><span id="t1a_160" class="t s1_160">Major opcode in base 32-bit encoding </span><span id="t1b_160" class="t s1_160">32 </span><span id="t1c_160" class="t s1_160">2 </span>
<span id="t1d_160" class="t s6_160">17 </span>
<span id="t1e_160" class="t s1_160">2 </span>
<span id="t1f_160" class="t s6_160">32 </span>
<span id="t1g_160" class="t s1_160">30-bit </span><span id="t1h_160" class="t s1_160">Quadrant of base 32-bit encoding </span><span id="t1i_160" class="t s1_160">1 </span><span id="t1j_160" class="t s1_160">2 </span>
<span id="t1k_160" class="t s6_160">12 </span>
<span id="t1l_160" class="t s1_160">2 </span>
<span id="t1m_160" class="t s6_160">27 </span>
<span id="t1n_160" class="t s1_160">32-bit </span><span id="t1o_160" class="t s1_160">Minor opcode in 48-bit encoding </span><span id="t1p_160" class="t s1_160">2 </span>
<span id="t1q_160" class="t s6_160">10 </span>
<span id="t1r_160" class="t s1_160">2 </span>
<span id="t1s_160" class="t s6_160">25 </span>
<span id="t1t_160" class="t s1_160">37-bit </span><span id="t1u_160" class="t s1_160">Major opcode in 48-bit encoding </span><span id="t1v_160" class="t s1_160">32 </span><span id="t1w_160" class="t s1_160">2 </span>
<span id="t1x_160" class="t s6_160">20 </span>
<span id="t1y_160" class="t s1_160">40-bit </span><span id="t1z_160" class="t s1_160">Quadrant of 48-bit encoding </span><span id="t20_160" class="t s1_160">4 </span><span id="t21_160" class="t s1_160">2 </span>
<span id="t22_160" class="t s6_160">17 </span>
<span id="t23_160" class="t s1_160">45-bit </span><span id="t24_160" class="t s1_160">Sub-minor opcode in 64-bit encoding </span><span id="t25_160" class="t s1_160">2 </span>
<span id="t26_160" class="t s6_160">12 </span>
<span id="t27_160" class="t s1_160">48-bit </span><span id="t28_160" class="t s1_160">Minor opcode in 64-bit encoding </span><span id="t29_160" class="t s1_160">2 </span>
<span id="t2a_160" class="t s6_160">9 </span>
<span id="t2b_160" class="t s1_160">52-bit </span><span id="t2c_160" class="t s1_160">Major opcode in 64-bit encoding </span><span id="t2d_160" class="t s1_160">32 </span>
<span id="t2e_160" class="t s1_160">Table 26.1: Suggested standard RISC-V instruction encoding space sizes. </span>
<span id="t2f_160" class="t s3_160" data-mappings='[[5,"fi"],[22,"fi"]]'>Greenﬁeld versus Brownﬁeld Extensions </span>
<span id="t2g_160" class="t s1_160">We use the term </span><span id="t2h_160" class="t s4_160" data-mappings='[[5,"fi"]]'>greenﬁeld extension </span><span id="t2i_160" class="t s1_160">to describe an extension that begins populating a new in- </span>
<span id="t2j_160" class="t s1_160" data-mappings='[[63,"fl"],[79,"fi"]]'>struction encoding space, and hence can only cause encoding conﬂicts at the preﬁx level. </span><span id="t2k_160" class="t s1_160">We </span>
<span id="t2l_160" class="t s1_160">use the term </span><span id="t2m_160" class="t s4_160" data-mappings='[[5,"fi"]]'>brownﬁeld extension </span><span id="t2n_160" class="t s1_160" data-mappings='[[30,"fi"]]'>to describe an extension that ﬁts around existing encodings in </span>
<span id="t2o_160" class="t s1_160" data-mappings='[[15,"fi"],[46,"fi"]]'>a previously deﬁned instruction space. A brownﬁeld extension is necessarily tied to a particular </span>
<span id="t2p_160" class="t s1_160" data-mappings='[[5,"fi"],[58,"fi"],[91,"fi"]]'>greenﬁeld parent encoding, and there may be multiple brownﬁeld extensions to the same greenﬁeld </span>
<span id="t2q_160" class="t s1_160" data-mappings='[[53,"fi"]]'>parent encoding. For example, the base ISAs are greenﬁeld encodings of a 30-bit instruction space, </span>
<span id="t2r_160" class="t s1_160" data-mappings='[[14,"fl"],[52,"fi"]]'>while the FDQ ﬂoating-point extensions are all brownﬁeld extensions adding to the parent base </span>
<span id="t2s_160" class="t s1_160">ISA 30-bit encoding space. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
