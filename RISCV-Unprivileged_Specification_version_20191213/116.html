<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p116" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_116{left:110px;bottom:1129px;letter-spacing:-0.17px;}
#t2_116{left:475px;bottom:1129px;letter-spacing:-0.21px;word-spacing:1.47px;}
#t3_116{left:110px;bottom:1082px;letter-spacing:-0.17px;word-spacing:1.22px;}
#t4_116{left:110px;bottom:1062px;letter-spacing:-0.2px;word-spacing:2.49px;}
#t5_116{left:110px;bottom:1041px;letter-spacing:-0.14px;word-spacing:1.36px;}
#t6_116{left:110px;bottom:1020px;letter-spacing:-0.22px;word-spacing:1.19px;}
#t7_116{left:110px;bottom:999px;letter-spacing:-0.16px;word-spacing:1.26px;}
#t8_116{left:110px;bottom:979px;letter-spacing:-0.19px;word-spacing:3.2px;}
#t9_116{left:110px;bottom:958px;letter-spacing:-0.21px;}
#ta_116{left:219px;bottom:958px;letter-spacing:-0.19px;word-spacing:2.63px;}
#tb_116{left:110px;bottom:937px;letter-spacing:-0.17px;word-spacing:1.74px;}
#tc_116{left:110px;bottom:917px;letter-spacing:-0.49px;}
#td_116{left:152px;bottom:872px;letter-spacing:0.02px;word-spacing:2.18px;}
#te_116{left:152px;bottom:854px;letter-spacing:-0.01px;word-spacing:1.88px;}
#tf_116{left:177px;bottom:836px;letter-spacing:-0.01px;word-spacing:2.27px;}
#tg_116{left:152px;bottom:817px;letter-spacing:-0.02px;word-spacing:3.98px;}
#th_116{left:152px;bottom:799px;letter-spacing:0.02px;word-spacing:1.81px;}
#ti_116{left:152px;bottom:781px;letter-spacing:-0.02px;word-spacing:2.78px;}
#tj_116{left:152px;bottom:762px;letter-spacing:-0.04px;word-spacing:2.5px;}
#tk_116{left:152px;bottom:744px;letter-spacing:-0.02px;word-spacing:1.88px;}
#tl_116{left:177px;bottom:726px;letter-spacing:0.01px;word-spacing:1.27px;}
#tm_116{left:152px;bottom:708px;letter-spacing:0.04px;word-spacing:1.76px;}
#tn_116{left:177px;bottom:689px;letter-spacing:-0.03px;word-spacing:2.07px;}
#to_116{left:152px;bottom:671px;letter-spacing:0.06px;word-spacing:0.77px;}
#tp_116{left:152px;bottom:653px;letter-spacing:0.01px;word-spacing:3.36px;}
#tq_116{left:480px;bottom:653px;letter-spacing:-0.07px;word-spacing:3.52px;}
#tr_116{left:152px;bottom:635px;letter-spacing:0.04px;word-spacing:2.31px;}
#ts_116{left:152px;bottom:616px;letter-spacing:-0.04px;word-spacing:1.89px;}
#tt_116{left:110px;bottom:580px;letter-spacing:-0.26px;word-spacing:3.15px;}
#tu_116{left:110px;bottom:559px;letter-spacing:-0.23px;word-spacing:0.31px;}
#tv_116{left:110px;bottom:538px;letter-spacing:-0.18px;word-spacing:1.68px;}
#tw_116{left:135px;bottom:502px;}
#tx_116{left:152px;bottom:502px;letter-spacing:-0.19px;word-spacing:0.32px;}
#ty_116{left:152px;bottom:482px;letter-spacing:-0.15px;word-spacing:1.39px;}
#tz_116{left:135px;bottom:461px;}
#t10_116{left:152px;bottom:461px;letter-spacing:-0.21px;word-spacing:0.73px;}
#t11_116{left:152px;bottom:440px;letter-spacing:-0.15px;word-spacing:2.21px;}
#t12_116{left:152px;bottom:420px;letter-spacing:-0.13px;}
#t13_116{left:152px;bottom:375px;letter-spacing:0.02px;word-spacing:3.28px;}
#t14_116{left:152px;bottom:357px;letter-spacing:0.04px;word-spacing:3.69px;}
#t15_116{left:152px;bottom:339px;letter-spacing:0.05px;word-spacing:2.19px;}
#t16_116{left:152px;bottom:320px;letter-spacing:0.1px;word-spacing:1.64px;}
#t17_116{left:110px;bottom:284px;letter-spacing:-0.15px;word-spacing:1.17px;}
#t18_116{left:110px;bottom:263px;letter-spacing:-0.12px;word-spacing:1.34px;}
#t19_116{left:152px;bottom:218px;letter-spacing:-0.01px;word-spacing:2.36px;}
#t1a_116{left:152px;bottom:200px;letter-spacing:0.01px;word-spacing:2.87px;}
#t1b_116{left:246px;bottom:200px;}
#t1c_116{left:253px;bottom:200px;letter-spacing:0.07px;word-spacing:2.77px;}
#t1d_116{left:152px;bottom:182px;letter-spacing:0.05px;word-spacing:2.51px;}
#t1e_116{left:152px;bottom:164px;word-spacing:2.15px;}
#t1f_116{left:152px;bottom:145px;letter-spacing:0.06px;word-spacing:2.59px;}

.s1_116{font-size:17px;font-family:CMR10_270;color:#000;}
.s2_116{font-size:17px;font-family:CMSL10_27d;color:#000;}
.s3_116{font-size:15px;font-family:CMTI10_27t;color:#000;}
.s4_116{font-size:17px;font-family:CMSY10_27j;color:#000;}
.s5_116{font-size:15px;font-family:CMTI10_27t;color:#000080;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts116" type="text/css" >

@font-face {
	font-family: CMR10_270;
	src: url("fonts/CMR10_270.woff") format("woff");
}

@font-face {
	font-family: CMSL10_27d;
	src: url("fonts/CMSL10_27d.woff") format("woff");
}

@font-face {
	font-family: CMSY10_27j;
	src: url("fonts/CMSY10_27j.woff") format("woff");
}

@font-face {
	font-family: CMTI10_27t;
	src: url("fonts/CMTI10_27t.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg116Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg116" style="-webkit-user-select: none;"><object width="935" height="1210" data="116/116.svg" type="image/svg+xml" id="pdf116" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_116" class="t s1_116">98 </span><span id="t2_116" class="t s2_116">Volume I: RISC-V Unprivileged ISA V20191213 </span>
<span id="t3_116" class="t s1_116">opcodes to compress loads and stores of 64-bit integer values, while RV32C uses the same opcodes </span>
<span id="t4_116" class="t s1_116" data-mappings='[[49,"fl"]]'>to compress loads and stores of single-precision ﬂoating-point values. Similarly, RV128C requires </span>
<span id="t5_116" class="t s1_116">additional opcodes to capture loads and stores of 128-bit integer values, while these same opcodes </span>
<span id="t6_116" class="t s1_116" data-mappings='[[50,"fl"]]'>are used for loads and stores of double-precision ﬂoating-point values in RV32C and RV64C. If the </span>
<span id="t7_116" class="t s1_116" data-mappings='[[55,"fl"]]'>C extension is implemented, the appropriate compressed ﬂoating-point load and store instructions </span>
<span id="t8_116" class="t s1_116" data-mappings='[[48,"fl"]]'>must be provided whenever the relevant standard ﬂoating-point extension (F and/or D) is also </span>
<span id="t9_116" class="t s1_116">implemented. </span><span id="ta_116" class="t s1_116">In addition, RV32C includes a compressed jump and link instruction to compress </span>
<span id="tb_116" class="t s1_116">short-range subroutine calls, where the same opcode is used to compress ADDIW for RV64C and </span>
<span id="tc_116" class="t s1_116">RV128C. </span>
<span id="td_116" class="t s3_116" data-mappings='[[45,"fi"]]'>Double-precision loads and stores are a signiﬁcant fraction of static and dynamic instructions, </span>
<span id="te_116" class="t s3_116">hence the motivation to include them in the RV32C and RV64C encoding. </span>
<span id="tf_116" class="t s3_116" data-mappings='[[58,"fi"]]'>Although single-precision loads and stores are not a signiﬁcant source of static or dynamic </span>
<span id="tg_116" class="t s3_116">compression for benchmarks compiled for the currently supported ABIs, for microcontrollers </span>
<span id="th_116" class="t s3_116" data-mappings='[[44,"fl"]]'>that only provide hardware single-precision ﬂoating-point units and have an ABI that only sup- </span>
<span id="ti_116" class="t s3_116" data-mappings='[[23,"fl"]]'>ports single-precision ﬂoating-point numbers, the single-precision loads and stores will be used </span>
<span id="tj_116" class="t s3_116">at least as frequently as double-precision loads and stores in the measured benchmarks. Hence, </span>
<span id="tk_116" class="t s3_116">the motivation to provide compressed support for these in RV32C. </span>
<span id="tl_116" class="t s3_116">Short-range subroutine calls are more likely in small binaries for microcontrollers, hence the </span>
<span id="tm_116" class="t s3_116">motivation to include these in RV32C. </span>
<span id="tn_116" class="t s3_116" data-mappings='[[31,"ff"],[53,"ff"]]'>Although reusing opcodes for diﬀerent purposes for diﬀerent base register widths adds some </span>
<span id="to_116" class="t s3_116">complexity to documentation, the impact on implementation complexity is small even for designs </span>
<span id="tp_116" class="t s3_116">that support multiple base ISA register widths. </span><span id="tq_116" class="t s3_116" data-mappings='[[15,"fl"]]'>The compressed ﬂoating-point load and store </span>
<span id="tr_116" class="t s3_116" data-mappings='[[69,"fi"]]'>variants use the same instruction format with the same register speciﬁers as the wider integer </span>
<span id="ts_116" class="t s3_116">loads and stores. </span>
<span id="tt_116" class="t s1_116">RVC was designed under the constraint that each RVC instruction expands into a single 32-bit </span>
<span id="tu_116" class="t s1_116">instruction in either the base ISA (RV32I/E, RV64I, or RV128I) or the F and D standard extensions </span>
<span id="tv_116" class="t s1_116" data-mappings='[[57,"fi"]]'>where present. Adopting this constraint has two main beneﬁts: </span>
<span id="tw_116" class="t s4_116">• </span><span id="tx_116" class="t s1_116" data-mappings='[[83,"fi"]]'>Hardware designs can simply expand RVC instructions during decode, simplifying veriﬁcation </span>
<span id="ty_116" class="t s1_116" data-mappings='[[19,"fi"]]'>and minimizing modiﬁcations to existing microarchitectures. </span>
<span id="tz_116" class="t s4_116">• </span><span id="t10_116" class="t s1_116">Compilers can be unaware of the RVC extension and leave code compression to the assembler </span>
<span id="t11_116" class="t s1_116">and linker, although a compression-aware compiler will generally be able to produce better </span>
<span id="t12_116" class="t s1_116">results. </span>
<span id="t13_116" class="t s3_116">We felt the multiple complexity reductions of a simple one-one mapping between C and base </span>
<span id="t14_116" class="t s3_116">IFD instructions far outweighed the potential gains of a slightly denser encoding that added </span>
<span id="t15_116" class="t s3_116">additional instructions only supported in the C extension, or that allowed encoding of multiple </span>
<span id="t16_116" class="t s3_116">IFD instructions in one C instruction. </span>
<span id="t17_116" class="t s1_116">It is important to note that the C extension is not designed to be a stand-alone ISA, and is meant </span>
<span id="t18_116" class="t s1_116">to be used alongside a base ISA. </span>
<span id="t19_116" class="t s3_116">Variable-length instruction sets have long been used to improve code density. For example, the </span>
<span id="t1a_116" class="t s3_116">IBM Stretch [</span><span id="t1b_116" class="t s5_116">4</span><span id="t1c_116" class="t s3_116">], developed in the late 1950s, had an ISA with 32-bit and 64-bit instructions, </span>
<span id="t1d_116" class="t s3_116">where some of the 32-bit instructions were compressed versions of the full 64-bit instructions. </span>
<span id="t1e_116" class="t s3_116">Stretch also employed the concept of limiting the set of registers that were addressable in some </span>
<span id="t1f_116" class="t s3_116">of the shorter instruction formats, with short branch instructions that could only refer to one </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
