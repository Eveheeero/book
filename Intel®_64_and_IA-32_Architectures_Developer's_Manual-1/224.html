<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p224" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_224{left:69px;bottom:68px;letter-spacing:0.11px;}
#t2_224{left:103px;bottom:68px;letter-spacing:0.09px;}
#t3_224{left:69px;bottom:1141px;letter-spacing:-0.15px;word-spacing:0.01px;}
#t4_224{left:69px;bottom:1088px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t5_224{left:672px;bottom:1088px;letter-spacing:-0.14px;word-spacing:-0.44px;}
#t6_224{left:69px;bottom:1071px;}
#t7_224{left:75px;bottom:1071px;letter-spacing:-0.15px;}
#t8_224{left:99px;bottom:1071px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t9_224{left:266px;bottom:1071px;}
#ta_224{left:275px;bottom:1071px;letter-spacing:-0.11px;word-spacing:-0.41px;}
#tb_224{left:306px;bottom:1071px;}
#tc_224{left:310px;bottom:1071px;}
#td_224{left:317px;bottom:1071px;}
#te_224{left:325px;bottom:1071px;letter-spacing:-0.13px;word-spacing:-0.51px;}
#tf_224{left:365px;bottom:1071px;}
#tg_224{left:373px;bottom:1071px;}
#th_224{left:379px;bottom:1071px;}
#ti_224{left:387px;bottom:1071px;letter-spacing:-0.14px;word-spacing:-0.5px;}
#tj_224{left:69px;bottom:1054px;letter-spacing:-0.17px;word-spacing:-0.44px;}
#tk_224{left:69px;bottom:960px;letter-spacing:-0.16px;}
#tl_224{left:115px;bottom:960px;}
#tm_224{left:128px;bottom:960px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#tn_224{left:69px;bottom:883px;letter-spacing:0.08px;word-spacing:-1.11px;}
#to_224{left:69px;bottom:866px;letter-spacing:-0.13px;word-spacing:-0.51px;}
#tp_224{left:69px;bottom:849px;letter-spacing:-0.14px;word-spacing:-1.22px;}
#tq_224{left:69px;bottom:832px;letter-spacing:-0.13px;}
#tr_224{left:69px;bottom:808px;letter-spacing:-0.18px;word-spacing:-0.45px;}
#ts_224{left:69px;bottom:791px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tt_224{left:69px;bottom:774px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#tu_224{left:69px;bottom:757px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tv_224{left:291px;bottom:757px;}
#tw_224{left:302px;bottom:757px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#tx_224{left:69px;bottom:741px;letter-spacing:-0.17px;word-spacing:-0.47px;}
#ty_224{left:424px;bottom:741px;}
#tz_224{left:436px;bottom:741px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t10_224{left:69px;bottom:724px;letter-spacing:-0.11px;}
#t11_224{left:69px;bottom:699px;letter-spacing:-0.16px;word-spacing:-0.58px;}
#t12_224{left:69px;bottom:683px;letter-spacing:-0.13px;word-spacing:-0.5px;}
#t13_224{left:69px;bottom:666px;letter-spacing:-0.14px;word-spacing:-0.52px;}
#t14_224{left:69px;bottom:641px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t15_224{left:69px;bottom:624px;letter-spacing:-0.14px;word-spacing:-0.99px;}
#t16_224{left:772px;bottom:624px;}
#t17_224{left:783px;bottom:624px;letter-spacing:-0.11px;word-spacing:-0.98px;}
#t18_224{left:69px;bottom:608px;letter-spacing:-0.14px;word-spacing:-0.5px;}
#t19_224{left:279px;bottom:608px;}
#t1a_224{left:287px;bottom:608px;letter-spacing:-0.18px;word-spacing:-0.44px;}
#t1b_224{left:69px;bottom:583px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t1c_224{left:69px;bottom:566px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t1d_224{left:69px;bottom:550px;letter-spacing:-0.14px;word-spacing:-0.82px;}
#t1e_224{left:69px;bottom:533px;letter-spacing:-0.16px;word-spacing:-0.44px;}
#t1f_224{left:69px;bottom:516px;letter-spacing:-0.14px;word-spacing:-0.65px;}
#t1g_224{left:69px;bottom:499px;letter-spacing:-0.17px;word-spacing:-0.44px;}
#t1h_224{left:69px;bottom:473px;}
#t1i_224{left:95px;bottom:476px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t1j_224{left:268px;bottom:476px;}
#t1k_224{left:280px;bottom:476px;letter-spacing:-0.13px;word-spacing:-0.43px;}
#t1l_224{left:69px;bottom:450px;}
#t1m_224{left:95px;bottom:453px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#t1n_224{left:203px;bottom:453px;}
#t1o_224{left:210px;bottom:453px;letter-spacing:-0.1px;word-spacing:-0.52px;}
#t1p_224{left:252px;bottom:453px;}
#t1q_224{left:260px;bottom:453px;letter-spacing:-0.16px;word-spacing:-0.4px;}
#t1r_224{left:69px;bottom:427px;}
#t1s_224{left:95px;bottom:430px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t1t_224{left:268px;bottom:430px;}
#t1u_224{left:276px;bottom:430px;letter-spacing:-0.17px;word-spacing:-0.46px;}
#t1v_224{left:69px;bottom:406px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#t1w_224{left:69px;bottom:389px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#t1x_224{left:206px;bottom:389px;}
#t1y_224{left:218px;bottom:389px;letter-spacing:-0.16px;word-spacing:-0.44px;}
#t1z_224{left:69px;bottom:365px;letter-spacing:-0.14px;word-spacing:-0.49px;}
#t20_224{left:69px;bottom:348px;letter-spacing:-0.18px;word-spacing:-0.42px;}
#t21_224{left:69px;bottom:331px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t22_224{left:69px;bottom:314px;letter-spacing:-0.15px;word-spacing:-0.51px;}
#t23_224{left:121px;bottom:314px;}
#t24_224{left:129px;bottom:314px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#t25_224{left:386px;bottom:314px;}
#t26_224{left:394px;bottom:314px;letter-spacing:-0.18px;word-spacing:-0.44px;}
#t27_224{left:69px;bottom:290px;letter-spacing:-0.16px;word-spacing:-0.5px;}
#t28_224{left:69px;bottom:273px;letter-spacing:-0.13px;word-spacing:-1.06px;}
#t29_224{left:674px;bottom:273px;}
#t2a_224{left:682px;bottom:273px;letter-spacing:-0.13px;word-spacing:-1.11px;}
#t2b_224{left:69px;bottom:256px;letter-spacing:-0.35px;word-spacing:-0.25px;}
#t2c_224{left:135px;bottom:256px;}
#t2d_224{left:142px;bottom:256px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t2e_224{left:69px;bottom:239px;letter-spacing:-0.14px;word-spacing:-0.44px;}
#t2f_224{left:69px;bottom:215px;letter-spacing:-0.14px;word-spacing:-0.63px;}
#t2g_224{left:69px;bottom:198px;letter-spacing:-0.12px;word-spacing:-0.53px;}
#t2h_224{left:118px;bottom:198px;}
#t2i_224{left:126px;bottom:198px;letter-spacing:-0.18px;word-spacing:-0.45px;}
#t2j_224{left:358px;bottom:198px;}
#t2k_224{left:366px;bottom:198px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#t2l_224{left:69px;bottom:181px;letter-spacing:-0.14px;word-spacing:-1.12px;}
#t2m_224{left:69px;bottom:165px;letter-spacing:-0.13px;word-spacing:-0.52px;}
#t2n_224{left:69px;bottom:140px;letter-spacing:-0.19px;word-spacing:-0.41px;}
#t2o_224{left:76px;bottom:1018px;letter-spacing:1.02px;}
#t2p_224{left:141px;bottom:1024px;letter-spacing:7.27px;}
#t2q_224{left:146px;bottom:1024px;letter-spacing:9.19px;}
#t2r_224{left:181px;bottom:1024px;letter-spacing:7.28px;}
#t2s_224{left:191px;bottom:1024px;letter-spacing:9.09px;}
#t2t_224{left:169px;bottom:1024px;}
#t2u_224{left:156px;bottom:998px;}
#t2v_224{left:165px;bottom:1009px;}
#t2w_224{left:182px;bottom:1009px;letter-spacing:0.14px;}
#t2x_224{left:173px;bottom:1009px;}
#t2y_224{left:141px;bottom:1016px;letter-spacing:-2.48px;}
#t2z_224{left:119px;bottom:1018px;}
#t30_224{left:70px;bottom:921px;}
#t31_224{left:94px;bottom:921px;}
#t32_224{left:110px;bottom:931px;}
#t33_224{left:102px;bottom:931px;}
#t34_224{left:118px;bottom:921px;letter-spacing:7.17px;}
#t35_224{left:123px;bottom:921px;letter-spacing:9.92px;}
#t36_224{left:159px;bottom:921px;letter-spacing:0.17px;}
#t37_224{left:147px;bottom:921px;}
#t38_224{left:82px;bottom:921px;}

.s1_224{font-size:12px;font-family:NeoSansIntel_pgv;color:#000;}
.s2_224{font-size:14px;font-family:NeoSansIntel_pgv;color:#0860A8;}
.s3_224{font-size:14px;font-family:Verdana_13-;color:#000;}
.s4_224{font-size:14px;font-family:Verdana-Bold_pgt;color:#000;}
.s5_224{font-size:14px;font-family:Verdana-Italic_142;color:#000;}
.s6_224{font-size:14px;font-family:Symbol_144;color:#000;}
.s7_224{font-size:21px;font-family:TimesNewRoman_143;color:#000;}
.s8_224{font-size:15px;font-family:TimesNewRoman-Italic_i5;color:#000;}
.s9_224{font-size:15px;font-family:Symbol_144;color:#000;}
.sa_224{font-size:15px;font-family:TimesNewRoman_143;color:#000;}
.sb_224{font-size:12px;font-family:TimesNewRoman-Italic_i5;color:#000;}
.sc_224{font-size:12px;font-family:TimesNewRoman_143;color:#000;}
.sd_224{font-size:14px;font-family:TimesNewRoman_143;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts224" type="text/css" >

@font-face {
	font-family: NeoSansIntel_pgv;
	src: url("fonts/NeoSansIntel_pgv.woff") format("woff");
}

@font-face {
	font-family: Symbol_144;
	src: url("fonts/Symbol_144.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Italic_i5;
	src: url("fonts/TimesNewRoman-Italic_i5.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_143;
	src: url("fonts/TimesNewRoman_143.woff") format("woff");
}

@font-face {
	font-family: Verdana-Bold_pgt;
	src: url("fonts/Verdana-Bold_pgt.woff") format("woff");
}

@font-face {
	font-family: Verdana-Italic_142;
	src: url("fonts/Verdana-Italic_142.woff") format("woff");
}

@font-face {
	font-family: Verdana_13-;
	src: url("fonts/Verdana_13-.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg224Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg224" style="-webkit-user-select: none;"><object width="935" height="1210" data="224/224.svg" type="image/svg+xml" id="pdf224" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_224" class="t s1_224">8-22 </span><span id="t2_224" class="t s1_224">Vol. 1 </span>
<span id="t3_224" class="t s2_224">PROGRAMMING WITH THE X87 FPU </span>
<span id="t4_224" class="t s3_224">and x87 math coprocessors. The accuracy of these instructions is measured in terms of </span><span id="t5_224" class="t s4_224">units in the last place </span>
<span id="t6_224" class="t s3_224">(</span><span id="t7_224" class="t s4_224">ulp</span><span id="t8_224" class="t s3_224">). For a given argument </span><span id="t9_224" class="t s5_224">x</span><span id="ta_224" class="t s3_224">, let </span><span id="tb_224" class="t s5_224">f</span><span id="tc_224" class="t s3_224">(</span><span id="td_224" class="t s5_224">x</span><span id="te_224" class="t s3_224">) and </span><span id="tf_224" class="t s5_224">F</span><span id="tg_224" class="t s3_224">(</span><span id="th_224" class="t s5_224">x</span><span id="ti_224" class="t s3_224">) be the correct and computed (approximate) function values, </span>
<span id="tj_224" class="t s3_224">respectively. The error in ulps is defined to be: </span>
<span id="tk_224" class="t s3_224">where </span><span id="tl_224" class="t s5_224">k </span><span id="tm_224" class="t s3_224">is an integer such that: </span>
<span id="tn_224" class="t s3_224">With the Pentium processor and later IA-32 processors, the worst case error on transcendental functions is less </span>
<span id="to_224" class="t s3_224">than 1 ulp when rounding to the nearest (even) and less than 1.5 ulps when rounding in other modes. The func- </span>
<span id="tp_224" class="t s3_224">tions are guaranteed to be monotonic, with respect to the input operands, throughout the domain supported by the </span>
<span id="tq_224" class="t s3_224">instruction. </span>
<span id="tr_224" class="t s3_224">However, for FSIN, FCOS, FSINCOS, and FPTAN which approximate periodic trigonometric functions, the previous </span>
<span id="ts_224" class="t s3_224">statement about maximum ulp errors is true only when these instructions are applied to reduced argument (see </span>
<span id="tt_224" class="t s3_224">Section 8.3.8, “Approximation of Pi”). This is due to the fact that only 66 significant bits are retained in the finite </span>
<span id="tu_224" class="t s3_224">approximation Pi of the number </span><span id="tv_224" class="t s6_224">π </span><span id="tw_224" class="t s3_224">(3.1415926…), used internally for calculating the reduced argument in FSIN, </span>
<span id="tx_224" class="t s3_224">FCOS, FSINCOS, and FPTAN. This approximation of </span><span id="ty_224" class="t s6_224">π </span><span id="tz_224" class="t s3_224">is not always sufficiently accurate for good argument reduc- </span>
<span id="t10_224" class="t s3_224">tion. </span>
<span id="t11_224" class="t s3_224">For single precision, the argument of FSIN, FCOS, FSINCOS, and FPTAN must exceed 200,000 radians in order for </span>
<span id="t12_224" class="t s3_224">the error of the result to exceed 1 ulp when rounding to the nearest (even), or 1.5 ulps when rounding in other </span>
<span id="t13_224" class="t s3_224">(directed) rounding modes. </span>
<span id="t14_224" class="t s3_224">For double and double-extended precision, the ulp errors will grow above these thresholds for arguments much </span>
<span id="t15_224" class="t s3_224">smaller in magnitude. The ulp errors increase significantly when the argument approaches the value of </span><span id="t16_224" class="t s6_224">π </span><span id="t17_224" class="t s3_224">(or Pi) for </span>
<span id="t18_224" class="t s3_224">FSIN, and when it approaches </span><span id="t19_224" class="t s6_224">π</span><span id="t1a_224" class="t s3_224">/2(or Pi/2) for FCOS, FSINCOS, and FPTAN. </span>
<span id="t1b_224" class="t s3_224">For all three IEEE precisions supported (32-bit single precision, 64-bit double precision, and 80-bit double- </span>
<span id="t1c_224" class="t s3_224">extended precision), applying FSIN, FCOS, FSINCOS, or FPTAN to arguments larger than a certain value can lead </span>
<span id="t1d_224" class="t s3_224">to reduced arguments (calculated internally) that are inaccurate or even very inaccurate in some cases. This leads </span>
<span id="t1e_224" class="t s3_224">to equally inaccurate approximations of the corresponding mathematical functions. In particular, arguments that </span>
<span id="t1f_224" class="t s3_224">are close to certain values will lose significance when reduced, leading to increased relative (and ulp) errors in the </span>
<span id="t1g_224" class="t s3_224">results of FSIN, FCOS, FSINCOS, and FPTAN. These values are: </span>
<span id="t1h_224" class="t s7_224">• </span><span id="t1i_224" class="t s3_224">Any non-zero multiple of </span><span id="t1j_224" class="t s6_224">π </span><span id="t1k_224" class="t s3_224">for FSIN. </span>
<span id="t1l_224" class="t s7_224">• </span><span id="t1m_224" class="t s3_224">Any multiple of </span><span id="t1n_224" class="t s6_224">π</span><span id="t1o_224" class="t s3_224">, plus </span><span id="t1p_224" class="t s6_224">π</span><span id="t1q_224" class="t s3_224">/2 for FCOS. </span>
<span id="t1r_224" class="t s7_224">• </span><span id="t1s_224" class="t s3_224">Any non-zero multiple of </span><span id="t1t_224" class="t s6_224">π</span><span id="t1u_224" class="t s3_224">/2 for FSINCOS and FPTAN. </span>
<span id="t1v_224" class="t s3_224">If the arguments passed to FSIN, FCOS, FSINCOS, and FPTAN are not close to these values then even the finite </span>
<span id="t1w_224" class="t s3_224">approximation Pi of </span><span id="t1x_224" class="t s6_224">π </span><span id="t1y_224" class="t s3_224">used internally for argument reduction will allow for results that have good accuracy. </span>
<span id="t1z_224" class="t s3_224">Therefore, in order to avoid such errors it is recommended to perform accurate argument reduction in software, </span>
<span id="t20_224" class="t s3_224">and to apply FSIN, FCOS, FSINCOS, and FPTAN to reduced arguments only. Regardless of the target precision </span>
<span id="t21_224" class="t s3_224">(single, double, or double-extended), it is safe to reduce the argument to a value smaller in absolute value than </span>
<span id="t22_224" class="t s3_224">about 3</span><span id="t23_224" class="t s6_224">π</span><span id="t24_224" class="t s3_224">/4 for FSIN, and smaller than about 3</span><span id="t25_224" class="t s6_224">π</span><span id="t26_224" class="t s3_224">/8 for FCOS, FSINCOS, and FPTAN. </span>
<span id="t27_224" class="t s3_224">The thresholds shown above are not exact. For example, accuracy measurements show that the double-extended </span>
<span id="t28_224" class="t s3_224">precision result of FSIN will not have errors larger than 0.72 ulp for |x| &lt; 2.82 (so |x| &lt; 3</span><span id="t29_224" class="t s6_224">π</span><span id="t2a_224" class="t s3_224">/4 will ensure good accu- </span>
<span id="t2b_224" class="t s3_224">racy, as 3</span><span id="t2c_224" class="t s6_224">π</span><span id="t2d_224" class="t s3_224">/4 &lt; 2.82). On the same interval, double precision results from FSIN will have errors at most slightly </span>
<span id="t2e_224" class="t s3_224">larger than 0.5 ulp, and single precision results will be correctly rounded in the vast majority of cases. </span>
<span id="t2f_224" class="t s3_224">Likewise, the double-extended precision result of FCOS will not have errors larger than 0.82 ulp for |x| &lt; 1.31 (so </span>
<span id="t2g_224" class="t s3_224">|x| &lt; 3</span><span id="t2h_224" class="t s6_224">π</span><span id="t2i_224" class="t s3_224">/8 will ensure good accuracy, as 3</span><span id="t2j_224" class="t s6_224">π</span><span id="t2k_224" class="t s3_224">/8 &lt; 1.31). On the same interval, double precision results from FCOS </span>
<span id="t2l_224" class="t s3_224">will have errors at most slightly larger than 0.5 ulp, and single precision results will be correctly rounded in the vast </span>
<span id="t2m_224" class="t s3_224">majority of cases. </span>
<span id="t2n_224" class="t s3_224">FSINCOS behaves similarly to FSIN and FCOS, combined as a pair. </span>
<span id="t2o_224" class="t s8_224">error </span>
<span id="t2p_224" class="t s8_224">fx </span><span id="t2q_224" class="t s9_224">() </span><span id="t2r_224" class="t s8_224">Fx </span><span id="t2s_224" class="t s9_224">() </span><span id="t2t_224" class="t sa_224">– </span>
<span id="t2u_224" class="t s8_224">2 </span>
<span id="t2v_224" class="t sb_224">k </span><span id="t2w_224" class="t sb_224">63 </span><span id="t2x_224" class="t sc_224">– </span>
<span id="t2y_224" class="t s8_224">-------------------------- </span>
<span id="t2z_224" class="t s8_224">= </span>
<span id="t30_224" class="t sa_224">1 </span><span id="t31_224" class="t sa_224">2 </span>
<span id="t32_224" class="t sd_224">k </span><span id="t33_224" class="t sd_224">– </span>
<span id="t34_224" class="t sa_224">fx </span><span id="t35_224" class="t s9_224">() </span><span id="t36_224" class="t sa_224">2. </span><span id="t37_224" class="t s9_224">&lt; </span><span id="t38_224" class="t s9_224">≤ </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
