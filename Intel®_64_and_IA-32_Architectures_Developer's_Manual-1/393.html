<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p393" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_393{left:782px;bottom:68px;letter-spacing:0.09px;word-spacing:-0.09px;}
#t2_393{left:820px;bottom:68px;letter-spacing:0.12px;}
#t3_393{left:628px;bottom:1141px;letter-spacing:-0.14px;}
#t4_393{left:70px;bottom:1088px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t5_393{left:70px;bottom:1071px;letter-spacing:-0.16px;word-spacing:-0.48px;}
#t6_393{left:70px;bottom:1048px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#t7_393{left:70px;bottom:1002px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#t8_393{left:70px;bottom:979px;letter-spacing:-0.16px;word-spacing:-0.83px;}
#t9_393{left:70px;bottom:956px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#ta_393{left:70px;bottom:910px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#tb_393{left:70px;bottom:888px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#tc_393{left:70px;bottom:842px;letter-spacing:-0.16px;word-spacing:-0.82px;}
#td_393{left:70px;bottom:819px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#te_393{left:70px;bottom:760px;letter-spacing:0.13px;}
#tf_393{left:152px;bottom:760px;letter-spacing:0.16px;word-spacing:0.01px;}
#tg_393{left:70px;bottom:738px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#th_393{left:70px;bottom:721px;letter-spacing:-0.14px;word-spacing:-0.5px;}
#ti_393{left:70px;bottom:704px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tj_393{left:70px;bottom:687px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tk_393{left:70px;bottom:664px;letter-spacing:-0.15px;word-spacing:-0.48px;}
#tl_393{left:70px;bottom:648px;letter-spacing:-0.14px;word-spacing:-0.66px;}
#tm_393{left:70px;bottom:631px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#tn_393{left:70px;bottom:614px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#to_393{left:70px;bottom:591px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#tp_393{left:70px;bottom:565px;}
#tq_393{left:96px;bottom:568px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#tr_393{left:70px;bottom:542px;}
#ts_393{left:96px;bottom:545px;letter-spacing:-0.15px;word-spacing:-0.48px;}
#tt_393{left:96px;bottom:529px;letter-spacing:-0.17px;word-spacing:-0.44px;}
#tu_393{left:70px;bottom:506px;letter-spacing:-0.19px;word-spacing:-0.39px;}
#tv_393{left:70px;bottom:483px;letter-spacing:-0.16px;word-spacing:-0.81px;}
#tw_393{left:70px;bottom:460px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#tx_393{left:70px;bottom:443px;letter-spacing:-0.14px;word-spacing:-0.67px;}
#ty_393{left:70px;bottom:426px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#tz_393{left:70px;bottom:409px;letter-spacing:-0.13px;word-spacing:-0.51px;}
#t10_393{left:70px;bottom:386px;letter-spacing:-0.16px;word-spacing:-0.84px;}
#t11_393{left:70px;bottom:364px;letter-spacing:-0.14px;word-spacing:-0.79px;}
#t12_393{left:70px;bottom:347px;letter-spacing:-0.14px;word-spacing:-0.45px;}
#t13_393{left:70px;bottom:330px;letter-spacing:-0.17px;}
#t14_393{left:70px;bottom:307px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t15_393{left:70px;bottom:290px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t16_393{left:70px;bottom:273px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#t17_393{left:70px;bottom:205px;letter-spacing:0.17px;}
#t18_393{left:151px;bottom:205px;letter-spacing:0.21px;word-spacing:0.06px;}
#t19_393{left:70px;bottom:182px;letter-spacing:-0.16px;word-spacing:-0.48px;}
#t1a_393{left:70px;bottom:165px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#t1b_393{left:70px;bottom:139px;}
#t1c_393{left:96px;bottom:142px;letter-spacing:-0.15px;word-spacing:-0.45px;}
#t1d_393{left:96px;bottom:125px;letter-spacing:-0.17px;word-spacing:-0.43px;}
#t1e_393{left:96px;bottom:108px;letter-spacing:-0.18px;word-spacing:-0.42px;}

.s1_393{font-size:12px;font-family:NeoSansIntel_pgv;color:#000;}
.s2_393{font-size:14px;font-family:NeoSansIntel_pgv;color:#0860A8;}
.s3_393{font-size:14px;font-family:Verdana_13-;color:#000;}
.s4_393{font-size:14px;font-family:CourierNew_147;color:#000;}
.s5_393{font-size:18px;font-family:NeoSansIntelMedium_pgu;color:#0860A8;}
.s6_393{font-size:21px;font-family:TimesNewRoman_143;color:#000;}
.s7_393{font-size:21px;font-family:NeoSansIntelMedium_pgu;color:#0860A8;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts393" type="text/css" >

@font-face {
	font-family: CourierNew_147;
	src: url("fonts/CourierNew_147.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntelMedium_pgu;
	src: url("fonts/NeoSansIntelMedium_pgu.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_pgv;
	src: url("fonts/NeoSansIntel_pgv.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_143;
	src: url("fonts/TimesNewRoman_143.woff") format("woff");
}

@font-face {
	font-family: Verdana_13-;
	src: url("fonts/Verdana_13-.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg393Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg393" style="-webkit-user-select: none;"><object width="935" height="1210" data="393/393.svg" type="image/svg+xml" id="pdf393" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_393" class="t s1_393">Vol. 1 </span><span id="t2_393" class="t s1_393">15-13 </span>
<span id="t3_393" class="t s2_393">PROGRAMMING WITH INTEL® AVX-512 </span>
<span id="t4_393" class="t s3_393">This would perform the single precision floating-point addition of vectors zmm2 and zmm4 with round-towards- </span>
<span id="t5_393" class="t s3_393">minus-infinity, leaving the result in vector zmm7 using k6 as conditional writemask. </span>
<span id="t6_393" class="t s3_393">Note that MXCSR.RM bits are ignored and unaffected by the outcome of this instruction. </span>
<span id="t7_393" class="t s3_393">Examples of instruction instances where the static rounding-mode is not allowed are shown below: </span>
<span id="t8_393" class="t s4_393">; rounding-mode already specified in the instruction immediate </span>
<span id="t9_393" class="t s4_393">vrndscaleps zmm7 {k6}, zmm2, 0x00 </span>
<span id="ta_393" class="t s4_393">; instructions with memory operands </span>
<span id="tb_393" class="t s4_393">vmulps zmm7 {k6}, zmm2,[rax], {rd-sae} </span>
<span id="tc_393" class="t s4_393">; instructions with vector length different than MAXVL (512-bit) </span>
<span id="td_393" class="t s4_393">vaddps ymm7 {k6}, ymm2, ymm4,{rd-sae} </span>
<span id="te_393" class="t s5_393">15.6.5 </span><span id="tf_393" class="t s5_393">Compressed Disp8*N Encoding </span>
<span id="tg_393" class="t s3_393">EVEX encoding supports a new displacement representation that allows for a more compact encoding of memory </span>
<span id="th_393" class="t s3_393">addressing commonly used in unrolled code, where an 8-bit displacement can address a range exceeding the </span>
<span id="ti_393" class="t s3_393">dynamic range of an 8-bit value. This compressed displacement encoding is referred to as disp8*N, where N is a </span>
<span id="tj_393" class="t s3_393">constant implied by the memory operation characteristic of each instruction. </span>
<span id="tk_393" class="t s3_393">The compressed displacement is based on the assumption that the effective displacement (of a memory operand </span>
<span id="tl_393" class="t s3_393">occurring in a loop) is a multiple of the granularity of the memory access of each iteration. Since the base register </span>
<span id="tm_393" class="t s3_393">in memory addressing already provides byte-granular resolution, the lower bits of the traditional disp8 operand </span>
<span id="tn_393" class="t s3_393">become redundant, and can be implied from the memory operation characteristic. </span>
<span id="to_393" class="t s3_393">The memory operation characteristics depend on the following: </span>
<span id="tp_393" class="t s6_393">• </span><span id="tq_393" class="t s3_393">The destination operand is updated as a full vector, a single element, or multi-element tuples. </span>
<span id="tr_393" class="t s6_393">• </span><span id="ts_393" class="t s3_393">The memory source operand (or vector source operand if the destination operand is memory) is fetched (or </span>
<span id="tt_393" class="t s3_393">treated) as a full vector, a single element, or multi-element tuples. </span>
<span id="tu_393" class="t s3_393">For example: </span>
<span id="tv_393" class="t s4_393">vaddps zmm7, zmm2, disp8[membase + index*8] </span>
<span id="tw_393" class="t s3_393">The destination zmm7 is updated as a full 512-bit vector, and 64-bytes of data are fetched from memory as a full </span>
<span id="tx_393" class="t s3_393">vector; the next unrolled iteration may fetch from memory in 64-byte granularity per iteration. There are 6 bits of </span>
<span id="ty_393" class="t s3_393">lowest address that can be compressed, hence N = 2^6 = 64. The contribution of “disp8” to effective address </span>
<span id="tz_393" class="t s3_393">calculation is 64*disp8. </span>
<span id="t10_393" class="t s4_393">vbroadcastf32x4 zmm7, disp8[membase + index*8] </span>
<span id="t11_393" class="t s3_393">In VBROADCASTF32x4, memory is fetched as a 4tuple of 4 32-bit entities. Hence the common lowest address bits </span>
<span id="t12_393" class="t s3_393">that can be compressed are 4, corresponding to the 4tuple width of 2^4 = 16 bytes (4x32 bits). Therefore, N = </span>
<span id="t13_393" class="t s3_393">2^4. </span>
<span id="t14_393" class="t s3_393">For EVEX encoded instructions that update only one element in the destination, or the source element is fetched </span>
<span id="t15_393" class="t s3_393">individually, the number of lowest address bits that can be compressed is generally the width in bytes of the data </span>
<span id="t16_393" class="t s3_393">element, hence N = 2^(width). </span>
<span id="t17_393" class="t s7_393">15.7 </span><span id="t18_393" class="t s7_393">MEMORY ALIGNMENT </span>
<span id="t19_393" class="t s3_393">Memory alignment requirements on EVEX-encoded SIMD instructions are similar to VEX-encoded SIMD instruc- </span>
<span id="t1a_393" class="t s3_393">tions. Memory alignment applies to EVEX-encoded SIMD instructions in three categories: </span>
<span id="t1b_393" class="t s6_393">• </span><span id="t1c_393" class="t s3_393">Explicitly-aligned SIMD load and store instructions accessing 64 bytes of memory with EVEX prefix encoded </span>
<span id="t1d_393" class="t s3_393">vector length of 512 bits (e.g., VMOVAPD, VMOVAPS, VMOVDQA, etc.). These instructions always require the </span>
<span id="t1e_393" class="t s3_393">memory address to be aligned on a 64-byte boundary. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
