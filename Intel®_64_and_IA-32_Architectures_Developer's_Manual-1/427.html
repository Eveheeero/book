<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p427" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_427{left:789px;bottom:68px;letter-spacing:0.08px;word-spacing:0.01px;}
#t2_427{left:827px;bottom:68px;letter-spacing:0.1px;}
#t3_427{left:712px;bottom:1076px;letter-spacing:0.26px;word-spacing:0.56px;}
#t4_427{left:683px;bottom:1051px;letter-spacing:0.26px;}
#t5_427{left:69px;bottom:996px;letter-spacing:-0.16px;word-spacing:-0.61px;}
#t6_427{left:69px;bottom:979px;letter-spacing:-0.13px;word-spacing:-1.11px;}
#t7_427{left:69px;bottom:962px;letter-spacing:-0.16px;word-spacing:-1.25px;}
#t8_427{left:69px;bottom:946px;letter-spacing:-0.13px;word-spacing:-1.15px;}
#t9_427{left:69px;bottom:929px;letter-spacing:-0.15px;word-spacing:-1.22px;}
#ta_427{left:69px;bottom:912px;letter-spacing:-0.16px;word-spacing:-0.45px;}
#tb_427{left:69px;bottom:888px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#tc_427{left:69px;bottom:861px;}
#td_427{left:95px;bottom:865px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#te_427{left:69px;bottom:838px;}
#tf_427{left:95px;bottom:842px;letter-spacing:-0.13px;word-spacing:-0.51px;}
#tg_427{left:69px;bottom:815px;}
#th_427{left:95px;bottom:819px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#ti_427{left:69px;bottom:751px;letter-spacing:0.16px;}
#tj_427{left:150px;bottom:751px;letter-spacing:0.2px;word-spacing:0.01px;}
#tk_427{left:69px;bottom:726px;letter-spacing:-0.14px;word-spacing:-0.49px;}
#tl_427{left:69px;bottom:699px;}
#tm_427{left:95px;bottom:703px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#tn_427{left:69px;bottom:676px;}
#to_427{left:95px;bottom:680px;letter-spacing:-0.18px;word-spacing:-0.45px;}
#tp_427{left:69px;bottom:655px;letter-spacing:-0.14px;word-spacing:-0.46px;}
#tq_427{left:69px;bottom:639px;letter-spacing:-0.15px;word-spacing:-0.46px;}
#tr_427{left:69px;bottom:622px;letter-spacing:-0.14px;word-spacing:-0.51px;}
#ts_427{left:69px;bottom:605px;letter-spacing:-0.15px;word-spacing:-0.47px;}
#tt_427{left:69px;bottom:588px;letter-spacing:-0.13px;word-spacing:-0.47px;}
#tu_427{left:69px;bottom:564px;letter-spacing:-0.13px;word-spacing:-0.48px;}
#tv_427{left:69px;bottom:547px;letter-spacing:-0.14px;word-spacing:-0.78px;}
#tw_427{left:69px;bottom:530px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#tx_427{left:69px;bottom:513px;letter-spacing:-0.15px;word-spacing:-0.44px;}
#ty_427{left:69px;bottom:445px;letter-spacing:0.16px;}
#tz_427{left:150px;bottom:445px;letter-spacing:0.22px;word-spacing:0.01px;}
#t10_427{left:69px;bottom:420px;letter-spacing:-0.16px;word-spacing:-0.76px;}
#t11_427{left:69px;bottom:403px;letter-spacing:-0.15px;word-spacing:-1.33px;}
#t12_427{left:69px;bottom:386px;letter-spacing:-0.15px;word-spacing:-1.15px;}
#t13_427{left:69px;bottom:370px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t14_427{left:69px;bottom:353px;letter-spacing:-0.16px;word-spacing:-0.47px;}
#t15_427{left:69px;bottom:336px;letter-spacing:-0.14px;word-spacing:-0.47px;}
#t16_427{left:69px;bottom:268px;letter-spacing:0.16px;}
#t17_427{left:150px;bottom:268px;letter-spacing:0.2px;word-spacing:-0.04px;}
#t18_427{left:69px;bottom:243px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t19_427{left:69px;bottom:226px;letter-spacing:-0.14px;word-spacing:-0.49px;}
#t1a_427{left:256px;bottom:233px;letter-spacing:-0.03px;}
#t1b_427{left:274px;bottom:226px;letter-spacing:-0.14px;word-spacing:-0.52px;}
#t1c_427{left:69px;bottom:209px;letter-spacing:-0.14px;word-spacing:-0.48px;}
#t1d_427{left:69px;bottom:192px;letter-spacing:-0.14px;word-spacing:-1.33px;}
#t1e_427{left:69px;bottom:176px;letter-spacing:-0.14px;word-spacing:-0.44px;}
#t1f_427{left:69px;bottom:151px;letter-spacing:-0.14px;word-spacing:-1.32px;}
#t1g_427{left:69px;bottom:134px;letter-spacing:-0.16px;word-spacing:-0.98px;}
#t1h_427{left:69px;bottom:118px;letter-spacing:-0.15px;word-spacing:-0.74px;}

.s1_427{font-size:12px;font-family:NeoSansIntel_pgv;color:#000;}
.s2_427{font-size:24px;font-family:NeoSansIntelMedium_pgu;color:#0860A8;}
.s3_427{font-size:14px;font-family:Verdana_13-;color:#000;}
.s4_427{font-size:21px;font-family:TimesNewRoman_143;color:#000;}
.s5_427{font-size:21px;font-family:NeoSansIntelMedium_pgu;color:#0860A8;}
.s6_427{font-size:11px;font-family:Verdana_13-;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts427" type="text/css" >

@font-face {
	font-family: NeoSansIntelMedium_pgu;
	src: url("fonts/NeoSansIntelMedium_pgu.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_pgv;
	src: url("fonts/NeoSansIntel_pgv.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_143;
	src: url("fonts/TimesNewRoman_143.woff") format("woff");
}

@font-face {
	font-family: Verdana_13-;
	src: url("fonts/Verdana_13-.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg427Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg427" style="-webkit-user-select: none;"><object width="935" height="1210" data="427/427.svg" type="image/svg+xml" id="pdf427" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_427" class="t s1_427">Vol. 1 </span><span id="t2_427" class="t s1_427">19-1 </span>
<span id="t3_427" class="t s2_427">CHAPTER 19 </span>
<span id="t4_427" class="t s2_427">INPUT/OUTPUT </span>
<span id="t5_427" class="t s3_427">In addition to transferring data to and from external memory, IA-32 processors can also transfer data to and from </span>
<span id="t6_427" class="t s3_427">input/output ports (I/O ports). I/O ports are created in system hardware by circuity that decodes the control, data, </span>
<span id="t7_427" class="t s3_427">and address pins on the processor. These I/O ports are then configured to communicate with peripheral devices. An </span>
<span id="t8_427" class="t s3_427">I/O port can be an input port, an output port, or a bidirectional port. Some I/O ports are used for transmitting data, </span>
<span id="t9_427" class="t s3_427">such as to and from the transmit and receive registers, respectively, of a serial interface device. Other I/O ports are </span>
<span id="ta_427" class="t s3_427">used to control peripheral devices, such as the control registers of a disk controller. </span>
<span id="tb_427" class="t s3_427">This chapter describes the processor’s I/O architecture. The topics discussed include: </span>
<span id="tc_427" class="t s4_427">• </span><span id="td_427" class="t s3_427">I/O port addressing. </span>
<span id="te_427" class="t s4_427">• </span><span id="tf_427" class="t s3_427">I/O instructions. </span>
<span id="tg_427" class="t s4_427">• </span><span id="th_427" class="t s3_427">I/O protection mechanism. </span>
<span id="ti_427" class="t s5_427">19.1 </span><span id="tj_427" class="t s5_427">I/O PORT ADDRESSING </span>
<span id="tk_427" class="t s3_427">The processor permits applications to access I/O ports in either of two ways: </span>
<span id="tl_427" class="t s4_427">• </span><span id="tm_427" class="t s3_427">Through a separate I/O address space. </span>
<span id="tn_427" class="t s4_427">• </span><span id="to_427" class="t s3_427">Through memory-mapped I/O. </span>
<span id="tp_427" class="t s3_427">Accessing I/O ports through the I/O address space is handled through a set of I/O instructions and a special I/O </span>
<span id="tq_427" class="t s3_427">protection mechanism. Accessing I/O ports through memory-mapped I/O is handled with the processor’s general- </span>
<span id="tr_427" class="t s3_427">purpose move and string instructions, with protection provided through segmentation or paging. I/O ports can be </span>
<span id="ts_427" class="t s3_427">mapped so that they appear in the I/O address space or the physical-memory address space (memory mapped </span>
<span id="tt_427" class="t s3_427">I/O) or both. </span>
<span id="tu_427" class="t s3_427">One benefit of using the I/O address space is that writes to I/O ports are guaranteed to be completed before the </span>
<span id="tv_427" class="t s3_427">next instruction in the instruction stream is executed. Thus, I/O writes to control system hardware cause the hard- </span>
<span id="tw_427" class="t s3_427">ware to be set to its new state before any other instructions are executed. See Section 19.6, “Ordering I/O,” for </span>
<span id="tx_427" class="t s3_427">more information on serializing of I/O operations. </span>
<span id="ty_427" class="t s5_427">19.2 </span><span id="tz_427" class="t s5_427">I/O PORT HARDWARE </span>
<span id="t10_427" class="t s3_427">From a hardware point of view, I/O addressing is handled through the processor’s address lines. For the P6 family, </span>
<span id="t11_427" class="t s3_427">Pentium 4, and Intel Xeon processors, the request command lines signal whether the address lines are being driven </span>
<span id="t12_427" class="t s3_427">with a memory address or an I/O address; for Pentium processors and earlier IA-32 processors, the M/IO# pin indi- </span>
<span id="t13_427" class="t s3_427">cates a memory address (1) or an I/O address (0). When the separate I/O address space is selected, it is the </span>
<span id="t14_427" class="t s3_427">responsibility of the hardware to decode the memory-I/O bus transaction to select I/O ports rather than memory. </span>
<span id="t15_427" class="t s3_427">Data is transmitted between the processor and an I/O device through the data lines. </span>
<span id="t16_427" class="t s5_427">19.3 </span><span id="t17_427" class="t s5_427">I/O ADDRESS SPACE </span>
<span id="t18_427" class="t s3_427">The processor’s I/O address space is separate and distinct from the physical-memory address space. The I/O </span>
<span id="t19_427" class="t s3_427">address space consists of 2 </span>
<span id="t1a_427" class="t s6_427">16 </span>
<span id="t1b_427" class="t s3_427">(64K) individually addressable 8-bit I/O ports, numbered 0 through FFFFH. I/O port </span>
<span id="t1c_427" class="t s3_427">addresses 0F8H through 0FFH are reserved. Do not assign I/O ports to these addresses. The result of an attempt </span>
<span id="t1d_427" class="t s3_427">to address beyond the I/O address space limit of FFFFH is implementation-specific; see the Developer’s Manuals for </span>
<span id="t1e_427" class="t s3_427">specific processors for more details. </span>
<span id="t1f_427" class="t s3_427">Any two consecutive 8-bit ports can be treated as a 16-bit port, and any four consecutive ports can be a 32-bit port. </span>
<span id="t1g_427" class="t s3_427">In this manner, the processor can transfer 8, 16, or 32 bits to or from a device in the I/O address space. Like words </span>
<span id="t1h_427" class="t s3_427">in memory, 16-bit ports should be aligned to even addresses (0, 2, 4, ...) so that all 16 bits can be transferred in a </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
