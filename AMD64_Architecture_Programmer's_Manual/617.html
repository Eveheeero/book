<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p617" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_617{left:96px;bottom:47px;letter-spacing:-0.15px;word-spacing:0.06px;}
#t2_617{left:808px;bottom:47px;letter-spacing:0.17px;}
#t3_617{left:96px;bottom:1116px;letter-spacing:-0.17px;word-spacing:2.66px;}
#t4_617{left:684px;bottom:1116px;letter-spacing:-0.17px;word-spacing:0.06px;}
#t5_617{left:96px;bottom:1038px;}
#t6_617{left:124px;bottom:1038px;letter-spacing:0.12px;word-spacing:1.2px;}
#t7_617{left:124px;bottom:1017px;letter-spacing:0.13px;word-spacing:-0.18px;}
#t8_617{left:124px;bottom:996px;letter-spacing:0.11px;word-spacing:-0.44px;}
#t9_617{left:96px;bottom:968px;}
#ta_617{left:124px;bottom:968px;letter-spacing:0.13px;word-spacing:-0.66px;}
#tb_617{left:124px;bottom:947px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tc_617{left:96px;bottom:919px;}
#td_617{left:124px;bottom:919px;letter-spacing:0.13px;word-spacing:-0.43px;}
#te_617{left:124px;bottom:898px;letter-spacing:0.14px;word-spacing:2.22px;}
#tf_617{left:124px;bottom:876px;letter-spacing:0.14px;word-spacing:-0.4px;}
#tg_617{left:96px;bottom:841px;letter-spacing:0.13px;word-spacing:-0.46px;}
#th_617{left:96px;bottom:820px;letter-spacing:0.13px;word-spacing:-0.46px;}
#ti_617{left:96px;bottom:798px;letter-spacing:0.12px;word-spacing:-0.47px;}
#tj_617{left:96px;bottom:768px;}
#tk_617{left:124px;bottom:768px;letter-spacing:0.14px;word-spacing:-0.4px;}
#tl_617{left:96px;bottom:740px;}
#tm_617{left:124px;bottom:740px;letter-spacing:0.11px;word-spacing:-0.35px;}
#tn_617{left:96px;bottom:713px;}
#to_617{left:124px;bottom:713px;letter-spacing:0.15px;word-spacing:-0.41px;}
#tp_617{left:96px;bottom:685px;}
#tq_617{left:124px;bottom:685px;letter-spacing:0.15px;word-spacing:-0.45px;}
#tr_617{left:406px;bottom:694px;letter-spacing:-0.15px;word-spacing:-0.32px;}
#ts_617{left:707px;bottom:685px;}
#tt_617{left:96px;bottom:650px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tu_617{left:96px;bottom:620px;}
#tv_617{left:124px;bottom:620px;letter-spacing:0.12px;word-spacing:-0.39px;}
#tw_617{left:96px;bottom:592px;}
#tx_617{left:124px;bottom:592px;letter-spacing:0.15px;word-spacing:-0.41px;}
#ty_617{left:96px;bottom:565px;}
#tz_617{left:124px;bottom:565px;letter-spacing:0.14px;word-spacing:1.17px;}
#t10_617{left:124px;bottom:543px;letter-spacing:0.14px;word-spacing:-0.33px;}
#t11_617{left:96px;bottom:516px;}
#t12_617{left:124px;bottom:516px;letter-spacing:0.15px;word-spacing:8.27px;}
#t13_617{left:124px;bottom:494px;letter-spacing:0.15px;word-spacing:-0.36px;}
#t14_617{left:96px;bottom:467px;}
#t15_617{left:124px;bottom:467px;letter-spacing:0.14px;word-spacing:-0.42px;}
#t16_617{left:96px;bottom:439px;}
#t17_617{left:124px;bottom:439px;letter-spacing:0.14px;word-spacing:-0.41px;}
#t18_617{left:96px;bottom:412px;}
#t19_617{left:124px;bottom:412px;letter-spacing:0.12px;word-spacing:-0.41px;}
#t1a_617{left:96px;bottom:377px;letter-spacing:0.11px;word-spacing:-0.44px;}
#t1b_617{left:96px;bottom:337px;letter-spacing:0.11px;}
#t1c_617{left:147px;bottom:337px;letter-spacing:0.16px;word-spacing:-0.05px;}
#t1d_617{left:96px;bottom:305px;letter-spacing:0.13px;word-spacing:-0.52px;}
#t1e_617{left:96px;bottom:284px;letter-spacing:0.13px;word-spacing:-0.46px;}
#t1f_617{left:96px;bottom:262px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t1g_617{left:96px;bottom:241px;letter-spacing:0.11px;word-spacing:-0.44px;}
#t1h_617{left:96px;bottom:219px;letter-spacing:0.12px;word-spacing:-0.46px;}
#t1i_617{left:96px;bottom:198px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t1j_617{left:96px;bottom:163px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t1k_617{left:96px;bottom:141px;letter-spacing:0.11px;word-spacing:-0.44px;}
#t1l_617{left:96px;bottom:120px;letter-spacing:0.14px;word-spacing:-0.5px;}
#t1m_617{left:396px;bottom:12px;letter-spacing:0.16px;}

.s1_617{font-size:17px;font-family:Arial-Italic_62c;color:#000;}
.s2_617{font-size:18px;font-family:Arial-BoldItalic_623;color:#000;}
.s3_617{font-size:17px;font-family:Arial-BoldItalic_623;color:#000;}
.s4_617{font-size:18px;font-family:TimesNewRoman-Bold_61v;color:#000;}
.s5_617{font-size:18px;font-family:TimesNewRoman_61y;color:#000;}
.s6_617{font-size:15px;font-family:TimesNewRoman_61y;color:#000;}
.s7_617{font-size:18px;font-family:Arial-Bold_61q;color:#000;}
.s8_617{font-size:18px;font-family:Arial_62w;color:#00AB00;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts617" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_623;
	src: url("fonts/Arial-BoldItalic_623.woff") format("woff");
}

@font-face {
	font-family: Arial-Bold_61q;
	src: url("fonts/Arial-Bold_61q.woff") format("woff");
}

@font-face {
	font-family: Arial-Italic_62c;
	src: url("fonts/Arial-Italic_62c.woff") format("woff");
}

@font-face {
	font-family: Arial_62w;
	src: url("fonts/Arial_62w.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Bold_61v;
	src: url("fonts/TimesNewRoman-Bold_61v.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_61y;
	src: url("fonts/TimesNewRoman_61y.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg617Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg617" style="-webkit-user-select: none;"><object width="935" height="1210" data="617/617.svg" type="image/svg+xml" id="pdf617" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_617" class="t s1_617">Page Translation and Protection </span><span id="t2_617" class="t s2_617">162 </span>
<span id="t3_617" class="t s3_617">24593—Rev. 3.41—June 2023 </span><span id="t4_617" class="t s3_617">AMD64 Technology </span>
<span id="t5_617" class="t s4_617">• </span><span id="t6_617" class="t s5_617">Instruction fetch restrictions. Two forms of page-level memory protection prevent the processor </span>
<span id="t7_617" class="t s5_617">from fetching instructions from pages that are either known to contain non-executable data or that </span>
<span id="t8_617" class="t s5_617">are accessible by user-mode code. </span>
<span id="t9_617" class="t s4_617">• </span><span id="ta_617" class="t s5_617">Memory protection keys. This form of protection allows an application to manage page-based data </span>
<span id="tb_617" class="t s5_617">access protections from user mode. </span>
<span id="tc_617" class="t s4_617">• </span><span id="td_617" class="t s5_617">Shadow stack pages. The processor restricts the types of memory accesses that are allowed to read </span>
<span id="te_617" class="t s5_617">or write a shadow stack page and prohibits the shadow stack mechanism from accessing non- </span>
<span id="tf_617" class="t s5_617">shadow stack pages. See “Shadow Stack Protection” on page 165. </span>
<span id="tg_617" class="t s5_617">Access protection checks are performed when a virtual address is translated into a physical address. </span>
<span id="th_617" class="t s5_617">For those checks, the processor examines the page-level memory-protection bits in the translation </span>
<span id="ti_617" class="t s5_617">tables to determine if the access is allowed. The page table bits involved in these checks are: </span>
<span id="tj_617" class="t s4_617">• </span><span id="tk_617" class="t s5_617">User/Supervisor (U/S)—See “User/Supervisor (U/S) Bit” on page 155. </span>
<span id="tl_617" class="t s4_617">• </span><span id="tm_617" class="t s5_617">Read/Write (R/W)—See “Read/Write (R/W) Bit” on page 154. </span>
<span id="tn_617" class="t s4_617">• </span><span id="to_617" class="t s5_617">No-Execute (NX)—See “No Execute (NX) Bit” on page 156. </span>
<span id="tp_617" class="t s4_617">• </span><span id="tq_617" class="t s5_617">Memory Protection Key (MPK)—See </span>
<span id="tr_617" class="t s6_617">“Memory Protection Keys (MPK) Bit” on page 164 </span>
<span id="ts_617" class="t s5_617">. </span>
<span id="tt_617" class="t s5_617">Access protection actions taken by the processor are controlled by the following bits: </span>
<span id="tu_617" class="t s4_617">• </span><span id="tv_617" class="t s5_617">Write-Protect enable (CR0.WP)—See “Write Protect (WP) Bit” on page 43. </span>
<span id="tw_617" class="t s4_617">• </span><span id="tx_617" class="t s5_617">No-Execute Enable (EFER.NXE)—See “No-Execute Enable (NXE) Bit” on page 57. </span>
<span id="ty_617" class="t s4_617">• </span><span id="tz_617" class="t s5_617">Supervisor-mode Execution Prevention enable (CR4.SMEP)—See “Supervisor Mode Execution </span>
<span id="t10_617" class="t s5_617">Prevention (SMEP)” on page 50. </span>
<span id="t11_617" class="t s4_617">• </span><span id="t12_617" class="t s5_617">Supervisor-mode Access Prevention enable (CR4.SMAP)—See “Supervisor-Mode Access </span>
<span id="t13_617" class="t s5_617">Prevention(CR4.SMAP) Bit” on page 164. </span>
<span id="t14_617" class="t s4_617">• </span><span id="t15_617" class="t s5_617">Alignment Check Bit (RFLAGS.AC) – See ““Alignment Check (AC) Bit” on page 54. </span>
<span id="t16_617" class="t s4_617">• </span><span id="t17_617" class="t s5_617">Protection Key Enable (CR4.PKE)—See “Protected-Mode Enable (PE) Bit” on page 42. </span>
<span id="t18_617" class="t s4_617">• </span><span id="t19_617" class="t s5_617">Control-flow Enforcement Technology (CR4.CET) - See “CR4 Register” on page 46. </span>
<span id="t1a_617" class="t s5_617">These protection checks are available at all levels of the page-translation hierarchy. </span>
<span id="t1b_617" class="t s7_617">5.6.1 </span><span id="t1c_617" class="t s7_617">User/Supervisor (U/S) Bit </span>
<span id="t1d_617" class="t s5_617">The U/S bit in the page-translation tables determines the privilege level required to access the page. If </span>
<span id="t1e_617" class="t s5_617">U/S=0 in any of the page table entries traversed during a table walk, the page is considered a </span>
<span id="t1f_617" class="t s5_617">supervisor page. If U/S=1 in all the page table entries traversed during a table walk, the page is </span>
<span id="t1g_617" class="t s5_617">considered a user page. Conceptually, user (non-privileged) pages correspond to a current privilege- </span>
<span id="t1h_617" class="t s5_617">level (CPL) of 3, or least-privileged. Supervisor (privileged) pages correspond to a CPL of 0, 1, or 2, </span>
<span id="t1i_617" class="t s5_617">all of which are jointly regarded as most-privileged. </span>
<span id="t1j_617" class="t s5_617">When the processor is running at a CPL of 0, 1, or 2, it can access both user and supervisor pages </span>
<span id="t1k_617" class="t s5_617">unless restricted by SMEP or SMAP (See sections “Supervisor-Mode Execution Prevention </span>
<span id="t1l_617" class="t s5_617">(CR4.SMEP) Bit” on page 163 and “Supervisor-Mode Access Prevention(CR4.SMAP) Bit” on </span>
<span id="t1m_617" class="t s8_617">[AMD Public Use] </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
