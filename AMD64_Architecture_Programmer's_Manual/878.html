<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p878" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_878{left:96px;bottom:48px;letter-spacing:-0.15px;}
#t2_878{left:500px;bottom:48px;letter-spacing:-0.11px;word-spacing:0.01px;}
#t3_878{left:96px;bottom:1116px;letter-spacing:-0.17px;word-spacing:0.06px;}
#t4_878{left:601px;bottom:1116px;letter-spacing:-0.17px;word-spacing:2.71px;}
#t5_878{left:96px;bottom:1038px;letter-spacing:0.11px;word-spacing:-0.43px;}
#t6_878{left:96px;bottom:1017px;letter-spacing:0.12px;word-spacing:-0.47px;}
#t7_878{left:96px;bottom:982px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t8_878{left:96px;bottom:960px;letter-spacing:0.13px;word-spacing:-0.35px;}
#t9_878{left:96px;bottom:902px;letter-spacing:0.19px;}
#ta_878{left:192px;bottom:902px;letter-spacing:0.22px;word-spacing:-0.01px;}
#tb_878{left:96px;bottom:866px;letter-spacing:0.12px;word-spacing:-0.45px;}
#tc_878{left:96px;bottom:844px;letter-spacing:0.11px;word-spacing:-0.45px;}
#td_878{left:96px;bottom:823px;letter-spacing:0.13px;word-spacing:-0.45px;}
#te_878{left:96px;bottom:801px;letter-spacing:0.12px;word-spacing:-0.45px;}
#tf_878{left:96px;bottom:766px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tg_878{left:96px;bottom:745px;letter-spacing:0.13px;word-spacing:-0.45px;}
#th_878{left:96px;bottom:724px;letter-spacing:0.12px;word-spacing:-0.45px;}
#ti_878{left:96px;bottom:702px;letter-spacing:0.12px;word-spacing:-0.46px;}
#tj_878{left:96px;bottom:681px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tk_878{left:96px;bottom:659px;letter-spacing:0.11px;word-spacing:-0.44px;}
#tl_878{left:96px;bottom:624px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tm_878{left:96px;bottom:603px;letter-spacing:0.13px;word-spacing:-1.12px;}
#tn_878{left:96px;bottom:581px;letter-spacing:0.12px;word-spacing:-0.46px;}
#to_878{left:96px;bottom:560px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tp_878{left:96px;bottom:525px;letter-spacing:0.12px;word-spacing:-0.51px;}
#tq_878{left:96px;bottom:503px;letter-spacing:0.12px;word-spacing:-0.45px;}
#tr_878{left:96px;bottom:482px;letter-spacing:0.13px;word-spacing:-0.46px;}
#ts_878{left:96px;bottom:447px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tt_878{left:96px;bottom:426px;letter-spacing:0.12px;word-spacing:-0.87px;}
#tu_878{left:187px;bottom:426px;letter-spacing:0.1px;word-spacing:-0.79px;}
#tv_878{left:403px;bottom:426px;letter-spacing:0.12px;word-spacing:-0.89px;}
#tw_878{left:623px;bottom:426px;letter-spacing:0.1px;word-spacing:-0.79px;}
#tx_878{left:96px;bottom:404px;letter-spacing:0.11px;word-spacing:-0.49px;}
#ty_878{left:338px;bottom:404px;letter-spacing:0.12px;word-spacing:-0.46px;}
#tz_878{left:96px;bottom:369px;letter-spacing:0.14px;word-spacing:-0.45px;}
#t10_878{left:96px;bottom:348px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t11_878{left:96px;bottom:326px;letter-spacing:0.13px;word-spacing:-0.32px;}
#t12_878{left:96px;bottom:280px;letter-spacing:0.14px;}
#t13_878{left:168px;bottom:280px;letter-spacing:0.2px;word-spacing:-0.03px;}
#t14_878{left:96px;bottom:244px;letter-spacing:0.13px;word-spacing:-0.47px;}
#t15_878{left:96px;bottom:222px;letter-spacing:0.13px;word-spacing:-0.47px;}
#t16_878{left:96px;bottom:201px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t17_878{left:295px;bottom:201px;letter-spacing:0.13px;word-spacing:-0.46px;}
#t18_878{left:374px;bottom:201px;letter-spacing:0.12px;word-spacing:-0.49px;}
#t19_878{left:96px;bottom:180px;letter-spacing:0.13px;word-spacing:-0.54px;}
#t1a_878{left:642px;bottom:180px;letter-spacing:0.12px;word-spacing:-0.54px;}
#t1b_878{left:766px;bottom:180px;letter-spacing:0.12px;word-spacing:-0.55px;}
#t1c_878{left:96px;bottom:158px;letter-spacing:0.11px;}
#t1d_878{left:136px;bottom:158px;letter-spacing:0.12px;word-spacing:-0.46px;}
#t1e_878{left:96px;bottom:123px;letter-spacing:0.13px;word-spacing:-0.46px;}
#t1f_878{left:396px;bottom:12px;letter-spacing:0.16px;}

.s1_878{font-size:17px;font-family:Arial-BoldItalic_623;color:#000;}
.s2_878{font-size:17px;font-family:Arial-Italic_62c;color:#000;}
.s3_878{font-size:18px;font-family:TimesNewRoman_61y;color:#000;}
.s4_878{font-size:24px;font-family:Arial-Bold_61q;color:#000;}
.s5_878{font-size:18px;font-family:TimesNewRoman-Italic_626;color:#000;}
.s6_878{font-size:21px;font-family:Arial-Bold_61q;color:#000;}
.s7_878{font-size:18px;font-family:Arial_62w;color:#00AB00;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts878" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_623;
	src: url("fonts/Arial-BoldItalic_623.woff") format("woff");
}

@font-face {
	font-family: Arial-Bold_61q;
	src: url("fonts/Arial-Bold_61q.woff") format("woff");
}

@font-face {
	font-family: Arial-Italic_62c;
	src: url("fonts/Arial-Italic_62c.woff") format("woff");
}

@font-face {
	font-family: Arial_62w;
	src: url("fonts/Arial_62w.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Italic_626;
	src: url("fonts/TimesNewRoman-Italic_626.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_61y;
	src: url("fonts/TimesNewRoman_61y.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg878Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg878" style="-webkit-user-select: none;"><object width="935" height="1210" data="878/878.svg" type="image/svg+xml" id="pdf878" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_878" class="t s1_878">423 </span><span id="t2_878" class="t s2_878">Software Debug and Performance Resources </span>
<span id="t3_878" class="t s1_878">AMD64 Technology </span><span id="t4_878" class="t s1_878">24593—Rev. 3.41—June 2023 </span>
<span id="t5_878" class="t s3_878">subject to power-management related changes in processor frequency. CPUID Fn </span>
<span id="t6_878" class="t s3_878">8000_0007h_EDX[TscInvariant] = 1 indicates that the TSC increment rate is a constant. </span>
<span id="t7_878" class="t s3_878">For more information on using the CPUID instruction to obtain processor implementation </span>
<span id="t8_878" class="t s3_878">information, see Section 3.3, “Processor Feature Identification,” on page 71. </span>
<span id="t9_878" class="t s4_878">13.3 </span><span id="ta_878" class="t s4_878">Instruction-Based Sampling </span>
<span id="tb_878" class="t s3_878">Instruction-Based Sampling (IBS) is a hardware facility that can be used to gather specific metrics </span>
<span id="tc_878" class="t s3_878">related to processor instruction fetch and instruction execution activity. Data capture is performed by </span>
<span id="td_878" class="t s3_878">hardware at a sampling interval specified by values programmed in IBS sampling control registers. </span>
<span id="te_878" class="t s3_878">The IBS facility can be utilized by software to perform code profiling based on statistical sampling. </span>
<span id="tf_878" class="t s3_878">There are two independent data gathering components of IBS: instruction fetch sampling and </span>
<span id="tg_878" class="t s3_878">instruction execution sampling. Instruction fetch sampling provides information about instruction </span>
<span id="th_878" class="t s3_878">address translation look-aside buffer (ITLB) and instruction cache behavior for a randomly selected </span>
<span id="ti_878" class="t s3_878">fetch block, under the control of the IBS Fetch Control Register. Instruction execution sampling </span>
<span id="tj_878" class="t s3_878">provides information about instruction execution behavior by tracking the execution of a single </span>
<span id="tk_878" class="t s3_878">operation (op) that is randomly selected, under the control of the IBS Execution Control Register. </span>
<span id="tl_878" class="t s3_878">When the programmed interval for fetch sampling has expired, the fetch sampling component of IBS </span>
<span id="tm_878" class="t s3_878">selects and tags the next fetch block. IBS hardware records specific performance information about the </span>
<span id="tn_878" class="t s3_878">tagged fetch. In a similar manner, when the programmed interval for op sampling has expired, the op </span>
<span id="to_878" class="t s3_878">sampling component of IBS selects and tags the next op being dispatched for execution. </span>
<span id="tp_878" class="t s3_878">When data collection for the tagged fetch or op is complete, the hardware signals an interrupt. An </span>
<span id="tq_878" class="t s3_878">interrupt handler can then read the performance information that was captured for the fetch or op in </span>
<span id="tr_878" class="t s3_878">IBS MSRs, save it, and re-enable the hardware to take the next sample. </span>
<span id="ts_878" class="t s3_878">More information about the IBS facility and how software can use it to perform code profiling can be </span>
<span id="tt_878" class="t s3_878">found in the </span><span id="tu_878" class="t s5_878">Software Optimization Guide </span><span id="tv_878" class="t s3_878">for your specific product. The </span><span id="tw_878" class="t s5_878">Software Optimization Guide </span>
<span id="tx_878" class="t s5_878">for AMD Family 15h Processors </span><span id="ty_878" class="t s3_878">is order #47414. </span>
<span id="tz_878" class="t s3_878">Support for the IBS feature is indicated by the CPUID Fn 8000_0001h_ECX[IBS]. For more </span>
<span id="t10_878" class="t s3_878">information on using the CPUID instruction to obtain processor implementation information, see </span>
<span id="t11_878" class="t s3_878">Section 3.3, “Processor Feature Identification,” on page 71. </span>
<span id="t12_878" class="t s6_878">13.3.1 </span><span id="t13_878" class="t s6_878">IBS Fetch Sampling </span>
<span id="t14_878" class="t s3_878">When a processor fetches an instruction, it is actually reading a contiguous range of instruction bytes </span>
<span id="t15_878" class="t s3_878">that contains the instruction from memory or from cache. This range of bytes loaded by the processor </span>
<span id="t16_878" class="t s3_878">in one operation is called a </span><span id="t17_878" class="t s5_878">fetch block</span><span id="t18_878" class="t s3_878">. The size and address-alignment characteristics of the fetch </span>
<span id="t19_878" class="t s3_878">block are implementation-dependent. In the following discussion, the term </span><span id="t1a_878" class="t s5_878">instruction fetch </span><span id="t1b_878" class="t s3_878">or simply </span>
<span id="t1c_878" class="t s5_878">fetch </span><span id="t1d_878" class="t s3_878">refers to this operation of reading a fetch block. </span>
<span id="t1e_878" class="t s3_878">Instruction fetch sampling records the following performance information for each tagged fetch: </span>
<span id="t1f_878" class="t s7_878">[AMD Public Use] </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
