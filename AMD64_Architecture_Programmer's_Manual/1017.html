<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p1017" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_1017{left:96px;bottom:47px;letter-spacing:-0.12px;word-spacing:0.03px;}
#t2_1017{left:808px;bottom:47px;letter-spacing:0.17px;}
#t3_1017{left:96px;bottom:1116px;letter-spacing:-0.17px;word-spacing:2.66px;}
#t4_1017{left:684px;bottom:1116px;letter-spacing:-0.17px;word-spacing:0.06px;}
#t5_1017{left:96px;bottom:1031px;letter-spacing:0.2px;}
#t6_1017{left:192px;bottom:1031px;letter-spacing:0.21px;word-spacing:0.04px;}
#t7_1017{left:96px;bottom:996px;letter-spacing:0.13px;word-spacing:-0.88px;}
#t8_1017{left:96px;bottom:974px;letter-spacing:0.12px;word-spacing:-0.48px;}
#t9_1017{left:96px;bottom:953px;letter-spacing:0.11px;word-spacing:-0.44px;}
#ta_1017{left:96px;bottom:931px;letter-spacing:0.12px;word-spacing:-0.46px;}
#tb_1017{left:96px;bottom:910px;letter-spacing:0.1px;word-spacing:-0.61px;}
#tc_1017{left:96px;bottom:889px;letter-spacing:0.12px;word-spacing:-0.65px;}
#td_1017{left:96px;bottom:867px;letter-spacing:0.12px;word-spacing:-0.83px;}
#te_1017{left:96px;bottom:846px;letter-spacing:0.11px;word-spacing:-0.46px;}
#tf_1017{left:96px;bottom:824px;letter-spacing:0.09px;word-spacing:-0.41px;}
#tg_1017{left:96px;bottom:789px;letter-spacing:0.13px;word-spacing:-0.45px;}
#th_1017{left:96px;bottom:768px;letter-spacing:0.13px;word-spacing:-0.5px;}
#ti_1017{left:96px;bottom:746px;letter-spacing:0.12px;word-spacing:-0.45px;}
#tj_1017{left:96px;bottom:711px;letter-spacing:0.13px;word-spacing:-0.47px;}
#tk_1017{left:96px;bottom:653px;letter-spacing:0.2px;}
#tl_1017{left:192px;bottom:653px;letter-spacing:0.19px;word-spacing:0.01px;}
#tm_1017{left:96px;bottom:617px;letter-spacing:0.09px;word-spacing:-0.67px;}
#tn_1017{left:96px;bottom:595px;letter-spacing:0.08px;word-spacing:-0.48px;}
#to_1017{left:96px;bottom:574px;letter-spacing:0.13px;word-spacing:-0.54px;}
#tp_1017{left:96px;bottom:552px;letter-spacing:0.13px;word-spacing:-0.41px;}
#tq_1017{left:96px;bottom:531px;letter-spacing:0.13px;word-spacing:-0.51px;}
#tr_1017{left:96px;bottom:491px;letter-spacing:0.14px;}
#ts_1017{left:168px;bottom:491px;letter-spacing:0.16px;}
#tt_1017{left:96px;bottom:456px;letter-spacing:0.13px;word-spacing:-1.16px;}
#tu_1017{left:96px;bottom:435px;letter-spacing:0.12px;word-spacing:-0.47px;}
#tv_1017{left:96px;bottom:413px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tw_1017{left:96px;bottom:392px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tx_1017{left:96px;bottom:371px;letter-spacing:0.13px;word-spacing:-0.5px;}
#ty_1017{left:96px;bottom:349px;letter-spacing:0.13px;word-spacing:-0.46px;}
#tz_1017{left:96px;bottom:328px;letter-spacing:0.12px;word-spacing:-0.49px;}
#t10_1017{left:96px;bottom:293px;letter-spacing:0.12px;word-spacing:-0.57px;}
#t11_1017{left:96px;bottom:271px;letter-spacing:0.12px;word-spacing:-0.53px;}
#t12_1017{left:96px;bottom:250px;letter-spacing:0.1px;word-spacing:-0.43px;}
#t13_1017{left:96px;bottom:228px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t14_1017{left:96px;bottom:198px;}
#t15_1017{left:124px;bottom:198px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t16_1017{left:96px;bottom:170px;}
#t17_1017{left:124px;bottom:170px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t18_1017{left:96px;bottom:131px;letter-spacing:0.14px;word-spacing:0.04px;}
#t19_1017{left:356px;bottom:131px;letter-spacing:0.13px;word-spacing:-0.47px;}
#t1a_1017{left:96px;bottom:109px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t1b_1017{left:396px;bottom:12px;letter-spacing:0.16px;}

.s1_1017{font-size:17px;font-family:Arial-Italic_62c;color:#000;}
.s2_1017{font-size:18px;font-family:Arial-BoldItalic_623;color:#000;}
.s3_1017{font-size:17px;font-family:Arial-BoldItalic_623;color:#000;}
.s4_1017{font-size:24px;font-family:Arial-Bold_61q;color:#000;}
.s5_1017{font-size:18px;font-family:TimesNewRoman_61y;color:#000;}
.s6_1017{font-size:18px;font-family:Arial-Bold_61q;color:#000;}
.s7_1017{font-size:18px;font-family:TimesNewRoman-Bold_61v;color:#000;}
.s8_1017{font-size:18px;font-family:Arial_62w;color:#00AB00;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts1017" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_623;
	src: url("fonts/Arial-BoldItalic_623.woff") format("woff");
}

@font-face {
	font-family: Arial-Bold_61q;
	src: url("fonts/Arial-Bold_61q.woff") format("woff");
}

@font-face {
	font-family: Arial-Italic_62c;
	src: url("fonts/Arial-Italic_62c.woff") format("woff");
}

@font-face {
	font-family: Arial_62w;
	src: url("fonts/Arial_62w.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Bold_61v;
	src: url("fonts/TimesNewRoman-Bold_61v.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_61y;
	src: url("fonts/TimesNewRoman_61y.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg1017Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg1017" style="-webkit-user-select: none;"><object width="935" height="1210" data="1017/1017.svg" type="image/svg+xml" id="pdf1017" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_1017" class="t s1_1017">Secure Virtual Machine </span><span id="t2_1017" class="t s2_1017">562 </span>
<span id="t3_1017" class="t s3_1017">24593—Rev. 3.41—June 2023 </span><span id="t4_1017" class="t s3_1017">AMD64 Technology </span>
<span id="t5_1017" class="t s4_1017">15.28 </span><span id="t6_1017" class="t s4_1017">Security Exception (#SX) </span>
<span id="t7_1017" class="t s5_1017">The Security Exception fault signals security-sensitive events that occur while executing the VMM, in </span>
<span id="t8_1017" class="t s5_1017">the form of an exception so that the VMM may take appropriate action. (A VMM would typically </span>
<span id="t9_1017" class="t s5_1017">intercept comparable sensitive events in the guest.) Currently, the only use of the #SX is to redirect </span>
<span id="ta_1017" class="t s5_1017">external INITs into an exception so that the VMM may — among other possibilities — destroy </span>
<span id="tb_1017" class="t s5_1017">sensitive information before re-issuing the INIT, this time without redirection. The INIT redirection is </span>
<span id="tc_1017" class="t s5_1017">controlled by the VM_CR.R_INIT bit. (See “INIT Support” on page 534 for more details on INIT and </span>
<span id="td_1017" class="t s5_1017">#SX behavior). Note that INIT is gated by the Global Interrupt Flag (GIF), and so will be held pending </span>
<span id="te_1017" class="t s5_1017">if asserted while GIF is 0. When GIF transitions to 1, INIT will either take effect or be redirected to </span>
<span id="tf_1017" class="t s5_1017">#SX, depending on the state of R_INIT. </span>
<span id="tg_1017" class="t s5_1017">The #SX exception dispatches to vector 30, and behaves like other fault-class exceptions such as </span>
<span id="th_1017" class="t s5_1017">General Protection Fault (#GP). The #SX exception pushes an error code. The only error code </span>
<span id="ti_1017" class="t s5_1017">currently defined is 1, and indicates redirection of INIT has occurred. </span>
<span id="tj_1017" class="t s5_1017">The #SX exception is a contributory fault. </span>
<span id="tk_1017" class="t s4_1017">15.29 </span><span id="tl_1017" class="t s4_1017">Advanced Virtual Interrupt Controller </span>
<span id="tm_1017" class="t s5_1017">The AMD Advanced Virtual Interrupt Controller (AVIC) is an important enhancement to AMD </span>
<span id="tn_1017" class="t s5_1017">Virtualization™ Technology (AMD-V). In a virtualized environment, AVIC presents to each guest a </span>
<span id="to_1017" class="t s5_1017">virtual interrupt controller that is compliant with the local Advanced Programmable Interrupt </span>
<span id="tp_1017" class="t s5_1017">Controller (APIC) architecture. See Chapter 16, “Advanced Programmable Interrupt Controller </span>
<span id="tq_1017" class="t s5_1017">(APIC),” on page 620 for a detailed description of APIC. </span>
<span id="tr_1017" class="t s6_1017">15.29.1 </span><span id="ts_1017" class="t s6_1017">Introduction </span>
<span id="tt_1017" class="t s5_1017">In a virtualized computer system, each guest operating system needs access to an interrupt controller to </span>
<span id="tu_1017" class="t s5_1017">send and receive device and interprocessor interrupts. When there is no hardware acceleration, it falls </span>
<span id="tv_1017" class="t s5_1017">to the virtual machine monitor (VMM) to intercept guest-initiated attempts to access the interrupt </span>
<span id="tw_1017" class="t s5_1017">controller registers and provide direct emulation of the controller system programming interface </span>
<span id="tx_1017" class="t s5_1017">allowing the guest to initiate and process interrupts. The VMM uses the underlying physical and </span>
<span id="ty_1017" class="t s5_1017">virtual interrupt delivery mechanisms of the system to deliver interrupts from I/O devices and virtual </span>
<span id="tz_1017" class="t s5_1017">processors to the target guest virtual processor and to handle any required end of interrupt processing. </span>
<span id="t10_1017" class="t s5_1017">Given the high rate of device and interprocessor interrupt generation in certain scenarios, in particular </span>
<span id="t11_1017" class="t s5_1017">on server-class systems, the emulation of a local APIC can be a significant burden for the VMM. The </span>
<span id="t12_1017" class="t s5_1017">AVIC architecture addresses the overhead of guest interrupt processing in a virtualized environment </span>
<span id="t13_1017" class="t s5_1017">by applying hardware acceleration to the following components of interrupt processing: </span>
<span id="t14_1017" class="t s7_1017">• </span><span id="t15_1017" class="t s5_1017">Providing a guest operating system access to performance-critical interrupt controller registers </span>
<span id="t16_1017" class="t s7_1017">• </span><span id="t17_1017" class="t s5_1017">Initiating intra- and inter-processor interrupts (IPIs) in and between virtual processors in a guest </span>
<span id="t18_1017" class="t s6_1017">Software-initiated Interrupts. </span><span id="t19_1017" class="t s5_1017">Modern operating systems use software interrupts (self-IPIs) to </span>
<span id="t1a_1017" class="t s5_1017">implement software event signaling, inter-process communication and the scheduling of deferred </span>
<span id="t1b_1017" class="t s8_1017">[AMD Public Use] </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
