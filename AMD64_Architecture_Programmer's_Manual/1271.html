<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p1271" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_1271{left:96px;bottom:48px;}
#t2_1271{left:671px;bottom:48px;letter-spacing:-0.11px;word-spacing:0.01px;}
#t3_1271{left:96px;bottom:1116px;letter-spacing:-0.17px;word-spacing:0.06px;}
#t4_1271{left:601px;bottom:1116px;letter-spacing:-0.17px;word-spacing:2.71px;}
#t5_1271{left:96px;bottom:1038px;letter-spacing:0.14px;word-spacing:-0.9px;}
#t6_1271{left:96px;bottom:1017px;letter-spacing:0.12px;word-spacing:-0.41px;}
#t7_1271{left:96px;bottom:977px;letter-spacing:0.18px;}
#t8_1271{left:96px;bottom:942px;letter-spacing:0.13px;word-spacing:-0.04px;}
#t9_1271{left:96px;bottom:921px;letter-spacing:0.26px;word-spacing:-0.01px;}
#ta_1271{left:96px;bottom:899px;letter-spacing:0.25px;word-spacing:0.03px;}
#tb_1271{left:565px;bottom:899px;letter-spacing:0.29px;}
#tc_1271{left:619px;bottom:899px;letter-spacing:0.27px;word-spacing:-0.02px;}
#td_1271{left:96px;bottom:878px;letter-spacing:0.14px;word-spacing:-0.49px;}
#te_1271{left:96px;bottom:843px;letter-spacing:0.57px;word-spacing:0.02px;}
#tf_1271{left:96px;bottom:821px;letter-spacing:0.13px;word-spacing:-0.05px;}
#tg_1271{left:96px;bottom:800px;letter-spacing:0.13px;word-spacing:-0.41px;}
#th_1271{left:479px;bottom:800px;}
#ti_1271{left:485px;bottom:800px;letter-spacing:0.13px;word-spacing:-0.46px;}
#tj_1271{left:96px;bottom:779px;letter-spacing:0.32px;word-spacing:0.01px;}
#tk_1271{left:96px;bottom:757px;letter-spacing:0.14px;word-spacing:-0.65px;}
#tl_1271{left:96px;bottom:722px;letter-spacing:0.25px;word-spacing:0.03px;}
#tm_1271{left:96px;bottom:701px;letter-spacing:0.13px;word-spacing:-0.82px;}
#tn_1271{left:96px;bottom:679px;letter-spacing:0.15px;word-spacing:-0.52px;}
#to_1271{left:96px;bottom:643px;letter-spacing:0.12px;}
#tp_1271{left:162px;bottom:643px;letter-spacing:0.19px;word-spacing:-0.06px;}
#tq_1271{left:96px;bottom:610px;letter-spacing:0.17px;word-spacing:0.02px;}
#tr_1271{left:345px;bottom:610px;letter-spacing:0.13px;}
#ts_1271{left:518px;bottom:610px;letter-spacing:0.17px;word-spacing:0.02px;}
#tt_1271{left:96px;bottom:589px;letter-spacing:0.13px;word-spacing:-0.1px;}
#tu_1271{left:630px;bottom:589px;letter-spacing:0.13px;}
#tv_1271{left:757px;bottom:589px;letter-spacing:0.13px;word-spacing:-0.09px;}
#tw_1271{left:96px;bottom:568px;letter-spacing:0.13px;word-spacing:-0.17px;}
#tx_1271{left:96px;bottom:546px;letter-spacing:0.21px;word-spacing:-0.02px;}
#ty_1271{left:96px;bottom:525px;letter-spacing:0.13px;word-spacing:-0.25px;}
#tz_1271{left:96px;bottom:503px;letter-spacing:0.1px;word-spacing:-0.32px;}
#t10_1271{left:96px;bottom:467px;letter-spacing:0.12px;}
#t11_1271{left:162px;bottom:467px;letter-spacing:0.16px;word-spacing:0.05px;}
#t12_1271{left:96px;bottom:435px;letter-spacing:0.13px;word-spacing:-0.09px;}
#t13_1271{left:520px;bottom:435px;letter-spacing:0.13px;}
#t14_1271{left:621px;bottom:435px;letter-spacing:0.12px;word-spacing:-0.09px;}
#t15_1271{left:96px;bottom:413px;letter-spacing:0.27px;}
#t16_1271{left:179px;bottom:413px;letter-spacing:0.28px;word-spacing:0.01px;}
#t17_1271{left:96px;bottom:392px;letter-spacing:0.13px;word-spacing:-0.46px;}
#t18_1271{left:96px;bottom:352px;letter-spacing:0.11px;}
#t19_1271{left:157px;bottom:352px;letter-spacing:0.17px;}
#t1a_1271{left:96px;bottom:317px;letter-spacing:0.11px;word-spacing:-0.12px;}
#t1b_1271{left:96px;bottom:296px;letter-spacing:0.35px;word-spacing:-0.04px;}
#t1c_1271{left:440px;bottom:296px;}
#t1d_1271{left:446px;bottom:296px;letter-spacing:0.3px;word-spacing:0.06px;}
#t1e_1271{left:96px;bottom:274px;letter-spacing:0.17px;word-spacing:-0.01px;}
#t1f_1271{left:96px;bottom:253px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t1g_1271{left:396px;bottom:12px;letter-spacing:0.16px;}

.s1_1271{font-size:17px;font-family:Arial-BoldItalic_623;color:#000;}
.s2_1271{font-size:18px;font-family:TimesNewRoman_61y;color:#000;}
.s3_1271{font-size:18px;font-family:Arial-Bold_61q;color:#000;}
.s4_1271{font-size:18px;font-family:TimesNewRoman-Italic_626;color:#000;}
.s5_1271{font-size:18px;font-family:TimesNewRoman_627;color:#000;}
.s6_1271{font-size:18px;font-family:Arial_62w;color:#00AB00;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts1271" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_623;
	src: url("fonts/Arial-BoldItalic_623.woff") format("woff");
}

@font-face {
	font-family: Arial-Bold_61q;
	src: url("fonts/Arial-Bold_61q.woff") format("woff");
}

@font-face {
	font-family: Arial_62w;
	src: url("fonts/Arial_62w.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Italic_626;
	src: url("fonts/TimesNewRoman-Italic_626.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_61y;
	src: url("fonts/TimesNewRoman_61y.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_627;
	src: url("fonts/TimesNewRoman_627.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg1271Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg1271" style="-webkit-user-select: none;"><object width="935" height="1210" data="1271/1271.svg" type="image/svg+xml" id="pdf1271" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_1271" class="t s1_1271">4 </span><span id="t2_1271" class="t s1_1271">Instruction Encoding </span>
<span id="t3_1271" class="t s1_1271">AMD64 Technology </span><span id="t4_1271" class="t s1_1271">24594—Rev. 3.35—June 2023 </span>
<span id="t5_1271" class="t s2_1271">legacy escape sequences and extended escape sequences. The legacy escape sequences will be covered </span>
<span id="t6_1271" class="t s2_1271">here. For more details on the extended escape sequences, see “VEX and XOP Prefixes” on page 16. </span>
<span id="t7_1271" class="t s3_1271">Legacy Escape Sequences </span>
<span id="t8_1271" class="t s2_1271">The legacy syntax allows one 1-byte escape sequence (0Fh), and three 2-byte escape sequences (0Fh, </span>
<span id="t9_1271" class="t s2_1271">0Fh; 0Fh, 38h; and 0Fh, 3Ah). The 1-byte legacy escape sequence 0Fh selects the secondary (“two- </span>
<span id="ta_1271" class="t s2_1271">byte”) opcode map. In legacy terminology, the sequence [0Fh, </span><span id="tb_1271" class="t s4_1271">opcode</span><span id="tc_1271" class="t s2_1271">] is called a two-byte opcode. </span>
<span id="td_1271" class="t s2_1271">See “Secondary Opcode Map” of Appendix A for details concerning this opcode map. </span>
<span id="te_1271" class="t s2_1271">The 2-byte escape sequence 0F, 0Fh selects the 3DNow! opcode map which is indexed using an </span>
<span id="tf_1271" class="t s2_1271">immediate byte rather than an opcode byte. In this case, the byte following the escape sequence is the </span>
<span id="tg_1271" class="t s2_1271">ModRM byte instead of the opcode byte. In Figure 1</span><span id="th_1271" class="t s5_1271">-</span><span id="ti_1271" class="t s2_1271">1 this is indicated by the path labeled “3DNow!” </span>
<span id="tj_1271" class="t s2_1271">leaving the second 0Fh escape block. Details concerning the 3DNow! opcode map are presented in </span>
<span id="tk_1271" class="t s2_1271">Section A.1.2, “3DNow!™ Opcodes” of Appendix A. </span>
<span id="tl_1271" class="t s2_1271">The 2-byte escape sequences [0Fh, 38h] and [0Fh, 3Ah] respectively select the 0F_38h opcode map </span>
<span id="tm_1271" class="t s2_1271">and the 0F_3Ah opcode map. These are used primarily to encode SSE instructions and are described in </span>
<span id="tn_1271" class="t s2_1271">“0F_38h and 0F_3Ah Opcode Maps” of Appendix A. </span>
<span id="to_1271" class="t s3_1271">1.1.1.5 </span><span id="tp_1271" class="t s3_1271">ModRM and SIB Bytes </span>
<span id="tq_1271" class="t s2_1271">The opcode can be followed by a </span><span id="tr_1271" class="t s4_1271">mode-register-memory </span><span id="ts_1271" class="t s2_1271">(ModRM) byte, which further describes the </span>
<span id="tt_1271" class="t s2_1271">operation and/or operands. The ModRM byte may also be followed by a </span><span id="tu_1271" class="t s4_1271">scale-index-base </span><span id="tv_1271" class="t s2_1271">(SIB) byte, </span>
<span id="tw_1271" class="t s2_1271">which is used to specify indexed register-indirect forms of memory addressing. The ModRM and SIB </span>
<span id="tx_1271" class="t s2_1271">bytes are described in “ModRM Byte Format” on page 17. Their legacy functions can be augmented </span>
<span id="ty_1271" class="t s2_1271">by the REX prefix (see “REX Prefix” on page 14) or the VEX and XOP escape sequences (See “VEX </span>
<span id="tz_1271" class="t s2_1271">and XOP Prefixes” on page 16). </span>
<span id="t10_1271" class="t s3_1271">1.1.1.6 </span><span id="t11_1271" class="t s3_1271">Displacement and Immediate Fields </span>
<span id="t12_1271" class="t s2_1271">The instruction encoding may end with a 1-, 2-, or 4-byte </span><span id="t13_1271" class="t s4_1271">displacement </span><span id="t14_1271" class="t s2_1271">field and/or a 1-, 2-, or 4-byte </span>
<span id="t15_1271" class="t s4_1271">immediate </span><span id="t16_1271" class="t s2_1271">field depending on the instruction and/or the addressing mode. Specific instructions also </span>
<span id="t17_1271" class="t s2_1271">allow either an 8-byte immediate field or an 8-byte displacement field. </span>
<span id="t18_1271" class="t s3_1271">1.1.2 </span><span id="t19_1271" class="t s3_1271">Representation in Memory </span>
<span id="t1a_1271" class="t s2_1271">Instructions are stored in memory in little-endian order. The first byte of an instruction is stored at the </span>
<span id="t1b_1271" class="t s2_1271">lowest memory address, as shown in Figure 1</span><span id="t1c_1271" class="t s5_1271">-</span><span id="t1d_1271" class="t s2_1271">2 below. Since instructions are strings of bytes, they </span>
<span id="t1e_1271" class="t s2_1271">may start at any memory address. The total instruction length must be less than or equal to 15. If this </span>
<span id="t1f_1271" class="t s2_1271">limit is exceeded, a general-protection exception results. </span>
<span id="t1g_1271" class="t s6_1271">[AMD Public Use] </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
