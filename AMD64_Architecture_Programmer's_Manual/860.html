<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p860" style="overflow: hidden; position: relative; background-color: white; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_860{left:96px;bottom:48px;letter-spacing:-0.15px;}
#t2_860{left:500px;bottom:48px;letter-spacing:-0.11px;word-spacing:0.01px;}
#t3_860{left:96px;bottom:1116px;letter-spacing:-0.17px;word-spacing:0.06px;}
#t4_860{left:601px;bottom:1116px;letter-spacing:-0.17px;word-spacing:2.71px;}
#t5_860{left:96px;bottom:1038px;letter-spacing:0.13px;}
#t6_860{left:173px;bottom:1038px;letter-spacing:0.17px;word-spacing:-0.05px;}
#t7_860{left:96px;bottom:1006px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t8_860{left:604px;bottom:1006px;}
#t9_860{left:613px;bottom:1006px;letter-spacing:0.12px;word-spacing:-0.45px;}
#ta_860{left:96px;bottom:985px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tb_860{left:96px;bottom:954px;}
#tc_860{left:124px;bottom:954px;}
#td_860{left:135px;bottom:954px;}
#te_860{left:148px;bottom:954px;letter-spacing:0.12px;word-spacing:-0.43px;}
#tf_860{left:181px;bottom:954px;}
#tg_860{left:194px;bottom:954px;letter-spacing:0.1px;word-spacing:-0.44px;}
#th_860{left:96px;bottom:927px;}
#ti_860{left:124px;bottom:927px;letter-spacing:0.21px;}
#tj_860{left:158px;bottom:927px;}
#tk_860{left:172px;bottom:927px;letter-spacing:0.12px;word-spacing:-0.45px;}
#tl_860{left:810px;bottom:927px;}
#tm_860{left:124px;bottom:905px;letter-spacing:0.12px;word-spacing:-0.45px;}
#tn_860{left:124px;bottom:884px;letter-spacing:0.14px;word-spacing:-0.45px;}
#to_860{left:96px;bottom:856px;}
#tp_860{left:124px;bottom:856px;letter-spacing:0.2px;}
#tq_860{left:159px;bottom:856px;}
#tr_860{left:173px;bottom:856px;letter-spacing:0.1px;word-spacing:-0.44px;}
#ts_860{left:124px;bottom:835px;letter-spacing:0.11px;word-spacing:-0.44px;}
#tt_860{left:542px;bottom:835px;}
#tu_860{left:556px;bottom:835px;letter-spacing:0.12px;word-spacing:-0.45px;}
#tv_860{left:96px;bottom:800px;letter-spacing:0.13px;word-spacing:-0.45px;}
#tw_860{left:604px;bottom:800px;}
#tx_860{left:613px;bottom:800px;letter-spacing:0.13px;word-spacing:-0.46px;}
#ty_860{left:769px;bottom:800px;}
#tz_860{left:783px;bottom:800px;letter-spacing:0.1px;word-spacing:-0.46px;}
#t10_860{left:96px;bottom:779px;letter-spacing:0.12px;word-spacing:-0.47px;}
#t11_860{left:96px;bottom:757px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t12_860{left:96px;bottom:736px;letter-spacing:0.12px;word-spacing:-0.54px;}
#t13_860{left:96px;bottom:714px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t14_860{left:96px;bottom:679px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t15_860{left:96px;bottom:658px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t16_860{left:96px;bottom:636px;letter-spacing:0.11px;word-spacing:-0.45px;}
#t17_860{left:96px;bottom:615px;letter-spacing:0.13px;word-spacing:-0.48px;}
#t18_860{left:96px;bottom:594px;letter-spacing:0.11px;word-spacing:-0.6px;}
#t19_860{left:96px;bottom:572px;letter-spacing:0.13px;word-spacing:-0.46px;}
#t1a_860{left:96px;bottom:551px;letter-spacing:0.12px;word-spacing:-0.46px;}
#t1b_860{left:96px;bottom:529px;letter-spacing:0.12px;word-spacing:-0.47px;}
#t1c_860{left:96px;bottom:490px;letter-spacing:0.13px;}
#t1d_860{left:173px;bottom:490px;letter-spacing:0.16px;word-spacing:0.04px;}
#t1e_860{left:96px;bottom:458px;letter-spacing:0.13px;word-spacing:-0.47px;}
#t1f_860{left:593px;bottom:458px;}
#t1g_860{left:602px;bottom:458px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t1h_860{left:96px;bottom:436px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t1i_860{left:96px;bottom:406px;}
#t1j_860{left:124px;bottom:406px;}
#t1k_860{left:135px;bottom:406px;}
#t1l_860{left:148px;bottom:406px;letter-spacing:0.12px;word-spacing:-0.43px;}
#t1m_860{left:181px;bottom:406px;}
#t1n_860{left:194px;bottom:406px;letter-spacing:0.1px;word-spacing:-0.44px;}
#t1o_860{left:96px;bottom:378px;}
#t1p_860{left:124px;bottom:378px;letter-spacing:0.21px;}
#t1q_860{left:158px;bottom:378px;}
#t1r_860{left:172px;bottom:378px;letter-spacing:0.13px;word-spacing:-0.46px;}
#t1s_860{left:785px;bottom:378px;}
#t1t_860{left:798px;bottom:378px;letter-spacing:0.1px;}
#t1u_860{left:124px;bottom:357px;letter-spacing:0.13px;word-spacing:-0.5px;}
#t1v_860{left:569px;bottom:357px;}
#t1w_860{left:582px;bottom:357px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t1x_860{left:124px;bottom:335px;letter-spacing:0.13px;word-spacing:-0.27px;}
#t1y_860{left:96px;bottom:308px;}
#t1z_860{left:124px;bottom:308px;letter-spacing:0.2px;}
#t20_860{left:159px;bottom:308px;}
#t21_860{left:173px;bottom:308px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t22_860{left:124px;bottom:286px;letter-spacing:0.08px;word-spacing:-0.41px;}
#t23_860{left:96px;bottom:251px;letter-spacing:0.12px;word-spacing:-1.09px;}
#t24_860{left:96px;bottom:230px;letter-spacing:0.14px;word-spacing:-0.45px;}
#t25_860{left:282px;bottom:230px;}
#t26_860{left:295px;bottom:230px;letter-spacing:0.11px;}
#t27_860{left:96px;bottom:195px;letter-spacing:0.14px;word-spacing:-0.45px;}
#t28_860{left:548px;bottom:195px;}
#t29_860{left:557px;bottom:195px;letter-spacing:0.13px;word-spacing:-0.45px;}
#t2a_860{left:713px;bottom:195px;}
#t2b_860{left:727px;bottom:195px;letter-spacing:0.12px;word-spacing:-0.45px;}
#t2c_860{left:96px;bottom:173px;letter-spacing:0.12px;word-spacing:-0.48px;}
#t2d_860{left:96px;bottom:152px;letter-spacing:0.12px;word-spacing:-0.47px;}
#t2e_860{left:96px;bottom:131px;letter-spacing:0.13px;word-spacing:-0.46px;}
#t2f_860{left:396px;bottom:12px;letter-spacing:0.16px;}

.s1_860{font-size:17px;font-family:Arial-BoldItalic_623;color:#000;}
.s2_860{font-size:17px;font-family:Arial-Italic_62c;color:#000;}
.s3_860{font-size:18px;font-family:Arial-Bold_61q;color:#000;}
.s4_860{font-size:18px;font-family:TimesNewRoman_61y;color:#000;}
.s5_860{font-size:18px;font-family:TimesNewRoman-Italic_626;color:#000;}
.s6_860{font-size:18px;font-family:TimesNewRoman-Bold_61v;color:#000;}
.s7_860{font-size:18px;font-family:Arial_62w;color:#00AB00;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts860" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_623;
	src: url("fonts/Arial-BoldItalic_623.woff") format("woff");
}

@font-face {
	font-family: Arial-Bold_61q;
	src: url("fonts/Arial-Bold_61q.woff") format("woff");
}

@font-face {
	font-family: Arial-Italic_62c;
	src: url("fonts/Arial-Italic_62c.woff") format("woff");
}

@font-face {
	font-family: Arial_62w;
	src: url("fonts/Arial_62w.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Bold_61v;
	src: url("fonts/TimesNewRoman-Bold_61v.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman-Italic_626;
	src: url("fonts/TimesNewRoman-Italic_626.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_61y;
	src: url("fonts/TimesNewRoman_61y.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg860Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg860" style="-webkit-user-select: none;"><object width="935" height="1210" data="860/860.svg" type="image/svg+xml" id="pdf860" style="width:935px; height:1210px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_860" class="t s1_860">405 </span><span id="t2_860" class="t s2_860">Software Debug and Performance Resources </span>
<span id="t3_860" class="t s1_860">AMD64 Technology </span><span id="t4_860" class="t s1_860">24593—Rev. 3.41—June 2023 </span>
<span id="t5_860" class="t s3_860">13.1.3.2 </span><span id="t6_860" class="t s3_860">Data Breakpoints </span>
<span id="t7_860" class="t s4_860">Data breakpoints are set by loading a breakpoint-address register (DR</span><span id="t8_860" class="t s5_860">n</span><span id="t9_860" class="t s4_860">) with the desired data virtual- </span>
<span id="ta_860" class="t s4_860">address, and then setting the corresponding DR7 fields as follows: </span>
<span id="tb_860" class="t s6_860">• </span><span id="tc_860" class="t s4_860">L</span><span id="td_860" class="t s5_860">n </span><span id="te_860" class="t s4_860">or G</span><span id="tf_860" class="t s5_860">n </span><span id="tg_860" class="t s4_860">is set to 1 to enable the breakpoint for either the local task or all tasks, respectively. </span>
<span id="th_860" class="t s6_860">• </span><span id="ti_860" class="t s4_860">R/W</span><span id="tj_860" class="t s5_860">n </span><span id="tk_860" class="t s4_860">is set to 01b to specify that the data virtual-address is compared with the contents of DR</span><span id="tl_860" class="t s5_860">n </span>
<span id="tm_860" class="t s4_860">only during a memory-write. Setting this field to 11b specifies that the comparison takes place </span>
<span id="tn_860" class="t s4_860">during both memory reads and memory writes. </span>
<span id="to_860" class="t s6_860">• </span><span id="tp_860" class="t s4_860">LEN</span><span id="tq_860" class="t s5_860">n </span><span id="tr_860" class="t s4_860">is set to 00b, 01b, 11b, or 10b to specify an address-match range of one, two, four, or eight </span>
<span id="ts_860" class="t s4_860">bytes, respectively. Long mode must be active to set LEN</span><span id="tt_860" class="t s5_860">n </span><span id="tu_860" class="t s4_860">to 10b. </span>
<span id="tv_860" class="t s4_860">When a #DB exception occurs due to a data breakpoint address in DR</span><span id="tw_860" class="t s5_860">n</span><span id="tx_860" class="t s4_860">, the corresponding B</span><span id="ty_860" class="t s5_860">n </span><span id="tz_860" class="t s4_860">field in </span>
<span id="t10_860" class="t s4_860">DR6 is set to 1 to indicate that a breakpoint condition occurred. The breakpoint occurs after the data- </span>
<span id="t11_860" class="t s4_860">access instruction is executed, which means that the original data is overwritten by the data-access </span>
<span id="t12_860" class="t s4_860">instruction. If the debug handler needs to report the previous data value, it must save that value before </span>
<span id="t13_860" class="t s4_860">setting the breakpoint. </span>
<span id="t14_860" class="t s4_860">Because the breakpoint occurs after the data-access instruction is executed, the address of the </span>
<span id="t15_860" class="t s4_860">instruction following the data-access instruction is pushed onto the debug-handler stack. Repeated </span>
<span id="t16_860" class="t s4_860">string instructions, however, can trigger a breakpoint before all iterations of the repeat loop have </span>
<span id="t17_860" class="t s4_860">completed. When this happens, the address of the string instruction is pushed onto the stack during a </span>
<span id="t18_860" class="t s4_860">#DB exception if the repeat loop is not complete. A subsequent IRET from the #DB handler returns to </span>
<span id="t19_860" class="t s4_860">the string instruction, causing the remaining iterations to be executed. Most implementations cannot </span>
<span id="t1a_860" class="t s4_860">report breakpoints exactly for repeated string instructions, but instead report the breakpoint on an </span>
<span id="t1b_860" class="t s4_860">iteration later than the iteration where the breakpoint occurred. </span>
<span id="t1c_860" class="t s3_860">13.1.3.3 </span><span id="t1d_860" class="t s3_860">I/O Breakpoints </span>
<span id="t1e_860" class="t s4_860">I/O breakpoints are set by loading a breakpoint-address register (DR</span><span id="t1f_860" class="t s5_860">n</span><span id="t1g_860" class="t s4_860">) with the I/O-port address to be </span>
<span id="t1h_860" class="t s4_860">trapped, and then setting the corresponding DR7 fields as follows: </span>
<span id="t1i_860" class="t s6_860">• </span><span id="t1j_860" class="t s4_860">L</span><span id="t1k_860" class="t s5_860">n </span><span id="t1l_860" class="t s4_860">or G</span><span id="t1m_860" class="t s5_860">n </span><span id="t1n_860" class="t s4_860">is set to 1 to enable the breakpoint for either the local task or all tasks, respectively. </span>
<span id="t1o_860" class="t s6_860">• </span><span id="t1p_860" class="t s4_860">R/W</span><span id="t1q_860" class="t s5_860">n </span><span id="t1r_860" class="t s4_860">is set to 10b to specify that the I/O-port address is compared with the contents of DR</span><span id="t1s_860" class="t s5_860">n </span><span id="t1t_860" class="t s4_860">only </span>
<span id="t1u_860" class="t s4_860">during execution of an I/O instruction. This encoding of R/W</span><span id="t1v_860" class="t s5_860">n </span><span id="t1w_860" class="t s4_860">is valid only when debug </span>
<span id="t1x_860" class="t s4_860">extensions are enabled (CR4[DE] = 1). </span>
<span id="t1y_860" class="t s6_860">• </span><span id="t1z_860" class="t s4_860">LEN</span><span id="t20_860" class="t s5_860">n </span><span id="t21_860" class="t s4_860">is set to 00b, 01b, or 11b to specify the breakpoint occurs on a byte, word, or doubleword </span>
<span id="t22_860" class="t s4_860">I/O operation, respectively. </span>
<span id="t23_860" class="t s4_860">The I/O-port address specified by the I/O instruction is zero extended by the processor to 64 bits before </span>
<span id="t24_860" class="t s4_860">comparing it with the DR</span><span id="t25_860" class="t s5_860">n </span><span id="t26_860" class="t s4_860">registers. </span>
<span id="t27_860" class="t s4_860">When a #DB exception occurs due to an I/O breakpoint in DR</span><span id="t28_860" class="t s5_860">n</span><span id="t29_860" class="t s4_860">, the corresponding B</span><span id="t2a_860" class="t s5_860">n </span><span id="t2b_860" class="t s4_860">field in DR6 is </span>
<span id="t2c_860" class="t s4_860">set to 1 to indicate that a breakpoint condition occurred. The breakpoint occurs after the instruction is </span>
<span id="t2d_860" class="t s4_860">executed, which means that the original data is overwritten by the breakpoint instruction. If the debug </span>
<span id="t2e_860" class="t s4_860">handler needs to report the previous data value, it must save that value before setting the breakpoint. </span>
<span id="t2f_860" class="t s7_860">[AMD Public Use] </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
