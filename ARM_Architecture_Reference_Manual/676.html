<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p676" style="overflow: hidden; position: relative; background-color: white; width: 825px; height: 990px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_676{left:80px;bottom:933px;letter-spacing:0.11px;word-spacing:-0.01px;}
#t2_676{left:80px;bottom:51px;letter-spacing:0.1px;}
#t3_676{left:200px;bottom:51px;letter-spacing:0.1px;}
#t4_676{left:644px;bottom:51px;letter-spacing:0.12px;word-spacing:-0.01px;}
#t5_676{left:80px;bottom:874px;letter-spacing:0.17px;}
#t6_676{left:145px;bottom:874px;letter-spacing:0.17px;}
#t7_676{left:145px;bottom:847px;letter-spacing:-0.11px;word-spacing:-0.15px;}
#t8_676{left:145px;bottom:830px;letter-spacing:-0.11px;word-spacing:-0.13px;}
#t9_676{left:145px;bottom:814px;letter-spacing:-0.13px;word-spacing:0.04px;}
#ta_676{left:193px;bottom:780px;letter-spacing:0.13px;}
#tb_676{left:145px;bottom:760px;letter-spacing:-0.12px;word-spacing:0.02px;}
#tc_676{left:145px;bottom:740px;}
#td_676{left:182px;bottom:740px;letter-spacing:-0.11px;word-spacing:0.03px;}
#te_676{left:145px;bottom:720px;}
#tf_676{left:182px;bottom:720px;letter-spacing:-0.11px;word-spacing:0.02px;}
#tg_676{left:520px;bottom:720px;letter-spacing:-0.12px;word-spacing:-0.05px;}
#th_676{left:572px;bottom:720px;letter-spacing:-0.11px;word-spacing:0.02px;}
#ti_676{left:145px;bottom:701px;}
#tj_676{left:182px;bottom:701px;letter-spacing:-0.13px;word-spacing:0.08px;}
#tk_676{left:234px;bottom:702px;letter-spacing:-0.27px;}
#tl_676{left:256px;bottom:701px;letter-spacing:-0.1px;}
#tm_676{left:80px;bottom:641px;letter-spacing:0.15px;}
#tn_676{left:145px;bottom:641px;letter-spacing:0.11px;word-spacing:0.05px;}
#to_676{left:145px;bottom:613px;letter-spacing:-0.12px;word-spacing:-0.38px;}
#tp_676{left:145px;bottom:597px;letter-spacing:-0.13px;word-spacing:-0.64px;}
#tq_676{left:145px;bottom:580px;letter-spacing:-0.11px;word-spacing:-0.91px;}
#tr_676{left:145px;bottom:563px;letter-spacing:-0.12px;word-spacing:-0.55px;}
#ts_676{left:145px;bottom:546px;letter-spacing:-0.15px;word-spacing:0.09px;}
#tt_676{left:145px;bottom:519px;letter-spacing:-0.11px;word-spacing:0.02px;}
#tu_676{left:145px;bottom:502px;letter-spacing:-0.12px;word-spacing:-0.49px;}
#tv_676{left:145px;bottom:485px;letter-spacing:-0.12px;word-spacing:-0.24px;}
#tw_676{left:145px;bottom:468px;letter-spacing:-0.16px;word-spacing:0.03px;}
#tx_676{left:145px;bottom:441px;letter-spacing:-0.11px;word-spacing:-0.01px;}
#ty_676{left:145px;bottom:424px;letter-spacing:-0.12px;word-spacing:-0.01px;}
#tz_676{left:145px;bottom:407px;letter-spacing:-0.13px;word-spacing:-0.15px;}
#t10_676{left:145px;bottom:390px;letter-spacing:-0.1px;}
#t11_676{left:226px;bottom:390px;letter-spacing:-0.23px;}
#t12_676{left:267px;bottom:390px;letter-spacing:-0.09px;}
#t13_676{left:290px;bottom:390px;letter-spacing:-0.18px;}
#t14_676{left:355px;bottom:390px;letter-spacing:-0.17px;word-spacing:0.02px;}
#t15_676{left:480px;bottom:390px;letter-spacing:-0.14px;word-spacing:0.06px;}
#t16_676{left:707px;bottom:390px;letter-spacing:-0.09px;}
#t17_676{left:145px;bottom:373px;letter-spacing:-0.12px;word-spacing:0.03px;}
#t18_676{left:145px;bottom:357px;letter-spacing:-0.12px;word-spacing:-0.62px;}
#t19_676{left:145px;bottom:340px;letter-spacing:-0.12px;word-spacing:0.03px;}
#t1a_676{left:145px;bottom:323px;letter-spacing:-0.11px;}
#t1b_676{left:414px;bottom:324px;letter-spacing:-0.01px;}
#t1c_676{left:504px;bottom:323px;letter-spacing:-0.11px;}
#t1d_676{left:145px;bottom:306px;letter-spacing:-0.12px;word-spacing:-0.93px;}
#t1e_676{left:145px;bottom:290px;letter-spacing:-0.12px;word-spacing:0.01px;}
#t1f_676{left:145px;bottom:260px;}
#t1g_676{left:182px;bottom:260px;letter-spacing:-0.09px;word-spacing:-0.05px;}
#t1h_676{left:145px;bottom:231px;}
#t1i_676{left:182px;bottom:231px;letter-spacing:-0.14px;word-spacing:0.03px;}
#t1j_676{left:145px;bottom:202px;}
#t1k_676{left:182px;bottom:202px;letter-spacing:-0.14px;word-spacing:0.06px;}
#t1l_676{left:145px;bottom:173px;}
#t1m_676{left:182px;bottom:173px;letter-spacing:-0.14px;word-spacing:0.03px;}
#t1n_676{left:145px;bottom:144px;}
#t1o_676{left:182px;bottom:144px;letter-spacing:-0.11px;}
#t1p_676{left:145px;bottom:115px;}
#t1q_676{left:182px;bottom:115px;letter-spacing:-0.12px;word-spacing:0.02px;}

.s1_676{font-size:12px;font-family:Helvetica-Oblique_4fp;color:#000;}
.s2_676{font-size:12px;font-family:Helvetica_dy4;color:#000;}
.s3_676{font-size:18px;font-family:Helvetica-Bold_4ft;color:#000;}
.s4_676{font-size:14px;font-family:Times-Roman_4fq;color:#000;}
.s5_676{font-size:15px;font-family:Times-Bold_4g2;color:#000;}
.s6_676{font-size:14px;font-family:Times-Italic_4fu;color:#000;}
.s7_676{font-size:12px;font-family:LucidaSansTypewriteX_4g3;color:#000;}
.s8_676{font-size:15px;font-family:Helvetica-Bold_4ft;color:#000;}
.s9_676{font-size:11px;font-family:Times-Roman_4fq;color:#000;}
.t.v0_676{transform:scaleX(0.85);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts676" type="text/css" >

@font-face {
	font-family: Helvetica-Bold_4ft;
	src: url("fonts/Helvetica-Bold_4ft.woff") format("woff");
}

@font-face {
	font-family: Helvetica-Oblique_4fp;
	src: url("fonts/Helvetica-Oblique_4fp.woff") format("woff");
}

@font-face {
	font-family: Helvetica_dy4;
	src: url("fonts/Helvetica_dy4.woff") format("woff");
}

@font-face {
	font-family: LucidaSansTypewriteX_4g3;
	src: url("fonts/LucidaSansTypewriteX_4g3.woff") format("woff");
}

@font-face {
	font-family: Times-Bold_4g2;
	src: url("fonts/Times-Bold_4g2.woff") format("woff");
}

@font-face {
	font-family: Times-Italic_4fu;
	src: url("fonts/Times-Italic_4fu.woff") format("woff");
}

@font-face {
	font-family: Times-Roman_4fq;
	src: url("fonts/Times-Roman_4fq.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg676Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg676" style="-webkit-user-select: none;"><object width="825" height="990" data="676/676.svg" type="image/svg+xml" id="pdf676" style="width:825px; height:990px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_676" class="t s1_676">Memory Order Model </span>
<span id="t2_676" class="t s2_676">B2-20 </span><span id="t3_676" class="t s1_676">Copyright © 1996-1998, 2000, 2004, 2005 ARM Limited. All rights reserved. </span><span id="t4_676" class="t s2_676">ARM DDI 0100I </span>
<span id="t5_676" class="t s3_676">B2.7 </span><span id="t6_676" class="t s3_676">Memory coherency and access issues </span>
<span id="t7_676" class="t s4_676">System designers and programmers need to consider all aspects of a design for overall system correctness. </span>
<span id="t8_676" class="t s4_676">This section outlines some of the problems and pitfalls faced, along with the necessary steps which should </span>
<span id="t9_676" class="t s4_676">be taken to ensure predictable system behavior. </span>
<span id="ta_676" class="t s5_676">Note </span>
<span id="tb_676" class="t s4_676">For the definitions in this section, a return from an exception is defined to mean one of: </span>
<span id="tc_676" class="t s4_676">• </span><span id="td_676" class="t s4_676">Using a data-processing instruction with the S bit set, and the PC as the destination. </span>
<span id="te_676" class="t s4_676">• </span><span id="tf_676" class="t s4_676">Using the Load Multiple with Restore CPSR instruction. See </span><span id="tg_676" class="t s6_676">LDM (3) </span><span id="th_676" class="t s4_676">on page A4-40 for details. </span>
<span id="ti_676" class="t s4_676">• </span><span id="tj_676" class="t s4_676">Using an </span><span id="tk_676" class="t v0_676 s7_676">RFE </span><span id="tl_676" class="t s4_676">instruction. </span>
<span id="tm_676" class="t s8_676">B2.7.1 </span><span id="tn_676" class="t s8_676">Introduction to cache coherency </span>
<span id="to_676" class="t s4_676">When a cache and/or a write buffer is used, the system can hold multiple versions of the value of a memory </span>
<span id="tp_676" class="t s4_676">location. Possible physical locations for these values are main memory, write buffers and caches. If Harvard </span>
<span id="tq_676" class="t s4_676">caches are used, either or both of the instruction cache and the data cache can contain a value for the memory </span>
<span id="tr_676" class="t s4_676">location. In a multi-level cache, a cache line may only be present in some levels, having been overwritten or </span>
<span id="ts_676" class="t s4_676">evicted elsewhere. </span>
<span id="tt_676" class="t s4_676">Not all of these physical locations necessarily contain the value written to the memory location most </span>
<span id="tu_676" class="t s4_676">recently. The memory coherency problem is to ensure that when a memory location is read (either by a data </span>
<span id="tv_676" class="t s4_676">read or an instruction fetch), the value actually obtained is always the value that was written to the location </span>
<span id="tw_676" class="t s4_676">most recently. </span>
<span id="tx_676" class="t s4_676">In the ARM memory system architectures, some aspects of memory system coherency are required to be </span>
<span id="ty_676" class="t s4_676">provided automatically by the system. Other aspects are dealt with by memory coherency rules, which are </span>
<span id="tz_676" class="t s4_676">limitations on how programs must behave if memory coherency is to be maintained. The memory attribute </span>
<span id="t10_676" class="t s4_676">distinguishing </span><span id="t11_676" class="t s6_676">shared </span><span id="t12_676" class="t s4_676">and </span><span id="t13_676" class="t s6_676">non-shared </span><span id="t14_676" class="t s4_676">memory, as defined in </span><span id="t15_676" class="t s6_676">ARMv6 memory attributes - introduction </span><span id="t16_676" class="t s4_676">on </span>
<span id="t17_676" class="t s4_676">page B2-8 for ARMv6 is designed to provide information on coherency needs, allowing implementations </span>
<span id="t18_676" class="t s4_676">to maintain overall correctness, for example, allowing an implementation to enforce a non-cacheable policy </span>
<span id="t19_676" class="t s4_676">on a region of memory marked as shared cacheable where snooping is not provided. The behavior of a </span>
<span id="t1a_676" class="t s4_676">program that breaks a memory coherency rule is </span><span id="t1b_676" class="t s9_676">UNPREDICTABLE</span><span id="t1c_676" class="t s4_676">. Address mapping and caches require </span>
<span id="t1d_676" class="t s4_676">careful management to ensure memory coherency at all times. Cache and write buffer management typically </span>
<span id="t1e_676" class="t s4_676">requires a sequence containing one or more of the following: </span>
<span id="t1f_676" class="t s4_676">• </span><span id="t1g_676" class="t s4_676">cleaning the data cache if it is a write-back cache </span>
<span id="t1h_676" class="t s4_676">• </span><span id="t1i_676" class="t s4_676">invalidating the data cache </span>
<span id="t1j_676" class="t s4_676">• </span><span id="t1k_676" class="t s4_676">invalidating the instruction cache </span>
<span id="t1l_676" class="t s4_676">• </span><span id="t1m_676" class="t s4_676">draining the write buffer </span>
<span id="t1n_676" class="t s4_676">• </span><span id="t1o_676" class="t s4_676">performing a prefetch flush on the instruction pipeline. </span>
<span id="t1p_676" class="t s4_676">• </span><span id="t1q_676" class="t s4_676">flushing branch prediction logic (branch target buffers). </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
